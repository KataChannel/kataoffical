<mat-drawer-container class="!w-screen !h-screen" autosize>
  <mat-drawer #drawer mode="side" position="start">
    <div class="relative h-full flex flex-col space-y-2">
      <a [href]="'admin/profile'" class="relative flex flex-col space-y-2 p-2">
        <img [src]="logoImage" class="m-auto max-h-20 max-w-20 object-fill" alt="Logo">
      </a>
      <div class="relative h-full overflow-auto p-2">
        <app-treemenu [ListMenu]="ListMenu"></app-treemenu>
      </div>
      <div class="relative w-full justify-between flex flex-row space-x-2 items-center p-2">
        <div class="flex flex-row space-x-2">
          <img [src]="User?.avatar||logoImage" alt="Avatar" class="max-w-14 max-h-14 object-cover rounded-full">
          <div class="flex flex-col truncate">
            <div class="font-bold">{{User?.Hoten}}</div>
            <div class="italic text-xs truncate">{{User?.Vitri}}</div>
            <div class="italic text-xs truncate">{{User?.email}}</div>
            <div class="italic text-[8px]">{{version}}</div>
          </div>
        </div>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <a [routerLink]="['/admin/profile']" mat-menu-item>
            <mat-icon>account_circle</mat-icon>
            <span>Profile</span>
          </a>
          <a [routerLink]="['/admin/account']" mat-menu-item>
            <mat-icon>account_circle</mat-icon>
            <span>Account</span>
          </a>
          <button mat-menu-item>
            <mat-icon>settings</mat-icon>
            <span>Settings</span>
          </button>
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
          </button>
        </mat-menu>
      </div>
    </div>
  </mat-drawer>
  <div class="relative flex flex-col w-full h-full primary">
    <div class="relative hidden lg:flex flex-row space-x-2 justify-between items-center p-1 bg-[#3154A1]">
      <div class="flex flex-row space-x-2 items-center">
        <button mat-icon-button (click)="drawer.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
        <button mat-icon-button><mat-icon>search</mat-icon></button>
      </div>
      <div class="flex flex-row space-x-2 items-center">
        <button mat-icon-button (click)="ClearCache()">
          <mat-icon>cached</mat-icon>
        </button>
        <button mat-icon-button (click)="drawer1.toggle()">
          <mat-icon>dashboard</mat-icon>
        </button>
        <button mat-icon-button (click)="drawer1.toggle()">
          <mat-icon>notifications</mat-icon>
        </button>
        <button mat-icon-button (click)="drawer1.toggle()">
          <mat-icon>chat</mat-icon>
        </button>
        <button mat-icon-button [matMenuTriggerFor]="menu1">
          <mat-icon>account_circle</mat-icon>
        </button>
        <mat-menu #menu1="matMenu">
          <div class="flex flex-row space-x-2 items-center p-4 w-full">
            <!-- <img [src]="User?.avatar||'images/logo-full-vuong.svg'" alt="Avatar" class="max-w-14 max-h-14 object-cover rounded-full"> -->
            <div class="flex flex-col">
              <div class="font-bold">{{User?.Hoten}}</div>
              <div class="italic text-xs">{{User?.Vitri}}</div>
              <div class="italic text-xs">{{User?.email}}</div>
            </div>
          </div>
          <a [href]="'/admin/profile'" mat-menu-item>Thông Tin</a>
          <button mat-menu-item>Cài Đặt</button>
          <button mat-menu-item (click)="logout()">Đăng Xuất</button>
        </mat-menu>
      </div>
    </div>
    <div class="lg:hidden relative flex flex-row space-x-2 justify-between items-center p-1 bg-[#3154A1]">
      <button mat-icon-button (click)="drawer.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <a [href]="'admin/profile'" class="relative flex flex-col space-y-2 p-2 text-white">
        <img [src]="logoImage" class="h-10 object-fill" alt="Logo">
      </a>
      <button mat-icon-button (click)="isShowBottomBar = !isShowBottomBar">
        <mat-icon>more_vert</mat-icon>
      </button>
    </div>
    <div *ngIf="isShowBottomBar" class="lg:hidden relative flex flex-row gap-2 p-2  bg-blue-100/50 border-b border-blue-600"> 
      <div class="w-full flex flex-row space-x-2 justify-center items-center">
        <button color="primary" mat-icon-button (click)="ClearCache()">
          <mat-icon>cached</mat-icon>
        </button>
        <button color="primary" mat-icon-button (click)="drawer1.toggle()">
          <mat-icon>dashboard</mat-icon>
        </button>
        <button color="primary" mat-icon-button (click)="drawer1.toggle()">
          <mat-icon>notifications</mat-icon>
        </button>
        <button color="primary" mat-icon-button (click)="drawer1.toggle()">
          <mat-icon>chat</mat-icon>
        </button>
        <button color="primary" mat-icon-button [matMenuTriggerFor]="menu1">
          <mat-icon>account_circle</mat-icon>
        </button>
        <mat-menu #menu1="matMenu">
          <div class="flex flex-row space-x-2 items-center p-4 w-full">
            <!-- <img [src]="User?.avatar||'images/logo-full-vuong.svg'" alt="Avatar" class="max-w-14 max-h-14 object-cover rounded-full"> -->
            <div class="flex flex-col truncate">
              <div class="font-bold">{{User?.Hoten}}</div>
              <div class="italic text-xs">{{User?.Vitri}}</div>
              <div class="italic text-xs">{{User?.email}}</div>
            </div>
          </div>
          <a [href]="'/admin/profile'" mat-menu-item>Thông Tin</a>
          <button mat-menu-item>Cài Đặt</button>
          <button mat-menu-item (click)="logout()">Đăng Xuất</button>
        </mat-menu>
      </div>
    </div>
    <router-outlet></router-outlet>
  </div>


  <mat-drawer #drawer1 class="{{isFullscreen?'!w-screen':'!w-1/3'}}" mode="over" position="end">
    <div class="relative h-full flex flex-col space-y-2">
      <!-- <app-conversation></app-conversation> -->
    </div>
  </mat-drawer>
</mat-drawer-container>
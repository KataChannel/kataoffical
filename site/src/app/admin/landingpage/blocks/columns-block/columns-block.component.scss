.columns-block {
    display: flex;
    border: 1px dashed #c3dafe; // Viền màu xanh nhạt hơn cho columns block
    padding: 10px;
    min-height: 100px;
    background-color: rgba(200, 200, 255, 0.03); // Nền nhẹ hơn nữa
    position: relative; // Cần để chứa các cột con
  }
  
  .column-container {
    border: 1px dashed #e0e0e0; // Viền cho từng cột
    padding: 8px; // Padding bên trong cột
    min-height: 80px;
    display: flex;
    flex-direction: column;
    position: relative; // Cho placeholder và các phần tử con
    background-color: #fff; // Nền trắng cho cột
    transition: background-color 0.2s ease-in-out; // Hiệu ứng khi kéo qua
  
    // Style khi kéo một item QUA cột này
    &.cdk-drop-list-dragging {
       background-color: rgba(0, 123, 255, 0.05);
    }
  }
  
  .column-content {
     flex-grow: 1; // Để nội dung chiếm hết không gian cột
     min-height: 60px; // Chiều cao tối thiểu cho nội dung để drop list hoạt động tốt
  }
  
  
  // --- CSS cho khối con bên trong cột ---
  .nested-block-wrapper {
     position: relative;
     border: 1px dashed transparent;
     padding: 5px;
     margin-bottom: 8px; // Tăng khoảng cách giữa các khối con
     padding-left: 25px; // Chừa chỗ cho drag handle con
     background-color: #fff; // Đảm bảo nền trắng
     cursor: pointer; // Đổi con trỏ
     transition: border-color 0.2s ease-in-out, background-color 0.2s ease-in-out;
  
  
     &:hover:not(.selected):not(.cdk-drag-preview):not(.cdk-drag-placeholder) {
        border-color: #ccc;
        background-color: #f8f9fa;
     }
  
     &.selected {
         border-color: #28a745; // Viền xanh lá cho khối con được chọn
         border-style: solid;
         border-width: 1px;
         background-color: rgba(40, 167, 69, 0.05);
         // Hiện actions và handle khi được chọn
         .nested-actions {
             display: inline-flex;
             opacity: 1;
         }
         .nested-drag-handle {
            visibility: visible;
            opacity: 1;
         }
     }
  
     // Hiện actions và handle khi hover (nếu chưa kéo)
      &:hover:not(.cdk-drag-dragging) {
          .nested-actions {
             display: inline-flex;
             opacity: 1;
          }
           .nested-drag-handle {
             visibility: visible;
             opacity: 1;
          }
      }
  }
  
  // Tay cầm kéo thả cho khối con
  .nested-drag-handle {
     position: absolute;
     left: 3px; // Gần mép trái hơn
     top: 50%;
     transform: translateY(-50%); // Căn giữa theo chiều dọc
     width: 18px;
     height: 18px;
     cursor: move;
     color: #aaa;
     display: flex;
     align-items: center;
     justify-content: center;
     visibility: hidden; // Ẩn mặc định
     opacity: 0;
     transition: opacity 0.2s ease-in-out, color 0.2s ease-in-out;
     z-index: 9; // Nằm trên wrapper nhưng dưới actions
  
     &:hover {
       color: #333;
     }
  }
  
  // Style cho nút actions của khối con
  .nested-actions {
      position: absolute;
      top: -8px;  // Điều chỉnh vị trí
      right: -4px; // Điều chỉnh vị trí
      background-color: #dc3545; // Màu đỏ cho xóa
      border-radius: 3px;
      padding: 2px 4px;
      display: none; // Ẩn mặc định
      opacity: 0;
      transition: opacity 0.2s ease-in-out;
      z-index: 10;
      box-shadow: 0 1px 2px rgba(0,0,0,0.2);
      cursor: default; // Con trỏ mặc định trên container actions
  
      button {
         background: none;
         border: none;
         color: white;
         cursor: pointer; // Con trỏ trên nút
         font-size: 12px;
         padding: 0 2px;
         line-height: 1;
  
         &:hover {
           opacity: 0.8;
         }
      }
  }
  
  
  // Ghi đè style cho placeholder của khối con
  // Sử dụng class .block-placeholder chung nhưng có thể thêm class con nếu cần tùy chỉnh thêm
  .block-placeholder.nested-placeholder {
      min-height: 40px;
      margin-top: 5px;
      margin-bottom: 8px; // Giống margin của nested-block-wrapper
      padding-left: 25px; // Giống padding của nested-block-wrapper
      background-color: #f0f0f0; // Nền khác một chút
  }
  
  .unknown-block.nested {
      font-size: 0.9em;
      padding: 8px;
  }
  
  // Placeholder cho cột rỗng
  .empty-column-placeholder {
    text-align: center;
    color: #aaa;
    font-style: italic;
    padding: 20px 5px; // Giảm padding ngang
    border: 2px dashed #ddd;
    margin-top: 5px;
    border-radius: 4px; // Bo góc nhẹ
    font-size: 0.9em; // Chữ nhỏ hơn
    flex-grow: 1; // Chiếm không gian còn lại trong cột
    display: flex; // Căn giữa text
    align-items: center; // Căn giữa text
    justify-content: center; // Căn giữa text
    min-height: 60px; // Chiều cao tối thiểu
  }
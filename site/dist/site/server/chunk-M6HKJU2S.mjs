import './polyfills.server.mjs';
import{a as us,b as Br,c as Lr,d as ds,h as Dr,m as Pr,n as Ir}from"./chunk-Q7G3UJA2.mjs";import{e as Nr}from"./chunk-2WH4WIRM.mjs";import{K as Fr,L as hs,f as Or,p as Tr,u as Rr,w as Ar}from"./chunk-V4V65LHO.mjs";import{$ as fr,Bb as br,Cb as rs,Ia as mr,Nb as Cr,Pb as vr,Qb as Er,Wb as mt,Xb as Ve,Yb as xr,ac as wr,ad as Sr,ec as ns,f as me,fa as hr,fc as is,gb as We,ia as ts,ib as _r,jc as os,ka as M,kc as as,lc as cs,pa as ur,q as lr,qa as dr,rc as kr,sb as ss,ta as je,tc as ls,ua as pr,ub as pt,vc as fs,wb as gr,yb as yr}from"./chunk-LD2AVDEF.mjs";import{a as T,b as se,c as C,e as x,f as Xi,g as P}from"./chunk-RIAI3ORJ.mjs";var jr=x((bl,qr)=>{"use strict";var we=C("fs"),Ur=C("url"),ao=C("child_process").spawn;qr.exports=_s;_s.XMLHttpRequest=_s;function _s(s){"use strict";s=s||{};var t=this,e=C("http"),r=C("https"),n,i,o={},l=!1,f={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},u=Object.assign({},f),a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],c=["TRACE","TRACK","CONNECT"],h=!1,g=!1,y=!1,d={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.response=Buffer.alloc(0),this.status=null,this.statusText=null;var m=function(p){return l||p&&a.indexOf(p.toLowerCase())===-1},v=function(p){return p&&c.indexOf(p)===-1};this.open=function(p,_,A,k,D){if(this.abort(),g=!1,y=!1,!v(p))throw new Error("SecurityError: Request method not allowed");o={method:p,url:_.toString(),async:typeof A!="boolean"?!0:A,user:k||null,password:D||null},E(this.OPENED)},this.setDisableHeaderCheck=function(p){l=p},this.setRequestHeader=function(p,_){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(!m(p))return console.warn('Refused to set unsafe header "'+p+'"'),!1;if(h)throw new Error("INVALID_STATE_ERR: send flag is true");return u[p]=_,!0},this.getResponseHeader=function(p){return typeof p=="string"&&this.readyState>this.OPENED&&i.headers[p.toLowerCase()]&&!g?i.headers[p.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||g)return"";var p="";for(var _ in i.headers)_!=="set-cookie"&&_!=="set-cookie2"&&(p+=_+": "+i.headers[_]+`\r
`);return p.substr(0,p.length-2)},this.getRequestHeader=function(p){return typeof p=="string"&&u[p]?u[p]:""},this.send=function(p){if(this.readyState!=this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(h)throw new Error("INVALID_STATE_ERR: send has already been called");var _=!1,A=!1,k=Ur.parse(o.url),D;switch(k.protocol){case"https:":_=!0;case"http:":D=k.hostname;break;case"file:":A=!0;break;case void 0:case"":D="localhost";break;default:throw new Error("Protocol not supported.")}if(A){if(o.method!=="GET")throw new Error("XMLHttpRequest: Only GET method is supported");if(o.async)we.readFile(unescape(k.pathname),function(j,pe){j?t.handleError(j,j.errno||-1):(t.status=200,t.responseText=pe.toString("utf8"),t.response=pe,E(t.DONE))});else try{this.response=we.readFileSync(unescape(k.pathname)),this.responseText=this.response.toString("utf8"),this.status=200,E(t.DONE)}catch(j){this.handleError(j,j.errno||-1)}return}var q=k.port||(_?443:80),K=k.pathname+(k.search?k.search:"");if(u.Host=D,_&&q===443||q===80||(u.Host+=":"+k.port),o.user){typeof o.password>"u"&&(o.password="");var Kt=new Buffer(o.user+":"+o.password);u.Authorization="Basic "+Kt.toString("base64")}if(o.method==="GET"||o.method==="HEAD")p=null;else if(p){u["Content-Length"]=Buffer.isBuffer(p)?p.length:Buffer.byteLength(p);var Vi=Object.keys(u);Vi.some(function(j){return j.toLowerCase()==="content-type"})||(u["Content-Type"]="text/plain;charset=UTF-8")}else o.method==="POST"&&(u["Content-Length"]=0);var $i=s.agent||!1,ee={host:D,port:q,path:K,method:o.method,headers:u,agent:$i};if(_&&(ee.pfx=s.pfx,ee.key=s.key,ee.passphrase=s.passphrase,ee.cert=s.cert,ee.ca=s.ca,ee.ciphers=s.ciphers,ee.rejectUnauthorized=s.rejectUnauthorized!==!1),g=!1,o.async){var Jt=_?r.request:e.request;h=!0,t.dispatchEvent("readystatechange");var Qt=function(j){if(i=j,i.statusCode===302||i.statusCode===303||i.statusCode===307){o.url=i.headers.location;var pe=Ur.parse(o.url);D=pe.hostname;var le={hostname:pe.hostname,port:pe.port,path:pe.path,method:i.statusCode===303?"GET":o.method,headers:u};_&&(le.pfx=s.pfx,le.key=s.key,le.passphrase=s.passphrase,le.cert=s.cert,le.ca=s.ca,le.ciphers=s.ciphers,le.rejectUnauthorized=s.rejectUnauthorized!==!1),n=Jt(le,Qt).on("error",Zt),n.end();return}E(t.HEADERS_RECEIVED),t.status=i.statusCode,i.on("data",function(dt){if(dt){var Yi=Buffer.from(dt);t.response=Buffer.concat([t.response,Yi])}h&&E(t.LOADING)}),i.on("end",function(){h&&(h=!1,E(t.DONE),t.responseText=t.response.toString("utf8"))}),i.on("error",function(dt){t.handleError(dt)})},Zt=function(j){if(n.reusedSocket&&j.code==="ECONNRESET")return Jt(ee,Qt).on("error",Zt);t.handleError(j)};n=Jt(ee,Qt).on("error",Zt),s.autoUnref&&n.on("socket",j=>{j.unref()}),p&&n.write(p),n.end(),t.dispatchEvent("loadstart")}else{var Ue=".node-xmlhttprequest-content-"+process.pid,qe=".node-xmlhttprequest-sync-"+process.pid;we.writeFileSync(qe,"","utf8");for(var Hi="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(_?"s":"")+".request;var options = "+JSON.stringify(ee)+";var responseText = '';var responseData = Buffer.alloc(0);var req = doRequest(options, function(response) {response.on('data', function(chunk) {  var data = Buffer.from(chunk);  responseText += data.toString('utf8');  responseData = Buffer.concat([responseData, data]);});response.on('end', function() {fs.writeFileSync('"+Ue+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText, data: responseData.toString('base64')}}), 'utf8');fs.unlinkSync('"+qe+"');});response.on('error', function(error) {fs.writeFileSync('"+Ue+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+qe+"');});}).on('error', function(error) {fs.writeFileSync('"+Ue+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');fs.unlinkSync('"+qe+"');});"+(p?"req.write('"+JSON.stringify(p).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",Gi=ao(process.argv[0],["-e",Hi]),Gc;we.existsSync(qe););if(t.responseText=we.readFileSync(Ue,"utf8"),Gi.stdin.end(),we.unlinkSync(Ue),t.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var zi=JSON.parse(t.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,""));t.handleError(zi,503)}else{t.status=t.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1");var es=JSON.parse(t.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"));i={statusCode:t.status,headers:es.data.headers},t.responseText=es.data.text,t.response=Buffer.from(es.data.data,"base64"),E(t.DONE,!0)}}},this.handleError=function(p,_){this.status=_||0,this.statusText=p,this.responseText=p.stack,g=!0,E(this.DONE)},this.abort=function(){n&&(n.abort(),n=null),u=Object.assign({},f),this.responseText="",this.responseXML="",this.response=Buffer.alloc(0),g=y=!0,this.readyState!==this.UNSENT&&(this.readyState!==this.OPENED||h)&&this.readyState!==this.DONE&&(h=!1,E(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(p,_){p in d||(d[p]=[]),d[p].push(_)},this.removeEventListener=function(p,_){p in d&&(d[p]=d[p].filter(function(A){return A!==_}))},this.dispatchEvent=function(p){if(typeof t["on"+p]=="function"&&(this.readyState===this.DONE&&o.async?setTimeout(function(){t["on"+p]()},0):t["on"+p]()),p in d)for(let _=0,A=d[p].length;_<A;_++)this.readyState===this.DONE?setTimeout(function(){d[p][_].call(t)},0):d[p][_].call(t)};var E=function(p){if(!(t.readyState===p||t.readyState===t.UNSENT&&y)&&(t.readyState=p,(o.async||t.readyState<t.OPENED||t.readyState===t.DONE)&&t.dispatchEvent("readystatechange"),t.readyState===t.DONE)){let _;y?_="abort":g?_="error":_="load",t.dispatchEvent(_),t.dispatchEvent("loadend")}}}});var vt=x((Ll,tn)=>{"use strict";var ke=1e3,Se=ke*60,Oe=Se*60,_e=Oe*24,mo=_e*7,_o=_e*365.25;tn.exports=function(s,t){t=t||{};var e=typeof s;if(e==="string"&&s.length>0)return go(s);if(e==="number"&&isFinite(s))return t.long?bo(s):yo(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function go(s){if(s=String(s),!(s.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(t){var e=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return e*_o;case"weeks":case"week":case"w":return e*mo;case"days":case"day":case"d":return e*_e;case"hours":case"hour":case"hrs":case"hr":case"h":return e*Oe;case"minutes":case"minute":case"mins":case"min":case"m":return e*Se;case"seconds":case"second":case"secs":case"sec":case"s":return e*ke;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function yo(s){var t=Math.abs(s);return t>=_e?Math.round(s/_e)+"d":t>=Oe?Math.round(s/Oe)+"h":t>=Se?Math.round(s/Se)+"m":t>=ke?Math.round(s/ke)+"s":s+"ms"}function bo(s){var t=Math.abs(s);return t>=_e?Ct(s,t,_e,"day"):t>=Oe?Ct(s,t,Oe,"hour"):t>=Se?Ct(s,t,Se,"minute"):t>=ke?Ct(s,t,ke,"second"):s+" ms"}function Ct(s,t,e,r){var n=t>=e*1.5;return Math.round(s/e)+" "+r+(n?"s":"")}});var vs=x((Dl,sn)=>{"use strict";function Co(s){e.debug=e,e.default=e,e.coerce=f,e.disable=i,e.enable=n,e.enabled=o,e.humanize=vt(),e.destroy=u,Object.keys(s).forEach(a=>{e[a]=s[a]}),e.names=[],e.skips=[],e.formatters={};function t(a){let c=0;for(let h=0;h<a.length;h++)c=(c<<5)-c+a.charCodeAt(h),c|=0;return e.colors[Math.abs(c)%e.colors.length]}e.selectColor=t;function e(a){let c,h=null,g,y;function d(...m){if(!d.enabled)return;let v=d,E=Number(new Date),p=E-(c||E);v.diff=p,v.prev=c,v.curr=E,c=E,m[0]=e.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let _=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(k,D)=>{if(k==="%%")return"%";_++;let q=e.formatters[D];if(typeof q=="function"){let K=m[_];k=q.call(v,K),m.splice(_,1),_--}return k}),e.formatArgs.call(v,m),(v.log||e.log).apply(v,m)}return d.namespace=a,d.useColors=e.useColors(),d.color=e.selectColor(a),d.extend=r,d.destroy=e.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(g!==e.namespaces&&(g=e.namespaces,y=e.enabled(a)),y),set:m=>{h=m}}),typeof e.init=="function"&&e.init(d),d}function r(a,c){let h=e(this.namespace+(typeof c>"u"?":":c)+a);return h.log=this.log,h}function n(a){e.save(a),e.namespaces=a,e.names=[],e.skips=[];let c,h=(typeof a=="string"?a:"").split(/[\s,]+/),g=h.length;for(c=0;c<g;c++)h[c]&&(a=h[c].replace(/\*/g,".*?"),a[0]==="-"?e.skips.push(new RegExp("^"+a.slice(1)+"$")):e.names.push(new RegExp("^"+a+"$")))}function i(){let a=[...e.names.map(l),...e.skips.map(l).map(c=>"-"+c)].join(",");return e.enable(""),a}function o(a){if(a[a.length-1]==="*")return!0;let c,h;for(c=0,h=e.skips.length;c<h;c++)if(e.skips[c].test(a))return!1;for(c=0,h=e.names.length;c<h;c++)if(e.names[c].test(a))return!0;return!1}function l(a){return a.toString().substring(2,a.toString().length-2).replace(/\.\*\?$/,"*")}function f(a){return a instanceof Error?a.stack||a.message:a}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}sn.exports=Co});var rn=x((V,Et)=>{"use strict";V.formatArgs=Eo;V.save=xo;V.load=wo;V.useColors=vo;V.storage=ko();V.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();V.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function vo(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let s;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(s=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(s[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Eo(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+Et.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;s.splice(1,0,t,"color: inherit");let e=0,r=0;s[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(e++,n==="%c"&&(r=e))}),s.splice(r,0,t)}V.log=console.debug||console.log||(()=>{});function xo(s){try{s?V.storage.setItem("debug",s):V.storage.removeItem("debug")}catch{}}function wo(){let s;try{s=V.storage.getItem("debug")}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=process.env.DEBUG),s}function ko(){try{return localStorage}catch{}}Et.exports=vs()(V);var{formatters:So}=Et.exports;So.j=function(s){try{return JSON.stringify(s)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var on=x((Pl,nn)=>{"use strict";nn.exports=(s,t=process.argv)=>{let e=s.startsWith("-")?"":s.length===1?"-":"--",r=t.indexOf(e+s),n=t.indexOf("--");return r!==-1&&(n===-1||r<n)}});var xt=x((Il,cn)=>{"use strict";var Oo=C("os"),an=C("tty"),Y=on(),{env:F}=process,fe;Y("no-color")||Y("no-colors")||Y("color=false")||Y("color=never")?fe=0:(Y("color")||Y("colors")||Y("color=true")||Y("color=always"))&&(fe=1);"FORCE_COLOR"in F&&(F.FORCE_COLOR==="true"?fe=1:F.FORCE_COLOR==="false"?fe=0:fe=F.FORCE_COLOR.length===0?1:Math.min(parseInt(F.FORCE_COLOR,10),3));function Es(s){return s===0?!1:{level:s,hasBasic:!0,has256:s>=2,has16m:s>=3}}function xs(s,t){if(fe===0)return 0;if(Y("color=16m")||Y("color=full")||Y("color=truecolor"))return 3;if(Y("color=256"))return 2;if(s&&!t&&fe===void 0)return 0;let e=fe||0;if(F.TERM==="dumb")return e;if(process.platform==="win32"){let r=Oo.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in F)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in F)||F.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in F)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(F.TEAMCITY_VERSION)?1:0;if(F.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in F){let r=parseInt((F.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(F.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(F.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(F.TERM)||"COLORTERM"in F?1:e}function To(s){let t=xs(s,s&&s.isTTY);return Es(t)}cn.exports={supportsColor:To,stdout:Es(xs(!0,an.isatty(1))),stderr:Es(xs(!0,an.isatty(2)))}});var fn=x((N,kt)=>{"use strict";var Ro=C("tty"),wt=C("util");N.init=Po;N.log=Bo;N.formatArgs=Fo;N.save=Lo;N.load=Do;N.useColors=Ao;N.destroy=wt.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");N.colors=[6,2,3,4,5,1];try{let s=xt();s&&(s.stderr||s).level>=2&&(N.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}N.inspectOpts=Object.keys(process.env).filter(s=>/^debug_/i.test(s)).reduce((s,t)=>{let e=t.substring(6).toLowerCase().replace(/_([a-z])/g,(n,i)=>i.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),s[e]=r,s},{});function Ao(){return"colors"in N.inspectOpts?!!N.inspectOpts.colors:Ro.isatty(process.stderr.fd)}function Fo(s){let{namespace:t,useColors:e}=this;if(e){let r=this.color,n="\x1B[3"+(r<8?r:"8;5;"+r),i=`  ${n};1m${t} \x1B[0m`;s[0]=i+s[0].split(`
`).join(`
`+i),s.push(n+"m+"+kt.exports.humanize(this.diff)+"\x1B[0m")}else s[0]=No()+t+" "+s[0]}function No(){return N.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Bo(...s){return process.stderr.write(wt.formatWithOptions(N.inspectOpts,...s)+`
`)}function Lo(s){s?process.env.DEBUG=s:delete process.env.DEBUG}function Do(){return process.env.DEBUG}function Po(s){s.inspectOpts={};let t=Object.keys(N.inspectOpts);for(let e=0;e<t.length;e++)s.inspectOpts[t[e]]=N.inspectOpts[t[e]]}kt.exports=vs()(N);var{formatters:ln}=kt.exports;ln.o=function(s){return this.inspectOpts.colors=this.useColors,wt.inspect(s,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};ln.O=function(s){return this.inspectOpts.colors=this.useColors,wt.inspect(s,this.inspectOpts)}});var ge=x((Ml,ws)=>{"use strict";typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?ws.exports=rn():ws.exports=fn()});var Cn=x((nf,bn)=>{"use strict";var{Duplex:jo}=C("stream");function gn(s){s.emit("close")}function Wo(){!this.destroyed&&this._writableState.finished&&this.destroy()}function yn(s){this.removeListener("error",yn),this.destroy(),this.listenerCount("error")===0&&this.emit("error",s)}function Vo(s,t){let e=!0,r=new jo(se(T({},t),{autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1}));return s.on("message",function(i,o){let l=!o&&r._readableState.objectMode?i.toString():i;r.push(l)||s.pause()}),s.once("error",function(i){r.destroyed||(e=!1,r.destroy(i))}),s.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(n,i){if(s.readyState===s.CLOSED){i(n),process.nextTick(gn,r);return}let o=!1;s.once("error",function(f){o=!0,i(f)}),s.once("close",function(){o||i(n),process.nextTick(gn,r)}),e&&s.terminate()},r._final=function(n){if(s.readyState===s.CONNECTING){s.once("open",function(){r._final(n)});return}s._socket!==null&&(s._socket._writableState.finished?(n(),r._readableState.endEmitted&&r.destroy()):(s._socket.once("finish",function(){n()}),s.close()))},r._read=function(){s.isPaused&&s.resume()},r._write=function(n,i,o){if(s.readyState===s.CONNECTING){s.once("open",function(){r._write(n,i,o)});return}s.send(n,o)},r.on("end",Wo),r.on("error",yn),r}bn.exports=Vo});var he=x((af,vn)=>{"use strict";vn.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Je=x((cf,Tt)=>{"use strict";var{EMPTY_BUFFER:$o}=he(),Os=Buffer[Symbol.species];function Ho(s,t){if(s.length===0)return $o;if(s.length===1)return s[0];let e=Buffer.allocUnsafe(t),r=0;for(let n=0;n<s.length;n++){let i=s[n];e.set(i,r),r+=i.length}return r<t?new Os(e.buffer,e.byteOffset,r):e}function En(s,t,e,r,n){for(let i=0;i<n;i++)e[r+i]=s[i]^t[i&3]}function xn(s,t){for(let e=0;e<s.length;e++)s[e]^=t[e&3]}function Go(s){return s.length===s.buffer.byteLength?s.buffer:s.buffer.slice(s.byteOffset,s.byteOffset+s.length)}function Ts(s){if(Ts.readOnly=!0,Buffer.isBuffer(s))return s;let t;return s instanceof ArrayBuffer?t=new Os(s):ArrayBuffer.isView(s)?t=new Os(s.buffer,s.byteOffset,s.byteLength):(t=Buffer.from(s),Ts.readOnly=!1),t}Tt.exports={concat:Ho,mask:En,toArrayBuffer:Go,toBuffer:Ts,unmask:xn};if(!process.env.WS_NO_BUFFER_UTIL)try{let s=C("bufferutil");Tt.exports.mask=function(t,e,r,n,i){i<48?En(t,e,r,n,i):s.mask(t,e,r,n,i)},Tt.exports.unmask=function(t,e){t.length<32?xn(t,e):s.unmask(t,e)}}catch{}});var Sn=x((lf,kn)=>{"use strict";var wn=Symbol("kDone"),Rs=Symbol("kRun"),As=class{constructor(t){this[wn]=()=>{this.pending--,this[Rs]()},this.concurrency=t||1/0,this.jobs=[],this.pending=0}add(t){this.jobs.push(t),this[Rs]()}[Rs](){if(this.pending!==this.concurrency&&this.jobs.length){let t=this.jobs.shift();this.pending++,t(this[wn])}}};kn.exports=As});var et=x((ff,An)=>{"use strict";var Qe=C("zlib"),On=Je(),zo=Sn(),{kStatusCode:Tn}=he(),Yo=Buffer[Symbol.species],Xo=Buffer.from([0,0,255,255]),Ft=Symbol("permessage-deflate"),oe=Symbol("total-length"),Ze=Symbol("callback"),ue=Symbol("buffers"),At=Symbol("error"),Rt,Fs=class{constructor(t,e,r){if(this._maxPayload=r|0,this._options=t||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!e,this._deflate=null,this._inflate=null,this.params=null,!Rt){let n=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Rt=new zo(n)}}static get extensionName(){return"permessage-deflate"}offer(){let t={};return this._options.serverNoContextTakeover&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(t.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(t.client_max_window_bits=!0),t}accept(t){return t=this.normalizeParams(t),this.params=this._isServer?this.acceptAsServer(t):this.acceptAsClient(t),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let t=this._deflate[Ze];this._deflate.close(),this._deflate=null,t&&t(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(t){let e=this._options,r=t.find(n=>!(e.serverNoContextTakeover===!1&&n.server_no_context_takeover||n.server_max_window_bits&&(e.serverMaxWindowBits===!1||typeof e.serverMaxWindowBits=="number"&&e.serverMaxWindowBits>n.server_max_window_bits)||typeof e.clientMaxWindowBits=="number"&&!n.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return e.serverNoContextTakeover&&(r.server_no_context_takeover=!0),e.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof e.serverMaxWindowBits=="number"&&(r.server_max_window_bits=e.serverMaxWindowBits),typeof e.clientMaxWindowBits=="number"?r.client_max_window_bits=e.clientMaxWindowBits:(r.client_max_window_bits===!0||e.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(t){let e=t[0];if(this._options.clientNoContextTakeover===!1&&e.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!e.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(e.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&e.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return e}normalizeParams(t){return t.forEach(e=>{Object.keys(e).forEach(r=>{let n=e[r];if(n.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(n=n[0],r==="client_max_window_bits"){if(n!==!0){let i=+n;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${n}`);n=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${n}`)}else if(r==="server_max_window_bits"){let i=+n;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${r}": ${n}`);n=i}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(n!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${n}`)}else throw new Error(`Unknown parameter "${r}"`);e[r]=n})}),t}decompress(t,e,r){Rt.add(n=>{this._decompress(t,e,(i,o)=>{n(),r(i,o)})})}compress(t,e,r){Rt.add(n=>{this._compress(t,e,(i,o)=>{n(),r(i,o)})})}_decompress(t,e,r){let n=this._isServer?"client":"server";if(!this._inflate){let i=`${n}_max_window_bits`,o=typeof this.params[i]!="number"?Qe.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=Qe.createInflateRaw(se(T({},this._options.zlibInflateOptions),{windowBits:o})),this._inflate[Ft]=this,this._inflate[oe]=0,this._inflate[ue]=[],this._inflate.on("error",Jo),this._inflate.on("data",Rn)}this._inflate[Ze]=r,this._inflate.write(t),e&&this._inflate.write(Xo),this._inflate.flush(()=>{let i=this._inflate[At];if(i){this._inflate.close(),this._inflate=null,r(i);return}let o=On.concat(this._inflate[ue],this._inflate[oe]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[oe]=0,this._inflate[ue]=[],e&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,o)})}_compress(t,e,r){let n=this._isServer?"server":"client";if(!this._deflate){let i=`${n}_max_window_bits`,o=typeof this.params[i]!="number"?Qe.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=Qe.createDeflateRaw(se(T({},this._options.zlibDeflateOptions),{windowBits:o})),this._deflate[oe]=0,this._deflate[ue]=[],this._deflate.on("data",Ko)}this._deflate[Ze]=r,this._deflate.write(t),this._deflate.flush(Qe.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=On.concat(this._deflate[ue],this._deflate[oe]);e&&(i=new Yo(i.buffer,i.byteOffset,i.length-4)),this._deflate[Ze]=null,this._deflate[oe]=0,this._deflate[ue]=[],e&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,i)})}};An.exports=Fs;function Ko(s){this[ue].push(s),this[oe]+=s.length}function Rn(s){if(this[oe]+=s.length,this[Ft]._maxPayload<1||this[oe]<=this[Ft]._maxPayload){this[ue].push(s);return}this[At]=new RangeError("Max payload size exceeded"),this[At].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[At][Tn]=1009,this.removeListener("data",Rn),this.reset()}function Jo(s){this[Ft]._inflate=null,s[Tn]=1007,this[Ze](s)}});var tt=x((uf,Nt)=>{"use strict";var{isUtf8:Fn}=C("buffer"),Qo=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Zo(s){return s>=1e3&&s<=1014&&s!==1004&&s!==1005&&s!==1006||s>=3e3&&s<=4999}function Ns(s){let t=s.length,e=0;for(;e<t;)if((s[e]&128)===0)e++;else if((s[e]&224)===192){if(e+1===t||(s[e+1]&192)!==128||(s[e]&254)===192)return!1;e+=2}else if((s[e]&240)===224){if(e+2>=t||(s[e+1]&192)!==128||(s[e+2]&192)!==128||s[e]===224&&(s[e+1]&224)===128||s[e]===237&&(s[e+1]&224)===160)return!1;e+=3}else if((s[e]&248)===240){if(e+3>=t||(s[e+1]&192)!==128||(s[e+2]&192)!==128||(s[e+3]&192)!==128||s[e]===240&&(s[e+1]&240)===128||s[e]===244&&s[e+1]>143||s[e]>244)return!1;e+=4}else return!1;return!0}Nt.exports={isValidStatusCode:Zo,isValidUTF8:Ns,tokenChars:Qo};if(Fn)Nt.exports.isValidUTF8=function(s){return s.length<24?Ns(s):Fn(s)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let s=C("utf-8-validate");Nt.exports.isValidUTF8=function(t){return t.length<32?Ns(t):s(t)}}catch{}});var Is=x((df,Mn)=>{"use strict";var{Writable:ea}=C("stream"),Nn=et(),{BINARY_TYPES:ta,EMPTY_BUFFER:Bn,kStatusCode:sa,kWebSocket:ra}=he(),{concat:Bs,toArrayBuffer:na,unmask:ia}=Je(),{isValidStatusCode:oa,isValidUTF8:Ln}=tt(),Bt=Buffer[Symbol.species],X=0,Dn=1,Pn=2,In=3,Ls=4,Ds=5,Lt=6,Ps=class extends ea{constructor(t={}){super(),this._allowSynchronousEvents=t.allowSynchronousEvents!==void 0?t.allowSynchronousEvents:!0,this._binaryType=t.binaryType||ta[0],this._extensions=t.extensions||{},this._isServer=!!t.isServer,this._maxPayload=t.maxPayload|0,this._skipUTF8Validation=!!t.skipUTF8Validation,this[ra]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=X}_write(t,e,r){if(this._opcode===8&&this._state==X)return r();this._bufferedBytes+=t.length,this._buffers.push(t),this.startLoop(r)}consume(t){if(this._bufferedBytes-=t,t===this._buffers[0].length)return this._buffers.shift();if(t<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=new Bt(r.buffer,r.byteOffset+t,r.length-t),new Bt(r.buffer,r.byteOffset,t)}let e=Buffer.allocUnsafe(t);do{let r=this._buffers[0],n=e.length-t;t>=r.length?e.set(this._buffers.shift(),n):(e.set(new Uint8Array(r.buffer,r.byteOffset,t),n),this._buffers[0]=new Bt(r.buffer,r.byteOffset+t,r.length-t)),t-=r.length}while(t>0);return e}startLoop(t){this._loop=!0;do switch(this._state){case X:this.getInfo(t);break;case Dn:this.getPayloadLength16(t);break;case Pn:this.getPayloadLength64(t);break;case In:this.getMask();break;case Ls:this.getData(t);break;case Ds:case Lt:this._loop=!1;return}while(this._loop);this._errored||t()}getInfo(t){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if((e[0]&48)!==0){let n=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");t(n);return}let r=(e[0]&64)===64;if(r&&!this._extensions[Nn.extensionName]){let n=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(n);return}if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r){let n=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(n);return}if(!this._fragmented){let n=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");t(n);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let n=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");t(n);return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let n=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");t(n);return}if(r){let n=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");t(n);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let n=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");t(n);return}}else{let n=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");t(n);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked){let n=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");t(n);return}}else if(this._masked){let n=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");t(n);return}this._payloadLength===126?this._state=Dn:this._payloadLength===127?this._state=Pn:this.haveLength(t)}getPayloadLength16(t){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(t)}getPayloadLength64(t){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);if(r>Math.pow(2,21)-1){let n=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");t(n);return}this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength(t)}haveLength(t){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let e=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(e);return}this._masked?this._state=In:this._state=Ls}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Ls}getData(t){let e=Bn;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}e=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&ia(e,this._mask)}if(this._opcode>7){this.controlMessage(e,t);return}if(this._compressed){this._state=Ds,this.decompress(e,t);return}e.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(e)),this.dataMessage(t)}decompress(t,e){this._extensions[Nn.extensionName].decompress(t,this._fin,(n,i)=>{if(n)return e(n);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let o=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(o);return}this._fragments.push(i)}this.dataMessage(e),this._state===X&&this.startLoop(e)})}dataMessage(t){if(!this._fin){this._state=X;return}let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=Bs(r,e):this._binaryType==="arraybuffer"?n=na(Bs(r,e)):n=r,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=X):(this._state=Lt,setImmediate(()=>{this.emit("message",n,!0),this._state=X,this.startLoop(t)}))}else{let n=Bs(r,e);if(!this._skipUTF8Validation&&!Ln(n)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(i);return}this._state===Ds||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=X):(this._state=Lt,setImmediate(()=>{this.emit("message",n,!1),this._state=X,this.startLoop(t)}))}}controlMessage(t,e){if(this._opcode===8){if(t.length===0)this._loop=!1,this.emit("conclude",1005,Bn),this.end();else{let r=t.readUInt16BE(0);if(!oa(r)){let i=this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");e(i);return}let n=new Bt(t.buffer,t.byteOffset+2,t.length-2);if(!this._skipUTF8Validation&&!Ln(n)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(i);return}this._loop=!1,this.emit("conclude",r,n),this.end()}this._state=X;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",t),this._state=X):(this._state=Lt,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",t),this._state=X,this.startLoop(e)}))}createError(t,e,r,n,i){this._loop=!1,this._errored=!0;let o=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(o,this.createError),o.code=i,o[sa]=n,o}};Mn.exports=Ps});var Us=x((mf,jn)=>{"use strict";var{Duplex:pf}=C("stream"),{randomFillSync:aa}=C("crypto"),Un=et(),{EMPTY_BUFFER:ca}=he(),{isValidStatusCode:la}=tt(),{mask:qn,toBuffer:Re}=Je(),Z=Symbol("kByteLength"),fa=Buffer.alloc(4),Dt=8*1024,ye,Ae=Dt,Ms=class s{constructor(t,e,r){this._extensions=e||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=t,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(t,e){let r,n=!1,i=2,o=!1;e.mask&&(r=e.maskBuffer||fa,e.generateMask?e.generateMask(r):(Ae===Dt&&(ye===void 0&&(ye=Buffer.alloc(Dt)),aa(ye,0,Dt),Ae=0),r[0]=ye[Ae++],r[1]=ye[Ae++],r[2]=ye[Ae++],r[3]=ye[Ae++]),o=(r[0]|r[1]|r[2]|r[3])===0,i=6);let l;typeof t=="string"?(!e.mask||o)&&e[Z]!==void 0?l=e[Z]:(t=Buffer.from(t),l=t.length):(l=t.length,n=e.mask&&e.readOnly&&!o);let f=l;l>=65536?(i+=8,f=127):l>125&&(i+=2,f=126);let u=Buffer.allocUnsafe(n?l+i:i);return u[0]=e.fin?e.opcode|128:e.opcode,e.rsv1&&(u[0]|=64),u[1]=f,f===126?u.writeUInt16BE(l,2):f===127&&(u[2]=u[3]=0,u.writeUIntBE(l,4,6)),e.mask?(u[1]|=128,u[i-4]=r[0],u[i-3]=r[1],u[i-2]=r[2],u[i-1]=r[3],o?[u,t]:n?(qn(t,r,u,i,l),[u]):(qn(t,r,t,0,l),[u,t])):[u,t]}close(t,e,r,n){let i;if(t===void 0)i=ca;else{if(typeof t!="number"||!la(t))throw new TypeError("First argument must be a valid error code number");if(e===void 0||!e.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(t,0);else{let l=Buffer.byteLength(e);if(l>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+l),i.writeUInt16BE(t,0),typeof e=="string"?i.write(e,2):i.set(e,2)}}let o={[Z]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,i,!1,o,n]):this.sendFrame(s.frame(i,o),n)}ping(t,e,r){let n,i;if(typeof t=="string"?(n=Buffer.byteLength(t),i=!1):(t=Re(t),n=t.length,i=Re.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[Z]:n,fin:!0,generateMask:this._generateMask,mask:e,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,o,r]):this.sendFrame(s.frame(t,o),r)}pong(t,e,r){let n,i;if(typeof t=="string"?(n=Buffer.byteLength(t),i=!1):(t=Re(t),n=t.length,i=Re.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[Z]:n,fin:!0,generateMask:this._generateMask,mask:e,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,t,!1,o,r]):this.sendFrame(s.frame(t,o),r)}send(t,e,r){let n=this._extensions[Un.extensionName],i=e.binary?2:1,o=e.compress,l,f;if(typeof t=="string"?(l=Buffer.byteLength(t),f=!1):(t=Re(t),l=t.length,f=Re.readOnly),this._firstFragment?(this._firstFragment=!1,o&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(o=l>=n._threshold),this._compress=o):(o=!1,i=0),e.fin&&(this._firstFragment=!0),n){let u={[Z]:l,fin:e.fin,generateMask:this._generateMask,mask:e.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:f,rsv1:o};this._deflating?this.enqueue([this.dispatch,t,this._compress,u,r]):this.dispatch(t,this._compress,u,r)}else this.sendFrame(s.frame(t,{[Z]:l,fin:e.fin,generateMask:this._generateMask,mask:e.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:f,rsv1:!1}),r)}dispatch(t,e,r,n){if(!e){this.sendFrame(s.frame(t,r),n);return}let i=this._extensions[Un.extensionName];this._bufferedBytes+=r[Z],this._deflating=!0,i.compress(t,r.fin,(o,l)=>{if(this._socket.destroyed){let f=new Error("The socket was closed while data was being compressed");typeof n=="function"&&n(f);for(let u=0;u<this._queue.length;u++){let a=this._queue[u],c=a[a.length-1];typeof c=="function"&&c(f)}return}this._bufferedBytes-=r[Z],this._deflating=!1,r.readOnly=!1,this.sendFrame(s.frame(l,r),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let t=this._queue.shift();this._bufferedBytes-=t[3][Z],Reflect.apply(t[0],this,t.slice(1))}}enqueue(t){this._bufferedBytes+=t[3][Z],this._queue.push(t)}sendFrame(t,e){t.length===2?(this._socket.cork(),this._socket.write(t[0]),this._socket.write(t[1],e),this._socket.uncork()):this._socket.write(t[0],e)}};jn.exports=Ms});var Kn=x((_f,Xn)=>{"use strict";var{kForOnEventAttribute:st,kListener:qs}=he(),Wn=Symbol("kCode"),Vn=Symbol("kData"),$n=Symbol("kError"),Hn=Symbol("kMessage"),Gn=Symbol("kReason"),Fe=Symbol("kTarget"),zn=Symbol("kType"),Yn=Symbol("kWasClean"),ae=class{constructor(t){this[Fe]=null,this[zn]=t}get target(){return this[Fe]}get type(){return this[zn]}};Object.defineProperty(ae.prototype,"target",{enumerable:!0});Object.defineProperty(ae.prototype,"type",{enumerable:!0});var be=class extends ae{constructor(t,e={}){super(t),this[Wn]=e.code===void 0?0:e.code,this[Gn]=e.reason===void 0?"":e.reason,this[Yn]=e.wasClean===void 0?!1:e.wasClean}get code(){return this[Wn]}get reason(){return this[Gn]}get wasClean(){return this[Yn]}};Object.defineProperty(be.prototype,"code",{enumerable:!0});Object.defineProperty(be.prototype,"reason",{enumerable:!0});Object.defineProperty(be.prototype,"wasClean",{enumerable:!0});var Ne=class extends ae{constructor(t,e={}){super(t),this[$n]=e.error===void 0?null:e.error,this[Hn]=e.message===void 0?"":e.message}get error(){return this[$n]}get message(){return this[Hn]}};Object.defineProperty(Ne.prototype,"error",{enumerable:!0});Object.defineProperty(Ne.prototype,"message",{enumerable:!0});var rt=class extends ae{constructor(t,e={}){super(t),this[Vn]=e.data===void 0?null:e.data}get data(){return this[Vn]}};Object.defineProperty(rt.prototype,"data",{enumerable:!0});var ha={addEventListener(s,t,e={}){for(let n of this.listeners(s))if(!e[st]&&n[qs]===t&&!n[st])return;let r;if(s==="message")r=function(i,o){let l=new rt("message",{data:o?i:i.toString()});l[Fe]=this,Pt(t,this,l)};else if(s==="close")r=function(i,o){let l=new be("close",{code:i,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});l[Fe]=this,Pt(t,this,l)};else if(s==="error")r=function(i){let o=new Ne("error",{error:i,message:i.message});o[Fe]=this,Pt(t,this,o)};else if(s==="open")r=function(){let i=new ae("open");i[Fe]=this,Pt(t,this,i)};else return;r[st]=!!e[st],r[qs]=t,e.once?this.once(s,r):this.on(s,r)},removeEventListener(s,t){for(let e of this.listeners(s))if(e[qs]===t&&!e[st]){this.removeListener(s,e);break}}};Xn.exports={CloseEvent:be,ErrorEvent:Ne,Event:ae,EventTarget:ha,MessageEvent:rt};function Pt(s,t,e){typeof s=="object"&&s.handleEvent?s.handleEvent.call(s,e):s.call(t,e)}});var js=x((gf,Jn)=>{"use strict";var{tokenChars:nt}=tt();function te(s,t,e){s[t]===void 0?s[t]=[e]:s[t].push(e)}function ua(s){let t=Object.create(null),e=Object.create(null),r=!1,n=!1,i=!1,o,l,f=-1,u=-1,a=-1,c=0;for(;c<s.length;c++)if(u=s.charCodeAt(c),o===void 0)if(a===-1&&nt[u]===1)f===-1&&(f=c);else if(c!==0&&(u===32||u===9))a===-1&&f!==-1&&(a=c);else if(u===59||u===44){if(f===-1)throw new SyntaxError(`Unexpected character at index ${c}`);a===-1&&(a=c);let g=s.slice(f,a);u===44?(te(t,g,e),e=Object.create(null)):o=g,f=a=-1}else throw new SyntaxError(`Unexpected character at index ${c}`);else if(l===void 0)if(a===-1&&nt[u]===1)f===-1&&(f=c);else if(u===32||u===9)a===-1&&f!==-1&&(a=c);else if(u===59||u===44){if(f===-1)throw new SyntaxError(`Unexpected character at index ${c}`);a===-1&&(a=c),te(e,s.slice(f,a),!0),u===44&&(te(t,o,e),e=Object.create(null),o=void 0),f=a=-1}else if(u===61&&f!==-1&&a===-1)l=s.slice(f,c),f=a=-1;else throw new SyntaxError(`Unexpected character at index ${c}`);else if(n){if(nt[u]!==1)throw new SyntaxError(`Unexpected character at index ${c}`);f===-1?f=c:r||(r=!0),n=!1}else if(i)if(nt[u]===1)f===-1&&(f=c);else if(u===34&&f!==-1)i=!1,a=c;else if(u===92)n=!0;else throw new SyntaxError(`Unexpected character at index ${c}`);else if(u===34&&s.charCodeAt(c-1)===61)i=!0;else if(a===-1&&nt[u]===1)f===-1&&(f=c);else if(f!==-1&&(u===32||u===9))a===-1&&(a=c);else if(u===59||u===44){if(f===-1)throw new SyntaxError(`Unexpected character at index ${c}`);a===-1&&(a=c);let g=s.slice(f,a);r&&(g=g.replace(/\\/g,""),r=!1),te(e,l,g),u===44&&(te(t,o,e),e=Object.create(null),o=void 0),l=void 0,f=a=-1}else throw new SyntaxError(`Unexpected character at index ${c}`);if(f===-1||i||u===32||u===9)throw new SyntaxError("Unexpected end of input");a===-1&&(a=c);let h=s.slice(f,a);return o===void 0?te(t,h,e):(l===void 0?te(e,h,!0):r?te(e,l,h.replace(/\\/g,"")):te(e,l,h),te(t,o,e)),t}function da(s){return Object.keys(s).map(t=>{let e=s[t];return Array.isArray(e)||(e=[e]),e.map(r=>[t].concat(Object.keys(r).map(n=>{let i=r[n];return Array.isArray(i)||(i=[i]),i.map(o=>o===!0?n:`${n}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Jn.exports={format:da,parse:ua}});var Gs=x((Cf,ci)=>{"use strict";var pa=C("events"),ma=C("https"),_a=C("http"),ei=C("net"),ga=C("tls"),{randomBytes:ya,createHash:ba}=C("crypto"),{Duplex:yf,Readable:bf}=C("stream"),{URL:Ws}=C("url"),de=et(),Ca=Is(),va=Us(),{BINARY_TYPES:Qn,EMPTY_BUFFER:It,GUID:Ea,kForOnEventAttribute:Vs,kListener:xa,kStatusCode:wa,kWebSocket:U,NOOP:ti}=he(),{EventTarget:{addEventListener:ka,removeEventListener:Sa}}=Kn(),{format:Oa,parse:Ta}=js(),{toBuffer:Ra}=Je(),Aa=30*1e3,si=Symbol("kAborted"),$s=[8,13],ce=["CONNECTING","OPEN","CLOSING","CLOSED"],Fa=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,O=class s extends pa{constructor(t,e,r){super(),this._binaryType=Qn[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=It,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=s.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,t!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,e===void 0?e=[]:Array.isArray(e)||(typeof e=="object"&&e!==null?(r=e,e=[]):e=[e]),ri(this,t,e,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(t){Qn.includes(t)&&(this._binaryType=t,this._receiver&&(this._receiver._binaryType=t))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(t,e,r){let n=new Ca({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new va(t,this._extensions,r.generateMask),this._receiver=n,this._socket=t,n[U]=this,t[U]=this,n.on("conclude",La),n.on("drain",Da),n.on("error",Pa),n.on("message",Ia),n.on("ping",Ma),n.on("pong",Ua),t.setTimeout&&t.setTimeout(0),t.setNoDelay&&t.setNoDelay(),e.length>0&&t.unshift(e),t.on("close",ii),t.on("data",Ut),t.on("end",oi),t.on("error",ai),this._readyState=s.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=s.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[de.extensionName]&&this._extensions[de.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=s.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(t,e){if(this.readyState!==s.CLOSED){if(this.readyState===s.CONNECTING){$(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===s.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=s.CLOSING,this._sender.close(t,e,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),Aa)}}pause(){this.readyState===s.CONNECTING||this.readyState===s.CLOSED||(this._paused=!0,this._socket.pause())}ping(t,e,r){if(this.readyState===s.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(r=t,t=e=void 0):typeof e=="function"&&(r=e,e=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==s.OPEN){Hs(this,t,r);return}e===void 0&&(e=!this._isServer),this._sender.ping(t||It,e,r)}pong(t,e,r){if(this.readyState===s.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"?(r=t,t=e=void 0):typeof e=="function"&&(r=e,e=void 0),typeof t=="number"&&(t=t.toString()),this.readyState!==s.OPEN){Hs(this,t,r);return}e===void 0&&(e=!this._isServer),this._sender.pong(t||It,e,r)}resume(){this.readyState===s.CONNECTING||this.readyState===s.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(t,e,r){if(this.readyState===s.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"&&(r=e,e={}),typeof t=="number"&&(t=t.toString()),this.readyState!==s.OPEN){Hs(this,t,r);return}let n=T({binary:typeof t!="string",mask:!this._isServer,compress:!0,fin:!0},e);this._extensions[de.extensionName]||(n.compress=!1),this._sender.send(t||It,n,r)}terminate(){if(this.readyState!==s.CLOSED){if(this.readyState===s.CONNECTING){$(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=s.CLOSING,this._socket.destroy())}}};Object.defineProperty(O,"CONNECTING",{enumerable:!0,value:ce.indexOf("CONNECTING")});Object.defineProperty(O.prototype,"CONNECTING",{enumerable:!0,value:ce.indexOf("CONNECTING")});Object.defineProperty(O,"OPEN",{enumerable:!0,value:ce.indexOf("OPEN")});Object.defineProperty(O.prototype,"OPEN",{enumerable:!0,value:ce.indexOf("OPEN")});Object.defineProperty(O,"CLOSING",{enumerable:!0,value:ce.indexOf("CLOSING")});Object.defineProperty(O.prototype,"CLOSING",{enumerable:!0,value:ce.indexOf("CLOSING")});Object.defineProperty(O,"CLOSED",{enumerable:!0,value:ce.indexOf("CLOSED")});Object.defineProperty(O.prototype,"CLOSED",{enumerable:!0,value:ce.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(s=>{Object.defineProperty(O.prototype,s,{enumerable:!0})});["open","error","close","message"].forEach(s=>{Object.defineProperty(O.prototype,`on${s}`,{enumerable:!0,get(){for(let t of this.listeners(s))if(t[Vs])return t[xa];return null},set(t){for(let e of this.listeners(s))if(e[Vs]){this.removeListener(s,e);break}typeof t=="function"&&this.addEventListener(s,t,{[Vs]:!0})}})});O.prototype.addEventListener=ka;O.prototype.removeEventListener=Sa;ci.exports=O;function ri(s,t,e,r){let n=se(T({allowSynchronousEvents:!0,autoPong:!0,protocolVersion:$s[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10},r),{socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0});if(s._autoPong=n.autoPong,!$s.includes(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} (supported versions: ${$s.join(", ")})`);let i;if(t instanceof Ws)i=t;else try{i=new Ws(t)}catch{throw new SyntaxError(`Invalid URL: ${t}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),s._url=i.href;let o=i.protocol==="wss:",l=i.protocol==="ws+unix:",f;if(i.protocol!=="ws:"&&!o&&!l?f=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:l&&!i.pathname?f="The URL's pathname is empty":i.hash&&(f="The URL contains a fragment identifier"),f){let d=new SyntaxError(f);if(s._redirects===0)throw d;Mt(s,d);return}let u=o?443:80,a=ya(16).toString("base64"),c=o?ma.request:_a.request,h=new Set,g;if(n.createConnection=n.createConnection||(o?Ba:Na),n.defaultPort=n.defaultPort||u,n.port=i.port||u,n.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,n.headers=se(T({},n.headers),{"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":a,Connection:"Upgrade",Upgrade:"websocket"}),n.path=i.pathname+i.search,n.timeout=n.handshakeTimeout,n.perMessageDeflate&&(g=new de(n.perMessageDeflate!==!0?n.perMessageDeflate:{},!1,n.maxPayload),n.headers["Sec-WebSocket-Extensions"]=Oa({[de.extensionName]:g.offer()})),e.length){for(let d of e){if(typeof d!="string"||!Fa.test(d)||h.has(d))throw new SyntaxError("An invalid or duplicated subprotocol was specified");h.add(d)}n.headers["Sec-WebSocket-Protocol"]=e.join(",")}if(n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin),(i.username||i.password)&&(n.auth=`${i.username}:${i.password}`),l){let d=n.path.split(":");n.socketPath=d[0],n.path=d[1]}let y;if(n.followRedirects){if(s._redirects===0){s._originalIpc=l,s._originalSecure=o,s._originalHostOrSocketPath=l?n.socketPath:i.host;let d=r&&r.headers;if(r=se(T({},r),{headers:{}}),d)for(let[m,v]of Object.entries(d))r.headers[m.toLowerCase()]=v}else if(s.listenerCount("redirect")===0){let d=l?s._originalIpc?n.socketPath===s._originalHostOrSocketPath:!1:s._originalIpc?!1:i.host===s._originalHostOrSocketPath;(!d||s._originalSecure&&!o)&&(delete n.headers.authorization,delete n.headers.cookie,d||delete n.headers.host,n.auth=void 0)}n.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(n.auth).toString("base64")),y=s._req=c(n),s._redirects&&s.emit("redirect",s.url,y)}else y=s._req=c(n);n.timeout&&y.on("timeout",()=>{$(s,y,"Opening handshake has timed out")}),y.on("error",d=>{y===null||y[si]||(y=s._req=null,Mt(s,d))}),y.on("response",d=>{let m=d.headers.location,v=d.statusCode;if(m&&n.followRedirects&&v>=300&&v<400){if(++s._redirects>n.maxRedirects){$(s,y,"Maximum redirects exceeded");return}y.abort();let E;try{E=new Ws(m,t)}catch{let _=new SyntaxError(`Invalid URL: ${m}`);Mt(s,_);return}ri(s,E,e,r)}else s.emit("unexpected-response",y,d)||$(s,y,`Unexpected server response: ${d.statusCode}`)}),y.on("upgrade",(d,m,v)=>{if(s.emit("upgrade",d),s.readyState!==O.CONNECTING)return;y=s._req=null;let E=d.headers.upgrade;if(E===void 0||E.toLowerCase()!=="websocket"){$(s,m,"Invalid Upgrade header");return}let p=ba("sha1").update(a+Ea).digest("base64");if(d.headers["sec-websocket-accept"]!==p){$(s,m,"Invalid Sec-WebSocket-Accept header");return}let _=d.headers["sec-websocket-protocol"],A;if(_!==void 0?h.size?h.has(_)||(A="Server sent an invalid subprotocol"):A="Server sent a subprotocol but none was requested":h.size&&(A="Server sent no subprotocol"),A){$(s,m,A);return}_&&(s._protocol=_);let k=d.headers["sec-websocket-extensions"];if(k!==void 0){if(!g){$(s,m,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let D;try{D=Ta(k)}catch{$(s,m,"Invalid Sec-WebSocket-Extensions header");return}let q=Object.keys(D);if(q.length!==1||q[0]!==de.extensionName){$(s,m,"Server indicated an extension that was not requested");return}try{g.accept(D[de.extensionName])}catch{$(s,m,"Invalid Sec-WebSocket-Extensions header");return}s._extensions[de.extensionName]=g}s.setSocket(m,v,{allowSynchronousEvents:n.allowSynchronousEvents,generateMask:n.generateMask,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation})}),n.finishRequest?n.finishRequest(y,s):y.end()}function Mt(s,t){s._readyState=O.CLOSING,s.emit("error",t),s.emitClose()}function Na(s){return s.path=s.socketPath,ei.connect(s)}function Ba(s){return s.path=void 0,!s.servername&&s.servername!==""&&(s.servername=ei.isIP(s.host)?"":s.host),ga.connect(s)}function $(s,t,e){s._readyState=O.CLOSING;let r=new Error(e);Error.captureStackTrace(r,$),t.setHeader?(t[si]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(Mt,s,r)):(t.destroy(r),t.once("error",s.emit.bind(s,"error")),t.once("close",s.emitClose.bind(s)))}function Hs(s,t,e){if(t){let r=Ra(t).length;s._socket?s._sender._bufferedBytes+=r:s._bufferedAmount+=r}if(e){let r=new Error(`WebSocket is not open: readyState ${s.readyState} (${ce[s.readyState]})`);process.nextTick(e,r)}}function La(s,t){let e=this[U];e._closeFrameReceived=!0,e._closeMessage=t,e._closeCode=s,e._socket[U]!==void 0&&(e._socket.removeListener("data",Ut),process.nextTick(ni,e._socket),s===1005?e.close():e.close(s,t))}function Da(){let s=this[U];s.isPaused||s._socket.resume()}function Pa(s){let t=this[U];t._socket[U]!==void 0&&(t._socket.removeListener("data",Ut),process.nextTick(ni,t._socket),t.close(s[wa])),t.emit("error",s)}function Zn(){this[U].emitClose()}function Ia(s,t){this[U].emit("message",s,t)}function Ma(s){let t=this[U];t._autoPong&&t.pong(s,!this._isServer,ti),t.emit("ping",s)}function Ua(s){this[U].emit("pong",s)}function ni(s){s.resume()}function ii(){let s=this[U];this.removeListener("close",ii),this.removeListener("data",Ut),this.removeListener("end",oi),s._readyState=O.CLOSING;let t;!this._readableState.endEmitted&&!s._closeFrameReceived&&!s._receiver._writableState.errorEmitted&&(t=s._socket.read())!==null&&s._receiver.write(t),s._receiver.end(),this[U]=void 0,clearTimeout(s._closeTimer),s._receiver._writableState.finished||s._receiver._writableState.errorEmitted?s.emitClose():(s._receiver.on("error",Zn),s._receiver.on("finish",Zn))}function Ut(s){this[U]._receiver.write(s)||this.pause()}function oi(){let s=this[U];s._readyState=O.CLOSING,s._receiver.end(),this.end()}function ai(){let s=this[U];this.removeListener("error",ai),this.on("error",ti),s&&(s._readyState=O.CLOSING,this.destroy())}});var fi=x((Ef,li)=>{"use strict";var{tokenChars:qa}=tt();function ja(s){let t=new Set,e=-1,r=-1,n=0;for(n;n<s.length;n++){let o=s.charCodeAt(n);if(r===-1&&qa[o]===1)e===-1&&(e=n);else if(n!==0&&(o===32||o===9))r===-1&&e!==-1&&(r=n);else if(o===44){if(e===-1)throw new SyntaxError(`Unexpected character at index ${n}`);r===-1&&(r=n);let l=s.slice(e,r);if(t.has(l))throw new SyntaxError(`The "${l}" subprotocol is duplicated`);t.add(l),e=r=-1}else throw new SyntaxError(`Unexpected character at index ${n}`)}if(e===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let i=s.slice(e,n);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return t.add(i),t}li.exports={parse:ja}});var gi=x((wf,_i)=>{"use strict";var Wa=C("events"),qt=C("http"),{Duplex:xf}=C("stream"),{createHash:Va}=C("crypto"),hi=js(),Ce=et(),$a=fi(),Ha=Gs(),{GUID:Ga,kWebSocket:za}=he(),Ya=/^[+/0-9A-Za-z]{22}==$/,ui=0,di=1,mi=2,zs=class extends Wa{constructor(t,e){if(super(),t=T({allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Ha},t),t.port==null&&!t.server&&!t.noServer||t.port!=null&&(t.server||t.noServer)||t.server&&t.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(t.port!=null?(this._server=qt.createServer((r,n)=>{let i=qt.STATUS_CODES[426];n.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),n.end(i)}),this._server.listen(t.port,t.host,t.backlog,e)):t.server&&(this._server=t.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=Xa(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(n,i,o)=>{this.handleUpgrade(n,i,o,r)}})}t.perMessageDeflate===!0&&(t.perMessageDeflate={}),t.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=t,this._state=ui}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(t){if(this._state===mi){t&&this.once("close",()=>{t(new Error("The server is not running"))}),process.nextTick(it,this);return}if(t&&this.once("close",t),this._state!==di)if(this._state=di,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(it,this):process.nextTick(it,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{it(this)})}}shouldHandle(t){if(this.options.path){let e=t.url.indexOf("?");if((e!==-1?t.url.slice(0,e):t.url)!==this.options.path)return!1}return!0}handleUpgrade(t,e,r,n){e.on("error",pi);let i=t.headers["sec-websocket-key"],o=t.headers.upgrade,l=+t.headers["sec-websocket-version"];if(t.method!=="GET"){ve(this,t,e,405,"Invalid HTTP method");return}if(o===void 0||o.toLowerCase()!=="websocket"){ve(this,t,e,400,"Invalid Upgrade header");return}if(i===void 0||!Ya.test(i)){ve(this,t,e,400,"Missing or invalid Sec-WebSocket-Key header");return}if(l!==8&&l!==13){ve(this,t,e,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(t)){ot(e,400);return}let f=t.headers["sec-websocket-protocol"],u=new Set;if(f!==void 0)try{u=$a.parse(f)}catch{ve(this,t,e,400,"Invalid Sec-WebSocket-Protocol header");return}let a=t.headers["sec-websocket-extensions"],c={};if(this.options.perMessageDeflate&&a!==void 0){let h=new Ce(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let g=hi.parse(a);g[Ce.extensionName]&&(h.accept(g[Ce.extensionName]),c[Ce.extensionName]=h)}catch{ve(this,t,e,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let h={origin:t.headers[`${l===8?"sec-websocket-origin":"origin"}`],secure:!!(t.socket.authorized||t.socket.encrypted),req:t};if(this.options.verifyClient.length===2){this.options.verifyClient(h,(g,y,d,m)=>{if(!g)return ot(e,y||401,d,m);this.completeUpgrade(c,i,u,t,e,r,n)});return}if(!this.options.verifyClient(h))return ot(e,401)}this.completeUpgrade(c,i,u,t,e,r,n)}completeUpgrade(t,e,r,n,i,o,l){if(!i.readable||!i.writable)return i.destroy();if(i[za])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>ui)return ot(i,503);let u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Va("sha1").update(e+Ga).digest("base64")}`],a=new this.options.WebSocket(null,void 0,this.options);if(r.size){let c=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;c&&(u.push(`Sec-WebSocket-Protocol: ${c}`),a._protocol=c)}if(t[Ce.extensionName]){let c=t[Ce.extensionName].params,h=hi.format({[Ce.extensionName]:[c]});u.push(`Sec-WebSocket-Extensions: ${h}`),a._extensions=t}this.emit("headers",u,n),i.write(u.concat(`\r
`).join(`\r
`)),i.removeListener("error",pi),a.setSocket(i,o,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(a),a.on("close",()=>{this.clients.delete(a),this._shouldEmitClose&&!this.clients.size&&process.nextTick(it,this)})),l(a,n)}};_i.exports=zs;function Xa(s,t){for(let e of Object.keys(t))s.on(e,t[e]);return function(){for(let r of Object.keys(t))s.removeListener(r,t[r])}}function it(s){s._state=mi,s.emit("close")}function pi(){this.destroy()}function ot(s,t,e,r){e=e||qt.STATUS_CODES[t],r=T({Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(e)},r),s.once("finish",s.destroy),s.end(`HTTP/1.1 ${t} ${qt.STATUS_CODES[t]}\r
`+Object.keys(r).map(n=>`${n}: ${r[n]}`).join(`\r
`)+`\r
\r
`+e)}function ve(s,t,e,r,n){if(s.listenerCount("wsClientError")){let i=new Error(n);Error.captureStackTrace(i,ve),s.emit("wsClientError",i,e,t)}else ot(e,r,n)}});var Js=x((ph,vi)=>{"use strict";function fc(s){e.debug=e,e.default=e,e.coerce=f,e.disable=i,e.enable=n,e.enabled=o,e.humanize=vt(),e.destroy=u,Object.keys(s).forEach(a=>{e[a]=s[a]}),e.names=[],e.skips=[],e.formatters={};function t(a){let c=0;for(let h=0;h<a.length;h++)c=(c<<5)-c+a.charCodeAt(h),c|=0;return e.colors[Math.abs(c)%e.colors.length]}e.selectColor=t;function e(a){let c,h=null,g,y;function d(...m){if(!d.enabled)return;let v=d,E=Number(new Date),p=E-(c||E);v.diff=p,v.prev=c,v.curr=E,c=E,m[0]=e.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let _=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(k,D)=>{if(k==="%%")return"%";_++;let q=e.formatters[D];if(typeof q=="function"){let K=m[_];k=q.call(v,K),m.splice(_,1),_--}return k}),e.formatArgs.call(v,m),(v.log||e.log).apply(v,m)}return d.namespace=a,d.useColors=e.useColors(),d.color=e.selectColor(a),d.extend=r,d.destroy=e.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(g!==e.namespaces&&(g=e.namespaces,y=e.enabled(a)),y),set:m=>{h=m}}),typeof e.init=="function"&&e.init(d),d}function r(a,c){let h=e(this.namespace+(typeof c>"u"?":":c)+a);return h.log=this.log,h}function n(a){e.save(a),e.namespaces=a,e.names=[],e.skips=[];let c,h=(typeof a=="string"?a:"").split(/[\s,]+/),g=h.length;for(c=0;c<g;c++)h[c]&&(a=h[c].replace(/\*/g,".*?"),a[0]==="-"?e.skips.push(new RegExp("^"+a.slice(1)+"$")):e.names.push(new RegExp("^"+a+"$")))}function i(){let a=[...e.names.map(l),...e.skips.map(l).map(c=>"-"+c)].join(",");return e.enable(""),a}function o(a){if(a[a.length-1]==="*")return!0;let c,h;for(c=0,h=e.skips.length;c<h;c++)if(e.skips[c].test(a))return!1;for(c=0,h=e.names.length;c<h;c++)if(e.names[c].test(a))return!0;return!1}function l(a){return a.toString().substring(2,a.toString().length-2).replace(/\.\*\?$/,"*")}function f(a){return a instanceof Error?a.stack||a.message:a}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}vi.exports=fc});var Ei=x((H,$t)=>{"use strict";H.formatArgs=uc;H.save=dc;H.load=pc;H.useColors=hc;H.storage=mc();H.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();H.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function hc(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let s;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(s=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(s[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function uc(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+$t.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;s.splice(1,0,t,"color: inherit");let e=0,r=0;s[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(e++,n==="%c"&&(r=e))}),s.splice(r,0,t)}H.log=console.debug||console.log||(()=>{});function dc(s){try{s?H.storage.setItem("debug",s):H.storage.removeItem("debug")}catch{}}function pc(){let s;try{s=H.storage.getItem("debug")}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=process.env.DEBUG),s}function mc(){try{return localStorage}catch{}}$t.exports=Js()(H);var{formatters:_c}=$t.exports;_c.j=function(s){try{return JSON.stringify(s)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var wi=x((B,Gt)=>{"use strict";var gc=C("tty"),Ht=C("util");B.init=wc;B.log=vc;B.formatArgs=bc;B.save=Ec;B.load=xc;B.useColors=yc;B.destroy=Ht.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");B.colors=[6,2,3,4,5,1];try{let s=xt();s&&(s.stderr||s).level>=2&&(B.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}B.inspectOpts=Object.keys(process.env).filter(s=>/^debug_/i.test(s)).reduce((s,t)=>{let e=t.substring(6).toLowerCase().replace(/_([a-z])/g,(n,i)=>i.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),s[e]=r,s},{});function yc(){return"colors"in B.inspectOpts?!!B.inspectOpts.colors:gc.isatty(process.stderr.fd)}function bc(s){let{namespace:t,useColors:e}=this;if(e){let r=this.color,n="\x1B[3"+(r<8?r:"8;5;"+r),i=`  ${n};1m${t} \x1B[0m`;s[0]=i+s[0].split(`
`).join(`
`+i),s.push(n+"m+"+Gt.exports.humanize(this.diff)+"\x1B[0m")}else s[0]=Cc()+t+" "+s[0]}function Cc(){return B.inspectOpts.hideDate?"":new Date().toISOString()+" "}function vc(...s){return process.stderr.write(Ht.formatWithOptions(B.inspectOpts,...s)+`
`)}function Ec(s){s?process.env.DEBUG=s:delete process.env.DEBUG}function xc(){return process.env.DEBUG}function wc(s){s.inspectOpts={};let t=Object.keys(B.inspectOpts);for(let e=0;e<t.length;e++)s.inspectOpts[t[e]]=B.inspectOpts[t[e]]}Gt.exports=Js()(B);var{formatters:xi}=Gt.exports;xi.o=function(s){return this.inspectOpts.colors=this.useColors,Ht.inspect(s,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};xi.O=function(s){return this.inspectOpts.colors=this.useColors,Ht.inspect(s,this.inspectOpts)}});var lt=x((mh,Qs)=>{"use strict";typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Qs.exports=Ei():Qs.exports=wi()});var tr=x((vh,Fi)=>{"use strict";function Rc(s){e.debug=e,e.default=e,e.coerce=f,e.disable=i,e.enable=n,e.enabled=o,e.humanize=vt(),e.destroy=u,Object.keys(s).forEach(a=>{e[a]=s[a]}),e.names=[],e.skips=[],e.formatters={};function t(a){let c=0;for(let h=0;h<a.length;h++)c=(c<<5)-c+a.charCodeAt(h),c|=0;return e.colors[Math.abs(c)%e.colors.length]}e.selectColor=t;function e(a){let c,h=null,g,y;function d(...m){if(!d.enabled)return;let v=d,E=Number(new Date),p=E-(c||E);v.diff=p,v.prev=c,v.curr=E,c=E,m[0]=e.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let _=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(k,D)=>{if(k==="%%")return"%";_++;let q=e.formatters[D];if(typeof q=="function"){let K=m[_];k=q.call(v,K),m.splice(_,1),_--}return k}),e.formatArgs.call(v,m),(v.log||e.log).apply(v,m)}return d.namespace=a,d.useColors=e.useColors(),d.color=e.selectColor(a),d.extend=r,d.destroy=e.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(g!==e.namespaces&&(g=e.namespaces,y=e.enabled(a)),y),set:m=>{h=m}}),typeof e.init=="function"&&e.init(d),d}function r(a,c){let h=e(this.namespace+(typeof c>"u"?":":c)+a);return h.log=this.log,h}function n(a){e.save(a),e.namespaces=a,e.names=[],e.skips=[];let c,h=(typeof a=="string"?a:"").split(/[\s,]+/),g=h.length;for(c=0;c<g;c++)h[c]&&(a=h[c].replace(/\*/g,".*?"),a[0]==="-"?e.skips.push(new RegExp("^"+a.slice(1)+"$")):e.names.push(new RegExp("^"+a+"$")))}function i(){let a=[...e.names.map(l),...e.skips.map(l).map(c=>"-"+c)].join(",");return e.enable(""),a}function o(a){if(a[a.length-1]==="*")return!0;let c,h;for(c=0,h=e.skips.length;c<h;c++)if(e.skips[c].test(a))return!1;for(c=0,h=e.names.length;c<h;c++)if(e.names[c].test(a))return!0;return!1}function l(a){return a.toString().substring(2,a.toString().length-2).replace(/\.\*\?$/,"*")}function f(a){return a instanceof Error?a.stack||a.message:a}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}Fi.exports=Rc});var Ni=x((G,zt)=>{"use strict";G.formatArgs=Fc;G.save=Nc;G.load=Bc;G.useColors=Ac;G.storage=Lc();G.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();G.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ac(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let s;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(s=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(s[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Fc(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+zt.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;s.splice(1,0,t,"color: inherit");let e=0,r=0;s[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(e++,n==="%c"&&(r=e))}),s.splice(r,0,t)}G.log=console.debug||console.log||(()=>{});function Nc(s){try{s?G.storage.setItem("debug",s):G.storage.removeItem("debug")}catch{}}function Bc(){let s;try{s=G.storage.getItem("debug")}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=process.env.DEBUG),s}function Lc(){try{return localStorage}catch{}}zt.exports=tr()(G);var{formatters:Dc}=zt.exports;Dc.j=function(s){try{return JSON.stringify(s)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Li=x((L,Xt)=>{"use strict";var Pc=C("tty"),Yt=C("util");L.init=Vc;L.log=qc;L.formatArgs=Mc;L.save=jc;L.load=Wc;L.useColors=Ic;L.destroy=Yt.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");L.colors=[6,2,3,4,5,1];try{let s=xt();s&&(s.stderr||s).level>=2&&(L.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}L.inspectOpts=Object.keys(process.env).filter(s=>/^debug_/i.test(s)).reduce((s,t)=>{let e=t.substring(6).toLowerCase().replace(/_([a-z])/g,(n,i)=>i.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),s[e]=r,s},{});function Ic(){return"colors"in L.inspectOpts?!!L.inspectOpts.colors:Pc.isatty(process.stderr.fd)}function Mc(s){let{namespace:t,useColors:e}=this;if(e){let r=this.color,n="\x1B[3"+(r<8?r:"8;5;"+r),i=`  ${n};1m${t} \x1B[0m`;s[0]=i+s[0].split(`
`).join(`
`+i),s.push(n+"m+"+Xt.exports.humanize(this.diff)+"\x1B[0m")}else s[0]=Uc()+t+" "+s[0]}function Uc(){return L.inspectOpts.hideDate?"":new Date().toISOString()+" "}function qc(...s){return process.stderr.write(Yt.formatWithOptions(L.inspectOpts,...s)+`
`)}function jc(s){s?process.env.DEBUG=s:delete process.env.DEBUG}function Wc(){return process.env.DEBUG}function Vc(s){s.inspectOpts={};let t=Object.keys(L.inspectOpts);for(let e=0;e<t.length;e++)s.inspectOpts[t[e]]=L.inspectOpts[t[e]]}Xt.exports=tr()(L);var{formatters:Bi}=Xt.exports;Bi.o=function(s){return this.inspectOpts.colors=this.useColors,Yt.inspect(s,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};Bi.O=function(s){return this.inspectOpts.colors=this.useColors,Yt.inspect(s,this.inspectOpts)}});var Di=x((Eh,sr)=>{"use strict";typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?sr.exports=Ni():sr.exports=Li()});function Ki(s,t){if(s&1){let e=wr();mt(0,"div",1)(1,"button",2),ns("click",function(){ur(e);let n=is();return dr(n.action())}),ls(2),Ve()()}if(s&2){let e=is();We(2),fs(" ",e.data.action," ")}}var Ji=["label"];function Qi(s,t){}var Zi=Math.pow(2,31)-1,$e=class{_overlayRef;instance;containerInstance;_afterDismissed=new me;_afterOpened=new me;_onAction=new me;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Zi))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Mr=new ts("MatSnackBarData"),xe=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},eo=(()=>{class s{static \u0275fac=function(r){return new(r||s)};static \u0275dir=pt({type:s,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return s})(),to=(()=>{class s{static \u0275fac=function(r){return new(r||s)};static \u0275dir=pt({type:s,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return s})(),so=(()=>{class s{static \u0275fac=function(r){return new(r||s)};static \u0275dir=pt({type:s,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return s})(),ro=(()=>{class s{snackBarRef=M($e);data=M(Mr);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(r){return new(r||s)};static \u0275cmp=ss({type:s,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(r,n){r&1&&(mt(0,"div",0),ls(1),Ve(),vr(2,Ki,3,1,"div",1)),r&2&&(We(),fs(" ",n.data.message,`
`),We(),Er(n.hasAction?2:-1))},dependencies:[Nr,eo,to,so],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return s})(),ps="_mat-snack-bar-enter",ms="_mat-snack-bar-exit",no=(()=>{class s extends Lr{_ngZone=M(br);_elementRef=M(mr);_changeDetectorRef=M(Sr);_platform=M(Or);_animationsDisabled=hs();snackBarConfig=M(xe);_document=M(pr);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=M(je);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new me;_onExit=new me;_onEnter=new me;_animationState="void";_live;_label;_role;_liveElementId=M(Ar).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}attachDomPortal=e=>{this._assertNotAttached();let r=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),r};onAnimationEnd(e){e===ms?this._completeExit():e===ps&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?rs(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(ps)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(ps)},200)))}exit(){return this._destroyed?lr(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?rs(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(ms)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(ms),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(o=>e.classList.add(o)):e.classList.add(r)),this._exposeToModals();let n=this._label.nativeElement,i="mdc-snackbar__label";n.classList.toggle(i,!n.querySelector(`.${i}`))}_exposeToModals(){let e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<r.length;n++){let i=r[n],o=i.getAttribute("aria-owns");this._trackedModals.add(i),o?o.indexOf(e)===-1&&i.setAttribute("aria-owns",o+" "+e):i.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let r=e.getAttribute("aria-owns");if(r){let n=r.replace(this._liveElementId,"").trim();n.length>0?e.setAttribute("aria-owns",n):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,r=e.querySelector("[aria-hidden]"),n=e.querySelector("[aria-live]");if(r&&n){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&r.contains(document.activeElement)&&(i=document.activeElement),r.removeAttribute("aria-hidden"),n.appendChild(r),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(r){return new(r||s)};static \u0275cmp=ss({type:s,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,n){if(r&1&&(os(ds,7),os(Ji,7)),r&2){let i;as(i=cs())&&(n._portalOutlet=i.first),as(i=cs())&&(n._label=i.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(r,n){r&1&&ns("animationend",function(o){return n.onAnimationEnd(o.animationName)})("animationcancel",function(o){return n.onAnimationEnd(o.animationName)}),r&2&&kr("mat-snack-bar-container-enter",n._animationState==="visible")("mat-snack-bar-container-exit",n._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!n._animationsDisabled)},features:[gr],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,n){r&1&&(mt(0,"div",1)(1,"div",2,0)(3,"div",3),yr(4,Qi,0,0,"ng-template",4),Ve(),xr(5,"div"),Ve()()),r&2&&(We(5),Cr("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[ds],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return s})();function io(){return new xe}var oo=new ts("mat-snack-bar-default-options",{providedIn:"root",factory:io}),_l=(()=>{class s{_live=M(Rr);_injector=M(je);_breakpointObserver=M(Tr);_parentSnackBar=M(s,{optional:!0,skipSelf:!0});_defaultConfig=M(oo);_animationsDisabled=hs();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=ro;snackBarContainerComponent=no;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",n){let i=T(T({},this._defaultConfig),n);return i.data={message:e,action:r},i.announcementMessage===e&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){let n=r&&r.viewContainerRef&&r.viewContainerRef.injector,i=je.create({parent:n||this._injector,providers:[{provide:xe,useValue:r}]}),o=new us(this.snackBarContainerComponent,r.viewContainerRef,i),l=e.attach(o);return l.instance.snackBarConfig=r,l.instance}_attach(e,r){let n=T(T(T({},new xe),this._defaultConfig),r),i=this._createOverlay(n),o=this._attachSnackBarContainer(i,n),l=new $e(o,i);if(e instanceof _r){let f=new Br(e,null,{$implicit:n.data,snackBarRef:l});l.instance=o.attachTemplatePortal(f)}else{let f=this._createInjector(n,l),u=new us(e,void 0,f),a=o.attachComponentPortal(u);l.instance=a.instance}return this._breakpointObserver.observe(Fr.HandsetPortrait).pipe(fr(i.detachments())).subscribe(f=>{i.overlayElement.classList.toggle(this.handsetCssClass,f.matches)}),n.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(l,n),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let r=new Dr;r.direction=e.direction;let n=Pr(this._injector),i=e.direction==="rtl",o=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!i||e.horizontalPosition==="end"&&i,l=!o&&e.horizontalPosition!=="center";return o?n.left("0"):l?n.right("0"):n.centerHorizontally(),e.verticalPosition==="top"?n.top("0"):n.bottom("0"),r.positionStrategy=n,r.disableAnimations=this._animationsDisabled,Ir(this._injector,r)}_createInjector(e,r){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector;return je.create({parent:n||this._injector,providers:[{provide:$e,useValue:r},{provide:Mr,useValue:e.data}]})}static \u0275fac=function(r){return new(r||s)};static \u0275prov=hr({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Ss=P(jr(),1);var J=Object.create(null);J.open="0";J.close="1";J.ping="2";J.pong="3";J.message="4";J.upgrade="5";J.noop="6";var He=Object.create(null);Object.keys(J).forEach(s=>{He[J[s]]=s});var Ge={type:"error",data:"parser error"};var ze=({type:s,data:t},e,r)=>t instanceof ArrayBuffer||ArrayBuffer.isView(t)?r(e?t:"b"+Wr(t,!0).toString("base64")):r(J[s]+(t||"")),Wr=(s,t)=>Buffer.isBuffer(s)||s instanceof Uint8Array&&!t?s:s instanceof ArrayBuffer?Buffer.from(s):Buffer.from(s.buffer,s.byteOffset,s.byteLength),gs;function Vr(s,t){if(s.data instanceof ArrayBuffer||ArrayBuffer.isView(s.data))return t(Wr(s.data,!1));ze(s,!0,e=>{gs||(gs=new TextEncoder),t(gs.encode(e))})}var Ye=(s,t)=>{if(typeof s!="string")return{type:"message",data:$r(s,t)};let e=s.charAt(0);if(e==="b"){let r=Buffer.from(s.substring(1),"base64");return{type:"message",data:$r(r,t)}}return He[e]?s.length>1?{type:He[e],data:s.substring(1)}:{type:He[e]}:Ge},$r=(s,t)=>{switch(t){case"arraybuffer":return s instanceof ArrayBuffer?s:Buffer.isBuffer(s)?s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength):s.buffer;case"nodebuffer":default:return Buffer.isBuffer(s)?s:Buffer.from(s)}};var Hr="",Gr=(s,t)=>{let e=s.length,r=new Array(e),n=0;s.forEach((i,o)=>{ze(i,!1,l=>{r[o]=l,++n===e&&t(r.join(Hr))})})},zr=(s,t)=>{let e=s.split(Hr),r=[];for(let n=0;n<e.length;n++){let i=Ye(e[n],t);if(r.push(i),i.type==="error")break}return r};function Yr(){return new TransformStream({transform(s,t){Vr(s,e=>{let r=e.length,n;if(r<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,r);else if(r<65536){n=new Uint8Array(3);let i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{n=new Uint8Array(9);let i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}s.data&&typeof s.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(e)})}})}var ys;function _t(s){return s.reduce((t,e)=>t+e.length,0)}function gt(s,t){if(s[0].length===t)return s.shift();let e=new Uint8Array(t),r=0;for(let n=0;n<t;n++)e[n]=s[0][r++],r===s[0].length&&(s.shift(),r=0);return s.length&&r<s[0].length&&(s[0]=s[0].slice(r)),e}function Xr(s,t){ys||(ys=new TextDecoder);let e=[],r=0,n=-1,i=!1;return new TransformStream({transform(o,l){for(e.push(o);;){if(r===0){if(_t(e)<1)break;let f=gt(e,1);i=(f[0]&128)===128,n=f[0]&127,n<126?r=3:n===126?r=1:r=2}else if(r===1){if(_t(e)<2)break;let f=gt(e,2);n=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),r=3}else if(r===2){if(_t(e)<8)break;let f=gt(e,8),u=new DataView(f.buffer,f.byteOffset,f.length),a=u.getUint32(0);if(a>Math.pow(2,21)-1){l.enqueue(Ge);break}n=a*Math.pow(2,32)+u.getUint32(4),r=3}else{if(_t(e)<n)break;let f=gt(e,n);l.enqueue(Ye(i?f:ys.decode(f),t)),r=0}if(n===0||n>s){l.enqueue(Ge);break}}}})}var bs=4;function S(s){if(s)return co(s)}function co(s){for(var t in S.prototype)s[t]=S.prototype[t];return s}S.prototype.on=S.prototype.addEventListener=function(s,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(t),this};S.prototype.once=function(s,t){function e(){this.off(s,e),t.apply(this,arguments)}return e.fn=t,this.on(s,e),this};S.prototype.off=S.prototype.removeListener=S.prototype.removeAllListeners=S.prototype.removeEventListener=function(s,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+s];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var r,n=0;n<e.length;n++)if(r=e[n],r===t||r.fn===t){e.splice(n,1);break}return e.length===0&&delete this._callbacks["$"+s],this};S.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+s],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e){e=e.slice(0);for(var r=0,n=e.length;r<n;++r)e[r].apply(this,t)}return this};S.prototype.emitReserved=S.prototype.emit;S.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};S.prototype.hasListeners=function(s){return!!this.listeners(s).length};var re=process.nextTick,W=global,Kr="nodebuffer";function Jr(){return new Cs}function lo(s){let t=s.split("; "),e=t[0].indexOf("=");if(e===-1)return;let r=t[0].substring(0,e).trim();if(!r.length)return;let n=t[0].substring(e+1).trim();n.charCodeAt(0)===34&&(n=n.slice(1,-1));let i={name:r,value:n};for(let o=1;o<t.length;o++){let l=t[o].split("=");if(l.length!==2)continue;let f=l[0].trim(),u=l[1].trim();switch(f){case"Expires":i.expires=new Date(u);break;case"Max-Age":let a=new Date;a.setUTCSeconds(a.getUTCSeconds()+parseInt(u,10)),i.expires=a;break;default:}}return i}var Cs=class{constructor(){this._cookies=new Map}parseCookies(t){t&&t.forEach(e=>{let r=lo(e);r&&this._cookies.set(r.name,r)})}get cookies(){let t=Date.now();return this._cookies.forEach((e,r)=>{var n;((n=e.expires)===null||n===void 0?void 0:n.getTime())<t&&this._cookies.delete(r)}),this._cookies.entries()}addCookies(t){let e=[];for(let[r,n]of this.cookies)e.push(`${r}=${n.value}`);e.length&&(t.setDisableHeaderCheck(!0),t.setRequestHeader("cookie",e.join("; ")))}appendCookies(t){for(let[e,r]of this.cookies)t.append("cookie",`${e}=${r.value}`)}};function yt(s,...t){return t.reduce((e,r)=>(s.hasOwnProperty(r)&&(e[r]=s[r]),e),{})}var fo=W.setTimeout,ho=W.clearTimeout;function ne(s,t){t.useNativeTimers?(s.setTimeoutFn=fo.bind(W),s.clearTimeoutFn=ho.bind(W)):(s.setTimeoutFn=W.setTimeout.bind(W),s.clearTimeoutFn=W.clearTimeout.bind(W))}var uo=1.33;function Qr(s){return typeof s=="string"?po(s):Math.ceil((s.byteLength||s.size)*uo)}function po(s){let t=0,e=0;for(let r=0,n=s.length;r<n;r++)t=s.charCodeAt(r),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(r++,e+=4);return e}function bt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Zr(s){let t="";for(let e in s)s.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(s[e]));return t}function en(s){let t={},e=s.split("&");for(let r=0,n=e.length;r<n;r++){let i=e[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}var hn=P(ge(),1),Io=(0,hn.default)("engine.io-client:transport"),St=class extends Error{constructor(t,e,r){super(t),this.description=e,this.context=r,this.type="TransportError"}},ie=class extends S{constructor(t){super(),this.writable=!1,ne(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,r){return super.emitReserved("error",new St(t,e,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"?this.write(t):Io("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let e=Ye(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let e=Zr(t);return e.length?"?"+e:""}};var un=P(ge(),1),Q=(0,un.default)("engine.io-client:polling"),Xe=class extends ie{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";let e=()=>{Q("paused"),this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(Q("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){Q("pre-pause polling complete"),--r||e()})),this.writable||(Q("we are currently writing - waiting to pause"),r++,this.once("drain",function(){Q("pre-pause writing complete"),--r||e()}))}else e()}_poll(){Q("polling"),this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){Q("polling got data %s",t);let e=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};zr(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this._poll():Q('ignoring poll - transport state "%s"',this.readyState))}doClose(){let t=()=>{Q("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(Q("transport open - closing"),t()):(Q("transport not open - deferring close"),this.once("open",t))}write(t){this.writable=!1,Gr(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=bt()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}};var dn=!1;try{dn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var pn=dn;var _n=P(ge(),1),ks=(0,_n.default)("engine.io-client:polling");function Mo(){}var Ot=class extends Xe{constructor(t){if(super(t),typeof location<"u"){let e=location.protocol==="https:",r=location.port;r||(r=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,e){let r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){ks("xhr poll");let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,r)=>{this.onError("xhr poll error",e,r)}),this.pollXhr=t}},Ke=(()=>{class s extends S{constructor(e,r,n){super(),this.createRequest=e,ne(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;let r=yt(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let n=this._xhr=this.createRequest(r);try{ks("xhr open %s: %s",this._method,this._uri),n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},ks("xhr data %s",this._data),n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=s.requestsCount++,s.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Mo,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete s.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return s.requestsCount=0,s.requests={},s})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",mn);else if(typeof addEventListener=="function"){let s="onpagehide"in W?"pagehide":"unload";addEventListener(s,mn,!1)}}function mn(){for(let s in Ke.requests)Ke.requests.hasOwnProperty(s)&&Ke.requests[s].abort()}var ef=function(){let s=Uo({xdomain:!1});return s&&s.responseType!==null}();function Uo(s){let t=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||pn))return new XMLHttpRequest}catch{}if(!t)try{return new W[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var qo=Ss.default||Ss,Te=class extends Ot{request(t={}){var e;return Object.assign(t,{xd:this.xd,cookieJar:(e=this.socket)===null||e===void 0?void 0:e._cookieJar},this.opts),new Ke(r=>new qo(r),this.uri(),t)}};var Ka=P(Cn(),1),Ja=P(Is(),1),Qa=P(Us(),1),Ys=P(Gs(),1),Za=P(gi(),1);var yi=P(ge(),1),tc=(0,yi.default)("engine.io-client:websocket"),sc=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",jt=class extends ie{get name(){return"websocket"}doOpen(){let t=this.uri(),e=this.opts.protocols,r=sc?{}:yt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,r)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let r=t[e],n=e===t.length-1;ze(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{tc("websocket closed before onclose event")}n&&re(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=bt()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}},Af=W.WebSocket||W.MozWebSocket;var Be=class extends jt{createSocket(t,e,r){var n;if(!((n=this.socket)===null||n===void 0)&&n._cookieJar){r.headers=r.headers||{},r.headers.cookie=typeof r.headers.cookie=="string"?[r.headers.cookie]:r.headers.cookie||[];for(let[i,o]of this.socket._cookieJar.cookies)r.headers.cookie.push(`${i}=${o.value}`)}return new Ys.default(t,e,r)}doWrite(t,e){let r={};t.options&&(r.compress=t.options.compress),this.opts.perMessageDeflate&&(typeof e=="string"?Buffer.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(r.compress=!1),this.ws.send(e,r)}};var bi=P(ge(),1),at=(0,bi.default)("engine.io-client:webtransport"),Le=class extends ie{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{at("transport closed gracefully"),this.onClose()}).catch(t=>{at("transport closed due to %s",t),this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{let e=Xr(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(e).getReader(),n=Yr();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();let i=()=>{r.read().then(({done:l,value:f})=>{if(l){at("session is closed");return}at("received chunk: %o",f),this.onPacket(f),i()}).catch(l=>{at("an error occurred while reading: %s",l)})};i();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let r=t[e],n=e===t.length-1;this._writer.write(r).then(()=>{n&&re(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};var Xs={websocket:Be,webtransport:Le,polling:Te};var rc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function De(s){if(s.length>8e3)throw"URI too long";let t=s,e=s.indexOf("["),r=s.indexOf("]");e!=-1&&r!=-1&&(s=s.substring(0,e)+s.substring(e,r).replace(/:/g,";")+s.substring(r,s.length));let n=rc.exec(s||""),i={},o=14;for(;o--;)i[nc[o]]=n[o]||"";return e!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=ic(i,i.path),i.queryKey=oc(i,i.query),i}function ic(s,t){let e=/\/{2,9}/g,r=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function oc(s,t){let e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,n,i){n&&(e[n]=i)}),e}var Ci=P(ge(),1),w=(0,Ci.default)("engine.io-client:socket"),Ks=typeof addEventListener=="function"&&typeof removeEventListener=="function",ct=[];Ks&&addEventListener("offline",()=>{w("closing %d connection(s) because the network was lost",ct.length),ct.forEach(s=>s())},!1);var Wt=(()=>{class s extends S{constructor(e,r){if(super(),this.binaryType=Kr,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){let n=De(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=De(r.host).host);ne(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{let i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=en(this.opts.query)),Ks&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(w("adding listener for the 'offline' event"),this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ct.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=Jr()),this._open()}createTransport(e){w('creating transport "%s"',e);let r=Object.assign({},this.opts.query);r.EIO=bs,r.transport=e,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return w("options: %j",n),new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&s.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){w("setting transport %s",e.name),this.transport&&(w("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){w("socket open"),this.readyState="open",s.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(w('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}else w('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();w("flushing %d packets in socket",e.length),this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){let i=this.writeBuffer[n].data;if(i&&(r+=Qr(i)),n>0&&r>this._maxPayload)return w("only send %d out of %d packets",n,this.writeBuffer.length),this.writeBuffer.slice(0,n);r+=2}return w("payload size is %d (max: %d)",r,this._maxPayload),this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(w("throttled timer detected, scheduling connection close"),this._pingTimeoutTime=0,re(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this._onClose("forced close"),w("socket closing - telling transport to close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(w("socket error %j",e),s.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return w("trying next transport"),this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(w('socket close with reason: "%s"',e),this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ks&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let n=ct.indexOf(this._offlineEventListener);n!==-1&&(w("removing listener for the 'offline' event"),ct.splice(n,1))}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}return s.protocol=bs,s})(),Vt=class extends Wt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade){w("starting upgrade probes");for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}}_probe(t){w('probing transport "%s"',t);let e=this.createTransport(t),r=!1;Wt.priorWebsocketSuccess=!1;let n=()=>{r||(w('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",c=>{if(!r)if(c.type==="pong"&&c.data==="probe"){if(w('probe transport "%s" pong',t),this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Wt.priorWebsocketSuccess=e.name==="websocket",w('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{r||this.readyState!=="closed"&&(w("changing transport and sending upgrade packet"),a(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{w('probe transport "%s" failed',t);let h=new Error("probe error");h.transport=e.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,a(),e.close(),e=null)}let o=c=>{let h=new Error("probe error: "+c);h.transport=e.name,i(),w('probe transport "%s" failed because of error: %s',t,c),this.emitReserved("upgradeError",h)};function l(){o("transport closed")}function f(){o("socket closed")}function u(c){e&&c.name!==e.name&&(w('"%s" works - aborting "%s"',c.name,e.name),i())}let a=()=>{e.removeListener("open",n),e.removeListener("error",o),e.removeListener("close",l),this.off("close",f),this.off("upgrading",u)};e.once("open",n),e.once("error",o),e.once("close",l),this.once("close",f),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){let e=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&e.push(t[r]);return e}},Pe=class extends Vt{constructor(t,e={}){let r=typeof t=="object"?t:e;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(n=>Xs[n]).filter(n=>!!n)),super(t,r)}};var eh=Pe.protocol;var Si=P(lt(),1),ki=(0,Si.default)("socket.io-client:url");function Oi(s,t="",e){let r=s;e=e||typeof location<"u"&&location,s==null&&(s=e.protocol+"//"+e.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=e.protocol+s:s=e.host+s),/^(https?|wss?):\/\//.test(s)||(ki("protocol-less url %s",s),typeof e<"u"?s=e.protocol+"//"+s:s="https://"+s),ki("parse %s",s),r=De(s)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(e&&e.port===r.port?"":":"+r.port),r}var ar={};Xi(ar,{Decoder:()=>ir,Encoder:()=>nr,PacketType:()=>b,protocol:()=>Mi});var kc=typeof ArrayBuffer=="function",Sc=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,Ti=Object.prototype.toString,Oc=typeof Blob=="function"||typeof Blob<"u"&&Ti.call(Blob)==="[object BlobConstructor]",Tc=typeof File=="function"||typeof File<"u"&&Ti.call(File)==="[object FileConstructor]";function ht(s){return kc&&(s instanceof ArrayBuffer||Sc(s))||Oc&&s instanceof Blob||Tc&&s instanceof File}function ft(s,t){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let e=0,r=s.length;e<r;e++)if(ft(s[e]))return!0;return!1}if(ht(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return ft(s.toJSON(),!0);for(let e in s)if(Object.prototype.hasOwnProperty.call(s,e)&&ft(s[e]))return!0;return!1}function Ri(s){let t=[],e=s.data,r=s;return r.data=Zs(e,t),r.attachments=t.length,{packet:r,buffers:t}}function Zs(s,t){if(!s)return s;if(ht(s)){let e={_placeholder:!0,num:t.length};return t.push(s),e}else if(Array.isArray(s)){let e=new Array(s.length);for(let r=0;r<s.length;r++)e[r]=Zs(s[r],t);return e}else if(typeof s=="object"&&!(s instanceof Date)){let e={};for(let r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=Zs(s[r],t));return e}return s}function Ai(s,t){return s.data=er(s.data,t),delete s.attachments,s}function er(s,t){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<t.length)return t[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let e=0;e<s.length;e++)s[e]=er(s[e],t);else if(typeof s=="object")for(let e in s)Object.prototype.hasOwnProperty.call(s,e)&&(s[e]=er(s[e],t));return s}var Ii=P(Di(),1),rr=(0,Ii.default)("socket.io-parser"),$c=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Mi=5,b=function(s){return s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK",s}(b||{}),nr=class{constructor(t){this.replacer=t}encode(t){return rr("encoding packet %j",t),(t.type===b.EVENT||t.type===b.ACK)&&ft(t)?this.encodeAsBinary({type:t.type===b.EVENT?b.BINARY_EVENT:b.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===b.BINARY_EVENT||t.type===b.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),rr("encoded %j as %s",t,e),e}encodeAsBinary(t){let e=Ri(t),r=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(r),n}};function Pi(s){return Object.prototype.toString.call(s)==="[object Object]"}var ir=class s extends S{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);let r=e.type===b.BINARY_EVENT;r||e.type===b.BINARY_ACK?(e.type=r?b.EVENT:b.ACK,this.reconstructor=new or(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(ht(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0,r={type:Number(t.charAt(0))};if(b[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===b.BINARY_EVENT||r.type===b.BINARY_ACK){let i=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);let o=t.substring(i,e);if(o!=Number(o)||t.charAt(e)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(e+1)==="/"){let i=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););r.nsp=t.substring(i,e)}else r.nsp="/";let n=t.charAt(e+1);if(n!==""&&Number(n)==n){let i=e+1;for(;++e;){let o=t.charAt(e);if(o==null||Number(o)!=o){--e;break}if(e===t.length)break}r.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){let i=this.tryParse(t.substr(e));if(s.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return rr("decoded %s as %j",t,r),r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case b.CONNECT:return Pi(e);case b.DISCONNECT:return e===void 0;case b.CONNECT_ERROR:return typeof e=="string"||Pi(e);case b.EVENT:case b.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&$c.indexOf(e[0])===-1);case b.ACK:case b.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},or=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let e=Ai(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function z(s,t,e){return s.on(t,e),function(){s.off(t,e)}}var Ui=P(lt(),1),R=(0,Ui.default)("socket.io-client:socket"),Hc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ie=class extends S{constructor(t,e,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[z(t,"open",this.onopen.bind(this)),z(t,"packet",this.onpacket.bind(this)),z(t,"error",this.onerror.bind(this)),z(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var r,n,i;if(Hc.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let o={type:b.EVENT,data:e};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let a=this.ids++;R("emitting packet with ack id %d",a);let c=e.pop();this._registerAckCallback(a,c),o.id=a}let l=(n=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||n===void 0?void 0:n.writable,f=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l?R("discard packet as the transport is not currently writable"):f?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o),this.flags={},this}_registerAckCallback(t,e){var r;let n=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(n===void 0){this.acks[t]=e;return}let i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&(R("removing packet with ack id %d from the buffer",t),this.sendBuffer.splice(l,1));R("event with ack id %d has timed out after %d ms",t,n),e.call(this,new Error("operation has timed out"))},n),o=(...l)=>{this.io.clearTimeoutFn(i),e.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...e){return new Promise((r,n)=>{let i=(o,l)=>o?n(o):r(l);i.withError=!0,e.push(i),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...i)=>r!==this._queue[0]?void 0:(n!==null?r.tryCount>this._opts.retries&&(R("packet [%d] is discarded after %d tries",r.id,r.tryCount),this._queue.shift(),e&&e(n)):(R("packet [%d] was successfully sent",r.id),this._queue.shift(),e&&e(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(R("draining queue"),!this.connected||this._queue.length===0)return;let e=this._queue[0];if(e.pending&&!t){R("packet [%d] has already been sent and is waiting for an ack",e.id);return}e.pending=!0,e.tryCount++,R("sending packet [%d] (try n\xB0%d)",e.id,e.tryCount),this.flags=e.flags,this.emit.apply(this,e.args)}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){R("transport is open - connecting"),typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:b.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){R("close (%s)",t),this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){let r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case b.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case b.EVENT:case b.BINARY_EVENT:this.onevent(t);break;case b.ACK:case b.BINARY_ACK:this.onack(t);break;case b.DISCONNECT:this.ondisconnect();break;case b.CONNECT_ERROR:this.destroy();let r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){let e=t.data||[];R("emitting event %j",e),t.id!=null&&(R("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let r of e)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let e=this,r=!1;return function(...n){r||(r=!0,R("sending ack %j",n),e.packet({type:b.ACK,id:t,data:n}))}}onack(t){let e=this.acks[t.id];if(typeof e!="function"){R("bad ack %s",t.id);return}delete this.acks[t.id],R("calling ack %s with %j",t.id,t.data),e.withError&&t.data.unshift(null),e.apply(this,t.data)}onconnect(t,e){R("socket connected with id %s",t),this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){R("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(R("performing disconnect (%s)",this.nsp),this.packet({type:b.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let e=this._anyListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let e=this._anyOutgoingListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let r of e)r.apply(this,t.data)}}};function Ee(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}Ee.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*s);s=(Math.floor(t*10)&1)==0?s-e:s+e}return Math.min(s,this.max)|0};Ee.prototype.reset=function(){this.attempts=0};Ee.prototype.setMin=function(s){this.ms=s};Ee.prototype.setMax=function(s){this.max=s};Ee.prototype.setJitter=function(s){this.jitter=s};var qi=P(lt(),1),I=(0,qi.default)("socket.io-client:manager"),Me=class extends S{constructor(t,e){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,ne(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((r=e.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ee({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;let n=e.parser||ar;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(I("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;I("opening %s",this.uri),this.engine=new Pe(this.uri,this.opts);let e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let n=z(e,"open",function(){r.onopen(),t&&t()}),i=l=>{I("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=z(e,"error",i);if(this._timeout!==!1){let l=this._timeout;I("connect attempt will timeout after %d",l);let f=this.setTimeoutFn(()=>{I("connect attempt timed out after %d",l),n(),i(new Error("timeout")),e.close()},l);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){I("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(z(t,"ping",this.onping.bind(this)),z(t,"data",this.ondata.bind(this)),z(t,"error",this.onerror.bind(this)),z(t,"close",this.onclose.bind(this)),z(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){re(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){I("error",t),this.emitReserved("error",t)}socket(t,e){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Ie(this,t,e),this.nsps[t]=r),r}_destroy(t){let e=Object.keys(this.nsps);for(let r of e)if(this.nsps[r].active){I("socket %s is still active, skipping close",r);return}this._close()}_packet(t){I("writing packet %j",t);let e=this.encoder.encode(t);for(let r=0;r<e.length;r++)this.engine.write(e[r],t.options)}cleanup(){I("cleanup"),this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){I("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var r;I("closed due to %s",t),this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)I("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();I("will wait %dms before reconnect attempt",e),this._reconnecting=!0;let r=this.setTimeoutFn(()=>{t.skipReconnect||(I("attempting reconnect"),this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(I("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):(I("reconnect success"),t.onreconnect())}))},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var Wi=P(lt(),1),ji=(0,Wi.default)("socket.io-client"),ut={};function cr(s,t){typeof s=="object"&&(t=s,s=void 0),t=t||{};let e=Oi(s,t.path||"/socket.io"),r=e.source,n=e.id,i=e.path,o=ut[n]&&i in ut[n].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o,f;return l?(ji("ignoring socket cache for %s",r),f=new Me(r,t)):(ut[n]||(ji("new io instance for %s",r),ut[n]=new Me(r,t)),f=ut[n]),e.query&&!t.query&&(t.query=e.queryKey),f.socket(e.path,t)}Object.assign(cr,{Manager:Me,Socket:Ie,io:cr,connect:cr});export{cr as a,_l as b};

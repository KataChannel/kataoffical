import './polyfills.server.mjs';
import{a as $,d as H}from"./chunk-DWX6GOF2.mjs";import"./chunk-XQZ43CXI.mjs";import"./chunk-M7EGMPZE.mjs";import"./chunk-ZF7XBYYK.mjs";import{a as B}from"./chunk-NJU4C5TF.mjs";import{a as A}from"./chunk-OX7OYITI.mjs";import"./chunk-N7HVX2RE.mjs";import{c as P}from"./chunk-ZUAIVIEL.mjs";import"./chunk-KYGAVK76.mjs";import{e as T}from"./chunk-JZQCFZAG.mjs";import"./chunk-CATKLGCT.mjs";import"./chunk-73IBRO6I.mjs";import"./chunk-UFJIYV3D.mjs";import"./chunk-M6HKJU2S.mjs";import"./chunk-7TFSUZVW.mjs";import"./chunk-OXVTSTST.mjs";import{b as D,e as U,f as k,h as F}from"./chunk-SHC3MXGU.mjs";import{d as j}from"./chunk-TWGDF6AH.mjs";import"./chunk-7EE7XTXV.mjs";import{g as N,j as R}from"./chunk-DU7T7LQG.mjs";import"./chunk-MOFNWV3Q.mjs";import{a as O,b as z}from"./chunk-N4NXCYSC.mjs";import"./chunk-Q7G3UJA2.mjs";import"./chunk-YTRXHA5W.mjs";import{e as C,f as L}from"./chunk-2WH4WIRM.mjs";import"./chunk-7EXRZSZG.mjs";import"./chunk-V4V65LHO.mjs";import{o as w}from"./chunk-SVM2HAAI.mjs";import"./chunk-INK5SBFN.mjs";import{Sb as M,Sc as I,Tb as S,Ub as E,Vb as f,Wb as l,Xb as n,Yb as c,db as v,gb as o,ka as g,lb as x,sb as b,tc as s,uc as d,vc as _,za as y}from"./chunk-LD2AVDEF.mjs";import"./chunk-W2PR56MU.mjs";import{j as u}from"./chunk-RIAI3ORJ.mjs";function W(p,t){if(p&1&&(l(0,"div")(1,"a",12)(2,"mat-icon"),s(3),n(),l(4,"span",13),s(5),n()()()),p&2){let e=t.$implicit;o(),f("routerLink",e.link),o(2),d(e.icon),o(2),d(e.title)}}var K=class p{constructor(t){this.sanitizer=t;I(()=>u(null,null,function*(){}))}isMenuOpen=!1;profileImageUrl="avatar.png";isLoading=!1;profile=y({});isEditAvatar=!1;files=[];_UserService=g(A);_uploadService=g($);ProfileMenus=[{id:1,title:"Tin M\u1EDBi",link:"newsfeed",icon:"rss_feed"},{id:2,title:"S\u1EF1 Ki\u1EC7n",link:"socialpage",icon:"notifications"},{id:4,title:"Ho\u1EA1t \u0110\u1ED9ng",link:"activity",icon:"receipt_long"},{id:4,title:"Album \u1EA2nh",link:"gallery",icon:"image"}];ngOnInit(){return u(this,null,function*(){yield this._UserService.getProfile(),this.profile=this._UserService.profile})}getTrustUrl(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}handlePaste(t){this.isLoading=!0;let e=t.clipboardData?.items;if(e)for(let r=0;r<e.length;r++){let a=e[r];if(a.type.indexOf("image")!==-1){let i=a.getAsFile();if(i){console.log("Pasted image:",i);let m=new File([i],`${this.profile().email.split("@")[0]}_${new Date().getTime()}.png`,{type:i.type});this._uploadService.uploadDriver(m).then(h=>{console.log(h),this.profile().Avatar=h.fileId,this.isLoading=!1,this.isEditAvatar=!1,this._UserService.updateUser(this.profile())})}}}}dropped(t){this.isLoading=!0,this.files=t;for(let e of t)e.fileEntry.isFile&&e.fileEntry.file(a=>{this._uploadService.uploadDriver(a).then(i=>{console.log(i),this.profile().Avatar=i.fileId,this.isLoading=!1,this.isEditAvatar=!1,this._UserService.updateUser(this.profile())})})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}openImageUploader(){}static \u0275fac=function(e){return new(e||p)(x(w))};static \u0275cmp=b({type:p,selectors:[["app-profile"]],decls:19,vars:4,consts:[[1,"relative","w-full","h-full"],["src","images/welcome_nam_bg.png","alt","Welcome Image",1,"p-2","rounded-3xl","absolute","top-0","right-0","h-full","w-full","object-cover"],[1,"h-full","relative","flex","flex-col","space-y","p-2","bg-slate-50/70"],[1,"container","flex","flex-row","gap-4","p-4"],["alt","avatar",1,"w-32","h-32","rounded-full","border","border-blue-100","shadow-lg",3,"src"],[1,"flex","flex-col","space-y-2"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-sm","text-gray-600"],["mat-flat-button","","color","primary",1,"flex","flex-row","gap-2",3,"href"],[1,"material-icons"],[1,"border-t","p-2","flex","items-center","justify-between"],[1,"flex","flex-row","items-center","flex-wrap","gap-2"],["mat-flat-button","","routerLinkActive","!bg-blue-500 !text-white",1,"flex","items-center",3,"routerLink"],[1,"whitespace-nowrap"]],template:function(e,r){if(e&1&&(l(0,"div",0),c(1,"img",1),l(2,"div",2)(3,"div",3),c(4,"img",4),l(5,"div",5)(6,"span",6),s(7),n(),l(8,"span",7),s(9),n(),l(10,"a",8)(11,"span",9),s(12,"edit"),n(),s(13," Ch\u1EC9nh S\u1EEDa "),n()()(),l(14,"div",10)(15,"div",11),S(16,W,6,3,"div",null,M),n()(),c(18,"router-outlet"),n()()),e&2){let a,i,m;o(4),f("src",((a=r.profile())==null?null:a.avatar)||"images/logo-kata.png",v),o(3),_("Ch\xE0o, ",(i=r.profile())==null?null:i.name),o(2),d((m=r.profile())==null?null:m.email),o(),f("href","admin/account",v),o(6),E(r.ProfileMenus)}},dependencies:[R,N,T,j,B,L,C,z,O,F,D,U,k,H,P],encapsulation:2})};export{K as ProfileComponent};

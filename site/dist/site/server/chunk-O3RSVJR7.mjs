import './polyfills.server.mjs';
import{l as K,m as Q,n as U,o as Z,p as J,t as ee,x as te,y as ie}from"./chunk-AN55SSON.mjs";import{Bc as p,Cc as R,D as X,Db as Y,Dc as _,Ec as L,Jb as S,Na as v,Nc as k,Pc as G,Qc as W,Rc as N,Sc as q,Vb as h,Wb as C,dc as r,ec as c,gc as M,hc as F,jc as V,nc as y,oc as w,od as z,pb as P,qb as s,ua as g,uc as O,va as f,vc as A,wc as j}from"./chunk-CLZUD6JJ.mjs";import"./chunk-KB5IWD3E.mjs";import{a as b,b as $}from"./chunk-RIAI3ORJ.mjs";var oe=["mapContainer"],B=(a,e)=>({"bg-green-600 text-white shadow-inner":a,"bg-gray-200 hover:bg-gray-300":e}),re=(a,e)=>({"border-blue-600 font-bold bg-blue-100 transform scale-105":a,"border-gray-300":e}),ae=(a,e,t,i)=>({"bg-green-700 hover:bg-green-600":a,"bg-yellow-800 hover:bg-yellow-700":e,"bg-yellow-600 hover:bg-yellow-500":t,"bg-yellow-600 hover:bg-yellow-500 border-2 border-black z-10":i});function le(a,e){if(a&1){let t=V();r(0,"div",20),y("click",function(){let n=g(t).$implicit,o=w();return f(o.selectSeed(n.id))}),r(1,"span"),p(2),c(),r(3,"span",21),p(4),c()()}if(a&2){let t=e.$implicit,i=e.index,n=w();C("border-color",n.selectedCropId()===t.id&&n.selectedTool()==="plant"?"blue":t.color||"#d1d5db"),h("ngClass",k(6,re,n.selectedCropId()===t.id&&n.selectedTool()==="plant",n.selectedCropId()!==t.id||n.selectedTool()!=="plant")),s(2),L("",i+1,". ",t.name,""),s(2),_(" (",n.inventory()["crop"+t.id]||0,") ")}}function se(a,e){a&1&&(r(0,"span",28),p(1,"\u0110\u1EA5t"),c())}function ce(a,e){if(a&1&&(M(0),r(1,"span",29),p(2),c(),r(3,"span",30),p(4),c(),F()),a&2){let t,i,n=w(2).$implicit,o=w();s(),C("color",((t=o.getCropById(n.cropId))==null?null:t.color)||"white"),s(),_(" ",(i=o.getCropById(n.cropId))==null||i.name==null?null:i.name.substring(0,3)," "),s(2),_(" ",o.getRemainingTime(n),"s ")}}function pe(a,e){if(a&1&&(M(0),r(1,"span",29),p(2),c(),r(3,"span",30),p(4),c(),F()),a&2){let t,i,n=w(2).$implicit,o=w();s(),C("color",((t=o.getCropById(n.cropId))==null?null:t.color)||"white"),s(),_(" ",(i=o.getCropById(n.cropId))==null||i.name==null?null:i.name.substring(0,3),".. "),s(2),_(" ",o.getRemainingTime(n),"s ")}}function me(a,e){if(a&1&&(r(0,"span",31),p(1," S\u1EB5n S\xE0ng! "),c()),a&2){let t,i=w(2).$implicit,n=w();C("color",((t=n.getCropById(i.cropId))==null?null:t.color)||"white")}}function de(a,e){if(a&1&&(M(0)(1,24),S(2,se,2,0,"span",25)(3,ce,5,4,"ng-container",26)(4,pe,5,4,"ng-container",26)(5,me,2,2,"span",27),F()()),a&2){let t=w().$implicit;s(),h("ngSwitch",t.state),s(),h("ngSwitchCase","empty"),s(),h("ngSwitchCase","seed"),s(),h("ngSwitchCase","growing"),s(),h("ngSwitchCase","ready")}}function he(a,e){a&1&&(M(0),r(1,"span",32),p(2," P "),c(),F())}function ue(a,e){if(a&1){let t=V();r(0,"div",22),y("click",function(){let n=g(t).$implicit,o=w();return f(o.onTileClick(n))}),S(1,de,6,5,"ng-container",23)(2,he,3,0,"ng-container",23),c()}if(a&2){let t=e.$implicit,i=w();C("width",i.baseTileSize,"px")("height",i.baseTileSize,"px")("left",t.col*i.baseTileSize,"px")("top",t.row*i.baseTileSize,"px")("background-color",t.type==="soil"&&t.state==="empty"?i.getSoilColor(t):null),h("ngClass",G(13,ae,t.type==="grass",t.type==="soil"&&t.state!=="empty",t.type==="pen"&&!t.isPenTopLeft,t.isPenTopLeft)),s(),h("ngIf",t.type==="soil"),s(),h("ngIf",t.type==="pen"&&t.isPenTopLeft)}}function ge(a,e){if(a&1&&(r(0,"div",41)(1,"div",42),p(2),W(3,"uppercase"),c(),r(4,"div",43),p(5),c(),r(6,"div",44),p(7),c()()),a&2){let t=e.$implicit;s(),C("background-color",t.color||"#a1a1aa"),s(),_(" ",N(3,5,t.name.substring(0,1))," "),s(3),_(" ",t.name," "),s(2),_(" x ",t.quantity," ")}}function fe(a,e){a&1&&(r(0,"div",45),p(1," T\xFAi \u0111\u1ED3 tr\u1ED1ng tr\u01A1n... "),c())}function ve(a,e){if(a&1){let t=V();r(0,"div",33),y("click",function(){g(t);let n=w();return f(n.toggleInventoryDialog())}),r(1,"div",34),y("click",function(n){return g(t),f(n.stopPropagation())}),r(2,"div",35)(3,"h2",36),p(4,"T\xFAi \u0110\u1ED3"),c(),r(5,"button",37),y("click",function(){g(t);let n=w();return f(n.toggleInventoryDialog())}),p(6," \xD7 "),c()(),r(7,"div",38),S(8,ge,8,7,"div",39)(9,fe,2,0,"div",40),c()()()}if(a&2){let t=w();s(8),h("ngForOf",t.inventoryItems()),s(),h("ngIf",t.inventoryItems().length===0)}}var ne=class a{rows=50;cols=50;baseTileSize=48;mapTilesSignal=v([]);tickSub;lastHarvestInfo="";materialDropRate=.8;seedDropRate=.5;showInventoryDialog=!1;zoomLevel=v(1);panX=v(0);panY=v(0);isPanning=v(!1);lastPanCoords={x:0,y:0};viewportWidth=v(0);viewportHeight=v(0);growingPlots=v([]);mapContainerRef;selectedTool=v("harvest");crops=[{id:1,name:"chanh v\xE0ng",element:"kim",growthTime:10,harvestValue:5,color:"yellow"},{id:2,name:"\u1ED5i",element:"moc",growthTime:8,harvestValue:4,color:"green"},{id:3,name:"m\u1EADn",element:"thuy",growthTime:12,harvestValue:6,color:"blue"},{id:4,name:"\u0111\xE0o",element:"hoa",growthTime:9,harvestValue:5,color:"red"},{id:5,name:"nh\xE3n",element:"tho",growthTime:11,harvestValue:7,color:"brown"}];cropMaterials={1:[{id:101,name:"S\u1EE3i chanh v\xE0ng"},{id:102,name:"Nh\u1EF1a chanh"}],2:[{id:201,name:"S\u1EE3i \u1ED5i"},{id:202,name:"L\xE1 \u1ED5i"},{id:203,name:"G\u1ED7 \u1ED5i"}],3:[{id:301,name:"S\u1EE3i m\u1EADn"},{id:302,name:"Nh\u1EF1a m\u1EADn"}],4:[{id:401,name:"S\u1EE3i \u0111\xE0o"},{id:402,name:"Hoa \u0111\xE0o"},{id:403,name:"G\u1ED7 \u0111\xE0o"}],5:[{id:501,name:"S\u1EE3i nh\xE3n"},{id:502,name:"V\u1ECF nh\xE3n"},{id:503,name:"G\u1ED7 nh\xE3n"}]};soilColors={kim:"#EFEFEF",moc:"#A0522D",thuy:"#2F4F4F",hoa:"#B22222",tho:"#DEB887"};birthMap={kim:"thuy",thuy:"moc",moc:"hoa",hoa:"tho",tho:"kim"};killMap={kim:"moc",moc:"tho",tho:"thuy",thuy:"hoa",hoa:"kim"};inventory=v({crop1:5,crop2:5,crop3:5,crop4:5,crop5:5,fruit1:0,fruit2:0,fruit3:0,fruit4:0,fruit5:0,mat101:0,mat102:0,mat201:0,mat202:0,mat203:0,mat301:0,mat302:0,mat401:0,mat402:0,mat403:0,mat501:0,mat502:0,mat503:0,soil:50,pen:20});money=v(0);playerLevel=v(1);playerXP=v(0);selectedCropId=v(this.crops[0].id);inventoryItems=z(()=>{let e=this.inventory(),t=[];return this.crops.forEach(i=>{let n=`crop${i.id}`;e[n]>0&&t.push({id:n,name:`${i.name} Seed`,quantity:e[n],type:"seed",color:i.color})}),this.crops.forEach(i=>{let n=`fruit${i.id}`;e[n]>0&&t.push({id:n,name:i.name,quantity:e[n],type:"fruit",color:i.color})}),Object.values(this.cropMaterials).flat().forEach(i=>{let n=`mat${i.id}`;e[n]>0&&t.push({id:n,name:i.name,quantity:e[n],type:"material"})}),e.soil>0&&t.push({id:"soil",name:"\u0110\u1EA5t",quantity:e.soil,type:"tool",color:"#A0522D"}),e.pen>0&&t.push({id:"pen",name:"Chu\u1ED3ng",quantity:e.pen,type:"tool",color:"#D2B48C"}),t});visibleTiles=z(()=>{let e=this.zoomLevel(),t=this.baseTileSize*e,i=this.panX(),n=this.panY(),o=this.viewportWidth(),l=this.viewportHeight(),m=this.mapTilesSignal();if(m.length===0||o===0||l===0)return[];let d=2,u=Math.max(0,Math.floor(-n/t)-d),x=Math.min(this.rows-1,Math.ceil((-n+l)/t)+d),T=Math.max(0,Math.floor(-i/t)-d),E=Math.min(this.cols-1,Math.ceil((-i+o)/t)+d),I=[];for(let D=u;D<=x;D++)for(let H=T;H<=E;H++)m[D]?.[H]&&I.push(m[D][H]);return I});mapTransform=z(()=>`translate(${this.panX()}px, ${this.panY()}px) scale(${this.zoomLevel()})`);ngOnInit(){this.initMap(),this.tickSub=X(500).subscribe(()=>this.updateGrowthOptimized()),window.addEventListener("keydown",this.onKey)}ngAfterViewInit(){this.updateViewportSize()}ngOnDestroy(){this.tickSub.unsubscribe(),window.removeEventListener("keydown",this.onKey)}updateViewportSize(){this.mapContainerRef&&(this.viewportWidth.set(this.mapContainerRef.nativeElement.clientWidth),this.viewportHeight.set(this.mapContainerRef.nativeElement.clientHeight))}initMap(){let e=[],t=0;for(let i=0;i<this.rows;i++){e[i]=[];for(let n=0;n<this.cols;n++)e[i][n]={id:t++,row:i,col:n,type:"grass",cropId:null,growthProgress:0,effectiveGrowthTime:0,effectiveHarvestValue:0,state:void 0,soilType:void 0,isPenTopLeft:!1}}this.mapTilesSignal.set(e),this.growingPlots.set([])}updateTile(e,t,i){this.mapTilesSignal.update(n=>{let o=n.map(l=>l.map(m=>b({},m)));return o[e][t]=b(b({},o[e][t]),i),o})}placeSoil(e){e.type==="grass"&&this.inventory().soil>0?(this.inventory.update(t=>$(b({},t),{soil:t.soil-1})),this.updateTile(e.row,e.col,{type:"soil",state:"empty",soilType:(e.row*this.cols+e.col)%5}),this.lastHarvestInfo=`\u0110\u1EB7t 1 \xF4 \u0111\u1EA5t t\u1EA1i (${e.row}, ${e.col}).`):e.type!=="grass"?this.lastHarvestInfo="Ch\u1EC9 c\xF3 th\u1EC3 \u0111\u1EB7t \u0111\u1EA5t tr\xEAn c\u1ECF!":this.lastHarvestInfo="H\u1EBFt \u0111\u1EA5t trong t\xFAi!"}canPlacePen(e,t){let i=this.mapTilesSignal();if(e+1>=this.rows||t+1>=this.cols)return!1;for(let n=e;n<e+2;n++)for(let o=t;o<t+2;o++)if(!i[n]?.[o]||i[n][o].type!=="grass")return!1;return!0}placePen(e){if(this.inventory().pen>0&&this.canPlacePen(e.row,e.col)){this.inventory.update(t=>$(b({},t),{pen:t.pen-1}));for(let t=0;t<2;t++)for(let i=0;i<2;i++)this.updateTile(e.row+t,e.col+i,{type:"pen",isPenTopLeft:t===0&&i===0});this.lastHarvestInfo=`\u0110\u1EB7t 1 chu\u1ED3ng t\u1EA1i (${e.row}, ${e.col}).`}else this.canPlacePen(e.row,e.col)?this.lastHarvestInfo="H\u1EBFt chu\u1ED3ng trong t\xFAi!":this.lastHarvestInfo="Kh\xF4ng \u0111\u1EE7 ch\u1ED7 (c\u1EA7n 2x2 c\u1ECF) ho\u1EB7c \u0111\xE3 ra r\xECa b\u1EA3n \u0111\u1ED3!"}onTileClick(e){switch(this.selectedTool()){case"place_soil":this.placeSoil(e);break;case"place_pen":this.placePen(e);break;case"plant":case"harvest":this.handlePlantHarvestClick(e);break}}handlePlantHarvestClick(e){let t=this.selectedTool();if(e.type!=="soil"){this.lastHarvestInfo="Ch\u1EC9 c\xF3 th\u1EC3 tr\u1ED3ng/thu ho\u1EA1ch tr\xEAn \u0111\u1EA5t!";return}let n=this.mapTilesSignal()[e.row][e.col];if(t==="plant"&&n.state==="empty"){let o=this.selectedCropId(),l=this.crops.find(I=>I.id===o),m=["kim","moc","thuy","hoa","tho"][n.soilType],d=b({},this.inventory()),u=`crop${l.id}`;if(!d[u]||d[u]<=0){this.lastHarvestInfo=`Kh\xF4ng \u0111\u1EE7 h\u1EA1t gi\u1ED1ng ${l.name}!`;return}d[u]--,this.inventory.set(d);let x=1,T=1;this.birthMap[l.element]===m?(x=1.5,T=.8):this.killMap[l.element]===m&&(x=.7,T=1.3);let E={state:"seed",cropId:l.id,effectiveGrowthTime:Math.ceil(l.growthTime*T),effectiveHarvestValue:Math.ceil(l.harvestValue*x),growthProgress:0};this.updateTile(e.row,e.col,E),this.growingPlots.update(I=>[...I,b(b({},n),E)]),this.lastHarvestInfo=`Tr\u1ED3ng ${l.name}.`}else if(t==="harvest"&&n.state==="ready"&&n.cropId!==null){let o=this.crops.find(u=>u.id===n.cropId),l=n.effectiveHarvestValue;this.money.set(this.money()+l),this.increasePlayerXP(l);let m=b({},this.inventory()),d=[];m[`fruit${o.id}`]=(m[`fruit${o.id}`]||0)+1,d.push(`${o.name}: 1`),Math.random()<this.seedDropRate&&(m[`crop${o.id}`]=(m[`crop${o.id}`]||0)+1,d.push(`${o.name} Seed: 1`)),(this.cropMaterials[o.id]||[]).forEach(u=>{Math.random()<this.materialDropRate&&(m[`mat${u.id}`]=(m[`mat${u.id}`]||0)+1,d.push(`${u.name}: 1`))}),this.inventory.set(m),this.lastHarvestInfo=`Thu ho\u1EA1ch ${o.name} (+${l} Ti\u1EC1n, +${l} XP): ${d.join(", ")}`,this.updateTile(e.row,e.col,{state:"empty",cropId:null,growthProgress:0,effectiveGrowthTime:0,effectiveHarvestValue:0}),this.growingPlots.update(u=>u.filter(x=>x.id!==e.id))}else t==="plant"&&n.state!=="empty"?this.lastHarvestInfo="\xD4 \u0111\u1EA5t n\xE0y ch\u01B0a s\u1EB5n s\xE0ng \u0111\u1EC3 tr\u1ED3ng!":t==="harvest"&&n.state!=="ready"&&(this.lastHarvestInfo="C\xE2y ch\u01B0a ch\xEDn \u0111\u1EC3 thu ho\u1EA1ch!")}updateGrowthOptimized(){let e=this.growingPlots();if(e.length===0)return;let t=this.mapTilesSignal(),i=!1,n=[];e.forEach(o=>{let l=t[o.row][o.col];if((l.state==="seed"||l.state==="growing")&&l.cropId){let m=l.growthProgress+1,d=l.state;m>=l.effectiveGrowthTime?d="ready":(d="growing",n.push($(b({},l),{growthProgress:m,state:d}))),this.updateTile(l.row,l.col,{growthProgress:m,state:d}),i=!0}}),i&&this.growingPlots.set(n)}handleWheel(e){e.preventDefault();let t=1.1,i=this.zoomLevel(),n;if(e.deltaY<0?n=Math.min(3,i*t):n=Math.max(.2,i/t),n!==i){let l=this.mapContainerRef.nativeElement.getBoundingClientRect(),m=e.clientX-l.left,d=e.clientY-l.top,u=(m-this.panX())/i,x=(d-this.panY())/i,T=m-u*n,E=d-x*n;this.zoomLevel.set(n),this.panX.set(this.clampPan(T,this.viewportWidth(),this.cols*this.baseTileSize*n)),this.panY.set(this.clampPan(E,this.viewportHeight(),this.rows*this.baseTileSize*n))}}zoomIn(){let e=this.mapContainerRef.nativeElement,t=e.clientWidth/2,i=e.clientHeight/2;this.handleWheel({deltaY:-100,clientX:t+e.getBoundingClientRect().left,clientY:i+e.getBoundingClientRect().top,preventDefault:()=>{}})}zoomOut(){let e=this.mapContainerRef.nativeElement,t=e.clientWidth/2,i=e.clientHeight/2;this.handleWheel({deltaY:100,clientX:t+e.getBoundingClientRect().left,clientY:i+e.getBoundingClientRect().top,preventDefault:()=>{}})}clampPan(e,t,i){let o=Math.min(0,t-i);return Math.max(o,Math.min(0,e))}onMouseDown(e){e.preventDefault(),this.isPanning.set(!0),this.lastPanCoords={x:e.clientX,y:e.clientY},this.mapContainerRef.nativeElement.style.cursor="grabbing"}onMouseMove(e){if(!this.isPanning())return;e.preventDefault();let t=e.clientX-this.lastPanCoords.x,i=e.clientY-this.lastPanCoords.y;this.lastPanCoords={x:e.clientX,y:e.clientY};let n=this.zoomLevel(),o=this.cols*this.baseTileSize*n,l=this.rows*this.baseTileSize*n;this.panX.update(m=>this.clampPan(m+t,this.viewportWidth(),o)),this.panY.update(m=>this.clampPan(m+i,this.viewportHeight(),l))}onMouseUp(e){this.isPanning()&&(this.isPanning.set(!1),this.mapContainerRef.nativeElement.style.cursor="grab")}onMouseLeave(e){e.relatedTarget===null&&this.isPanning()&&this.onMouseUp(e)}getRemainingTime=e=>Math.max(0,e.effectiveGrowthTime-e.growthProgress);getCropById=e=>this.crops.find(t=>t.id===e);getSoilColor=e=>this.soilColors[["kim","moc","thuy","hoa","tho"][e.soilType]];selectSeed(e){this.selectedCropId.set(e),this.selectedTool.set("plant")}toggleInventoryDialog=()=>this.showInventoryDialog=!this.showInventoryDialog;increasePlayerXP(e){let t=this.playerXP(),i=this.playerLevel();for(t+=e;t>=i*20;)t-=i*20,i++;this.playerXP.set(t),this.playerLevel.set(i)}onKey=e=>{if(e.key>="1"&&e.key<="5"){let t=+e.key-1;this.crops[t]&&this.selectSeed(this.crops[t].id)}e.key.toLowerCase()==="i"&&this.toggleInventoryDialog()};trackTileById=(e,t)=>t.id;static \u0275fac=function(t){return new(t||a)};static \u0275cmp=Y({type:a,selectors:[["app-farm"]],viewQuery:function(t,i){if(t&1&&O(oe,5),t&2){let n;A(n=j())&&(i.mapContainerRef=n.first)}},hostBindings:function(t,i){t&1&&y("resize",function(){return i.updateViewportSize()},!1,P)("mousemove",function(o){return i.onMouseMove(o)},!1,P)("mouseup",function(o){return i.onMouseUp(o)},!1,P)("mouseleave",function(o){return i.onMouseLeave(o)},!1,P)},decls:52,vars:33,consts:[["mapContainer",""],[1,"flex","w-screen","h-screen","overflow-hidden","font-sans"],[1,"w-64","p-4","bg-gray-100","border-r","border-gray-300","flex","flex-col","gap-4","overflow-y-auto","shrink-0"],[1,"text-xl","font-bold","text-center","text-gray-800"],[1,"bg-white","p-3","rounded-lg","shadow-md"],[1,"text-lg","font-semibold","text-center","text-gray-800","mb-2"],[1,"text-sm"],[1,"font-medium"],[1,"grid","grid-cols-2","gap-2","text-sm"],[1,"p-2","rounded","transition","duration-150",3,"click","ngClass"],["class","p-2 border-2 rounded-md cursor-pointer mb-1 flex justify-between items-center transition duration-200 ease-in-out hover:bg-gray-200",3,"ngClass","borderColor","click",4,"ngFor","ngForOf"],[1,"bg-white","p-3","rounded-lg","shadow-md","flex","justify-around","items-center"],[1,"px-3","py-1","bg-blue-500","text-white","rounded","hover:bg-blue-600","text-lg","font-bold","transition","active:scale-95",3,"click"],[1,"text-sm","text-center","self-center"],[1,"w-full","p-3","bg-purple-600","text-white","rounded-md","cursor-pointer","text-center","hover:bg-purple-700","transition",3,"click"],[1,"mt-auto","p-3","bg-yellow-50","border","border-yellow-300","rounded-md","min-h-[60px]","text-sm","text-gray-800","break-words"],[1,"flex-grow","overflow-hidden","bg-green-800","relative","cursor-grab",3,"wheel","mousedown"],[1,"absolute","top-0","left-0",2,"transform-origin","0 0","width","calc(50 * 3rem)","height","calc(50 * 3rem)"],["class","absolute border border-black/20 box-border flex flex-col items-center justify-center text-xs select-none",3,"width","height","left","top","ngClass","backgroundColor","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","fixed inset-0 bg-black/70 flex justify-center items-center z-50",3,"click",4,"ngIf"],[1,"p-2","border-2","rounded-md","cursor-pointer","mb-1","flex","justify-between","items-center","transition","duration-200","ease-in-out","hover:bg-gray-200",3,"click","ngClass"],[1,"text-sm","text-gray-600"],[1,"absolute","border","border-black/20","box-border","flex","flex-col","items-center","justify-center","text-xs","select-none",3,"click","ngClass"],[4,"ngIf"],[3,"ngSwitch"],["class","font-bold text-white/70",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","font-bold text-xs animate-pulse",3,"color",4,"ngSwitchCase"],[1,"font-bold","text-white/70"],[1,"font-bold","text-center","leading-tight","text-xs"],[1,"text-[0.5rem]","text-white","bg-black/40","px-0.5","rounded-sm"],[1,"font-bold","text-xs","animate-pulse"],[1,"text-xl","font-bold","text-gray-800/80"],[1,"fixed","inset-0","bg-black/70","flex","justify-center","items-center","z-50",3,"click"],[1,"bg-white","p-5","rounded-lg","shadow-xl","w-11/12","max-w-3xl","max-h-[85vh]","relative","flex","flex-col",3,"click"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold","text-gray-800"],[1,"bg-transparent","border-none","text-3xl","cursor-pointer","text-gray-500","hover:text-black","transition",3,"click"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-5","gap-3","overflow-y-auto","p-2","border","border-gray-200","min-h-[200px]","rounded-md","bg-gray-50"],["class","border border-gray-300 rounded-lg p-2 text-center bg-white flex flex-col items-center justify-between hover:shadow-md transition duration-150",4,"ngFor","ngForOf"],["class","col-span-full text-center p-8 text-gray-400",4,"ngIf"],[1,"border","border-gray-300","rounded-lg","p-2","text-center","bg-white","flex","flex-col","items-center","justify-between","hover:shadow-md","transition","duration-150"],[1,"w-10","h-10","rounded-full","flex","justify-center","items-center","text-base","font-bold","text-white","mb-1","shadow-inner"],[1,"text-xs","font-semibold","mb-0.5","break-words","w-full","leading-tight"],[1,"text-xs","text-gray-500"],[1,"col-span-full","text-center","p-8","text-gray-400"]],template:function(t,i){if(t&1){let n=V();r(0,"div",1)(1,"div",2)(2,"h1",3),p(3,"N\xF4ng Tr\u1EA1i Vui V\u1EBB"),c(),r(4,"div",4)(5,"h2",5),p(6,"Tr\u1EA1ng Th\xE1i"),c(),r(7,"div",6),p(8," Ti\u1EC1n: "),r(9,"span",7),p(10),c()(),r(11,"div",6),p(12," C\u1EA5p \u0111\u1ED9: "),r(13,"span",7),p(14),c()(),r(15,"div",6),p(16," Kinh nghi\u1EC7m: "),r(17,"span",7),p(18),c()()(),r(19,"div",4)(20,"h2",5),p(21,"C\xF4ng C\u1EE5"),c(),r(22,"div",8)(23,"button",9),y("click",function(){return g(n),f(i.selectedTool.set("harvest"))}),p(24," Thu Ho\u1EA1ch "),c(),r(25,"button",9),y("click",function(){return g(n),f(i.selectedTool.set("plant"))}),p(26," Tr\u1ED3ng C\xE2y "),c(),r(27,"button",9),y("click",function(){return g(n),f(i.selectedTool.set("place_soil"))}),p(28),c(),r(29,"button",9),y("click",function(){return g(n),f(i.selectedTool.set("place_pen"))}),p(30),c()()(),r(31,"div",4)(32,"h2",5),p(33," Ch\u1ECDn H\u1EA1t Gi\u1ED1ng (1-5) "),c(),S(34,le,5,9,"div",10),c(),r(35,"div",11)(36,"button",12),y("click",function(){return g(n),f(i.zoomIn())}),p(37," + "),c(),r(38,"span",13),p(39),W(40,"number"),c(),r(41,"button",12),y("click",function(){return g(n),f(i.zoomOut())}),p(42," - "),c()(),r(43,"button",14),y("click",function(){return g(n),f(i.toggleInventoryDialog())}),p(44," M\u1EDF T\xFAi \u0110\u1ED3 (I) "),c(),r(45,"div",15),p(46),c()(),r(47,"div",16,0),y("wheel",function(l){return g(n),f(i.handleWheel(l))})("mousedown",function(l){return g(n),f(i.onMouseDown(l))}),r(49,"div",17),S(50,ue,3,18,"div",18),c()(),S(51,ve,10,2,"div",19),c()}t&2&&(s(10),R(i.money()),s(4),R(i.playerLevel()),s(4),L("",i.playerXP()," / ",i.playerLevel()*20,""),s(5),h("ngClass",k(21,B,i.selectedTool()==="harvest",i.selectedTool()!=="harvest")),s(2),h("ngClass",k(24,B,i.selectedTool()==="plant",i.selectedTool()!=="plant")),s(2),h("ngClass",k(27,B,i.selectedTool()==="place_soil",i.selectedTool()!=="place_soil")),s(),_(" \u0110\u1EB7t \u0110\u1EA5t (",i.inventory().soil||0,") "),s(),h("ngClass",k(30,B,i.selectedTool()==="place_pen",i.selectedTool()!=="place_pen")),s(),_(" \u0110\u1EB7t Chu\u1ED3ng (",i.inventory().pen||0,") "),s(4),h("ngForOf",i.crops),s(5),_("",q(40,18,i.zoomLevel(),"1.1-1"),"x"),s(7),_(" ",i.lastHarvestInfo," "),s(3),C("transform",i.mapTransform()),s(),h("ngForOf",i.visibleTiles())("ngForTrackBy",i.trackTileById),s(),h("ngIf",i.showInventoryDialog))},dependencies:[ie,K,Q,U,Z,J,ee,te],encapsulation:2,changeDetection:0})};export{ne as FarmComponent};

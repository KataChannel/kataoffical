import{z as t}from"./chunk-WSS66JWQ.js";import{Qa as d,ea as i,ja as c}from"./chunk-PK4LGOSM.js";import{j as s}from"./chunk-6DNLS54U.js";var m=class a{constructor(o){this.platformId=o}setItem(o,e){t(this.platformId)&&localStorage.setItem(o,JSON.stringify(e))}getItem(o){if(t(this.platformId)){let e=localStorage.getItem(o);return e?JSON.parse(e):null}}removeItem(o){t(this.platformId)&&localStorage.removeItem(o)}clear(){t(this.platformId)&&localStorage.clear()}clearAllIndexedDB(){return s(this,null,function*(){try{let o=yield window.indexedDB.databases();for(let e of o)e.name&&(yield new Promise((f,n)=>{let r=window.indexedDB.deleteDatabase(e.name);r.onsuccess=()=>{console.log(`Database ${e.name} deleted`),f()},r.onerror=l=>{console.error(`Error deleting ${e.name}:`,l),n(l)},r.onblocked=()=>{console.warn(`Deletion of ${e.name} blocked`),n(new Error(`Deletion of ${e.name} blocked`))}}));console.log("All IndexedDB databases cleared")}catch(o){console.error("Failed to clear all IndexedDB databases:",o)}})}static \u0275fac=function(e){return new(e||a)(c(d))};static \u0275prov=i({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a};

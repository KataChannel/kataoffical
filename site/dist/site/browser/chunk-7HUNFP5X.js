import{a as re,b as ue}from"./chunk-76FVDIDV.js";import"./chunk-KMTTID2Z.js";import"./chunk-WGRZ7OU3.js";import{a as oe,b as le}from"./chunk-INAH5Y6A.js";import"./chunk-EIYXLBRB.js";import"./chunk-F5X5MWHG.js";import"./chunk-6YWI4PR3.js";import"./chunk-AH445ACS.js";import"./chunk-25O4DVGE.js";import{h as ee}from"./chunk-BMYJTCCL.js";import"./chunk-V2HNV6GD.js";import"./chunk-MS4AQ6UA.js";import{d as B,e as ne}from"./chunk-O5ADOJKP.js";import{b as ae}from"./chunk-7BIMFKJV.js";import{d as F}from"./chunk-O6JYMFHC.js";import"./chunk-KDLSUHPH.js";import"./chunk-E3L4RDDQ.js";import{b as J}from"./chunk-BZD55ANN.js";import"./chunk-OYQAUG4H.js";import"./chunk-5LVD2PK4.js";import{a as H,c as q}from"./chunk-YY2IMMDR.js";import"./chunk-6H4HLFRK.js";import"./chunk-BVBYNWHQ.js";import"./chunk-RT2KEOZH.js";import{a as x,f as I,g as te,i as L,j as ie}from"./chunk-LE5WZP6V.js";import{b as Y,f as T,i as k,k as Z,m as $}from"./chunk-6ZJGR7X4.js";import{a as Q,b as U}from"./chunk-F3NJGPQK.js";import"./chunk-EEDTNJ2B.js";import"./chunk-JSBH4EGU.js";import{c as G,f as X}from"./chunk-MDDDUITI.js";import"./chunk-R5QIVXGH.js";import"./chunk-TPO34YLD.js";import"./chunk-UBLFOWKT.js";import{p as O,r as j}from"./chunk-Y5KLSAKG.js";import{Ec as z,Fc as R,Hb as W,Ib as P,Lb as E,Mb as v,Nc as K,Ob as N,Pb as w,Qb as b,Rb as m,Sb as n,Tb as o,Yb as D,ac as f,bc as g,eb as u,ka as _,pa as h,pc as s,qa as C,qb as A,qc as y,uc as p,vc as c,wb as V,wc as M,za as S}from"./chunk-TWMQPIMW.js";import"./chunk-EU2KAMEK.js";import{j as d}from"./chunk-47CWAPKR.js";var me=()=>[I,x,L,T,k,B,F],de=(r,e)=>e.id;function pe(r,e){if(r&1){let i=D();n(0,"button",1),f("click",function(){h(i);let l=g();return C(l.handleMenuAction())}),n(1,"mat-icon"),s(2,"save"),o()()}}function ce(r,e){if(r&1){let i=D();n(0,"button",1),f("click",function(){h(i);let l=g();return C(l.toggleEdit())}),n(1,"mat-icon"),s(2,"edit"),o()()}}function Me(r,e){if(r&1&&(n(0,"mat-option",11),s(1),o()),r&2){let i=e.$implicit;m("value",i.key),u(),y(i.value)}}function _e(r,e){if(r&1&&(n(0,"mat-option",11),s(1),o()),r&2){let i=e.$implicit;m("value",i.id),u(),y(i.title)}}function fe(r,e){r&1&&(n(0,"span",18),s(1,"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u."),o())}function ge(r,e){if(r&1){let i=D();n(0,"mat-form-field",7)(1,"mat-label"),s(2,"Th\u01B0 M\u1EE5c Cha"),o(),n(3,"mat-select",10),M("ngModelChange",function(l){h(i);let a=g();return c(a.DetailMenu().parentId,l)||(a.DetailMenu().parentId=l),C(l)}),n(4,"div",14)(5,"mat-form-field",15)(6,"input",16),f("keyup",function(l){h(i);let a=g();return C(a.DoFilterMenu(l))}),o()(),n(7,"div",17),w(8,_e,2,2,"mat-option",11,de,!1,fe,2,0,"span",18),o()()()()}if(r&2){let i=g();u(3),p("ngModel",i.DetailMenu().parentId),m("disabled",!i.isEdit()),u(5),b(i.ListMenu)}}var se=class r{_ListMenuComponent=_(ue);_MenuService=_(re);_route=_(H);_router=_(q);_snackBar=_(J);ListMenu=[];serviceType={core:"Admin",spa:"Spa",cms:"CMS",academy:"H\u1ECDc Vi\u1EC7n",affiliate:"Affiliate",cosmetics:"M\u1EF9 Ph\u1EA9m",ecommerce:"Th\u01B0\u01A1ng M\u1EA1i \u0110i\u1EC7n T\u1EED"};constructor(){this._route.paramMap.subscribe(e=>d(this,null,function*(){let i=e.get("id");this._MenuService.setMenuId(i),yield this._MenuService.getAllMenu(),this.ListMenu=this._MenuService.ListMenu()})),K(()=>d(this,null,function*(){let e=this._MenuService.menuId();e||(this._router.navigate(["/admin/menu"]),this._ListMenuComponent.drawer.close()),e==="new"?(this.DetailMenu.set({}),this._ListMenuComponent.drawer.open(),this.isEdit.update(i=>!i),this._router.navigate(["/admin/menu","new"])):(yield this._MenuService.getMenuBy({id:e}),this._ListMenuComponent.drawer.open(),this._router.navigate(["/admin/menu",e]))}))}DetailMenu=this._MenuService.DetailMenu;isEdit=S(!1);isDelete=S(!1);menuId=this._MenuService.menuId;ngOnInit(){return d(this,null,function*(){})}handleMenuAction(){return d(this,null,function*(){this.menuId()==="new"?yield this.createMenu():yield this.updateMenu()})}createMenu(){return d(this,null,function*(){try{yield this._MenuService.CreateMenu(this.DetailMenu()),this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(e=>!e)}catch(e){console.error("L\u1ED7i khi t\u1EA1o menu:",e)}})}updateMenu(){return d(this,null,function*(){try{yield this._MenuService.updateMenu(this.DetailMenu()),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(e=>!e)}catch(e){console.error("L\u1ED7i khi c\u1EADp nh\u1EADt menu:",e)}})}DeleteData(){return d(this,null,function*(){try{yield this._MenuService.DeleteMenu(this.DetailMenu()),this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/menu"])}catch(e){console.error("L\u1ED7i khi x\xF3a menu:",e)}})}goBack(){this._router.navigate(["/admin/menu"]),this._ListMenuComponent.drawer.close()}trackByFn(e,i){return i.id}toggleEdit(){this.isEdit.update(e=>!e)}toggleDelete(){this.isDelete.update(e=>!e)}FillSlug(){this.DetailMenu.update(e=>(e.slug=ae(e.title),e))}DoFilterMenu(e){let i=e.target.value.toLowerCase();this.ListMenu=this._MenuService.ListMenu().filter(t=>t.title.toLowerCase().includes(i))}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=A({type:r,selectors:[["app-detailmenu"]],decls:35,vars:16,consts:[[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],["mat-icon-button","","color","primary"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[1,"w-full","flex","flex-col","gap-2"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Ti\xEAu \u0110\u1EC1",3,"ngModelChange","input","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Slug",3,"ngModelChange","ngModel","disabled"],[3,"ngModelChange","ngModel","disabled"],[3,"value"],["appearance","outline"],["matInput","","type","number","placeholder","Vui l\xF2ng nh\u1EADp Slug",3,"ngModelChange","ngModel","disabled"],[1,"w-full","flex","flex-col"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","p-2"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"keyup"],[1,"overflow-y-auto","max-h-44"],[1,"p-2","text-center"]],template:function(i,t){if(i&1&&(n(0,"div",0)(1,"button",1),f("click",function(){return t.goBack()}),n(2,"mat-icon"),s(3,"arrow_back"),o()(),n(4,"div",2),s(5),o(),n(6,"div",3),E(7,pe,3,0,"button",4),E(8,ce,3,0,"button",4),o()(),n(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),s(13,"Ti\xEAu \u0110\u1EC1"),o(),n(14,"input",8),M("ngModelChange",function(a){return c(t.DetailMenu().title,a)||(t.DetailMenu().title=a),a}),f("input",function(){return t.FillSlug()}),o()(),n(15,"mat-form-field",7)(16,"mat-label"),s(17,"Slug"),o(),n(18,"input",9),M("ngModelChange",function(a){return c(t.DetailMenu().slug,a)||(t.DetailMenu().slug=a),a}),o()(),n(19,"mat-form-field",7)(20,"mat-label"),s(21,"Lo\u1EA1i Menu"),o(),n(22,"mat-select",10),M("ngModelChange",function(a){return c(t.DetailMenu().serviceType,a)||(t.DetailMenu().serviceType=a),a}),w(23,Me,2,2,"mat-option",11,N),z(25,"keyvalue"),o()(),V(26,ge,11,3),W(27,26,me),P(),n(29,"mat-form-field",12)(30,"mat-label"),s(31,"V\u1ECB Tr\xED"),o(),n(32,"input",13),M("ngModelChange",function(a){return c(t.DetailMenu().order,a)||(t.DetailMenu().order=a),a}),o()(),n(33,"mat-slide-toggle",10),M("ngModelChange",function(a){return c(t.DetailMenu().isActive,a)||(t.DetailMenu().isActive=a),a}),s(34),o()()()),i&2){let l;u(5),y(((l=t.DetailMenu())==null?null:l.title)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),u(2),v(t.isEdit()?7:-1),u(),v(t.isEdit()?-1:8),u(6),p("ngModel",t.DetailMenu().title),m("disabled",!t.isEdit()),u(4),p("ngModel",t.DetailMenu().slug),m("disabled",!t.isEdit()),u(4),p("ngModel",t.DetailMenu().serviceType),m("disabled",!t.isEdit()),u(),b(R(25,14,t.serviceType)),u(9),p("ngModel",t.DetailMenu().order),m("disabled",!t.isEdit()),u(),p("ngModel",t.DetailMenu().isActive),m("disabled",!t.isEdit()),u(),y(t.DetailMenu().isActive?"Hi\u1EC3n Th\u1ECB":"\u1EA8n")}},dependencies:[te,I,x,ie,L,$,Y,Z,T,k,U,Q,X,G,ne,B,F,ee,j,O,le,oe],encapsulation:2})};export{se as DetailMenuComponent};

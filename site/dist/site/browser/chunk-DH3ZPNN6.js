import{a as le,b as re}from"./chunk-TFE6HHOA.js";import"./chunk-U3R46IEH.js";import"./chunk-GJNLSSSY.js";import{a as ae,b as oe}from"./chunk-DSEOT5US.js";import"./chunk-X66ZNF5X.js";import"./chunk-TAV3WY2S.js";import"./chunk-KXV7ROFD.js";import"./chunk-F5X5MWHG.js";import"./chunk-CNT5BRLC.js";import"./chunk-3VQUDIXZ.js";import"./chunk-FH6ML5RX.js";import{h as $}from"./chunk-WOSFHDPY.js";import"./chunk-P2G6NQFH.js";import"./chunk-MS4AQ6UA.js";import"./chunk-L2ETKM56.js";import{a as F,b as ie}from"./chunk-45FHGQ3U.js";import"./chunk-DNIPJW6D.js";import"./chunk-54PG2AAV.js";import{b as ne}from"./chunk-7BIMFKJV.js";import"./chunk-PKTJEQ3B.js";import{d as I}from"./chunk-UR6MU37L.js";import"./chunk-4VR3POOM.js";import"./chunk-J4J2VAHN.js";import"./chunk-YDYHG2NV.js";import{b as X}from"./chunk-Z5ZVJLOF.js";import"./chunk-7RWCIHFI.js";import"./chunk-SGYCFQGT.js";import"./chunk-IFEVRPCP.js";import"./chunk-AUWKKKEZ.js";import"./chunk-X4VORVMX.js";import{a as q,f as G}from"./chunk-HKMQ4GPE.js";import"./chunk-C4PYTK5P.js";import{a as b,f as T,g as ee,i as k,j as te}from"./chunk-UEJ6LTLP.js";import{b as U,g as v,j as w,l as Y,q as Z}from"./chunk-LMHWZPEG.js";import"./chunk-J6BPCWMF.js";import"./chunk-W2555ALS.js";import{a as J,b as Q}from"./chunk-NOCWUTO7.js";import"./chunk-OYQAUG4H.js";import"./chunk-EHRDPO6Z.js";import"./chunk-6NMWSGWX.js";import{a as j,c as H}from"./chunk-MVHR5SCV.js";import"./chunk-YOJOLIJ5.js";import{k as O,l as z,u as R,w as K}from"./chunk-AKORSCP4.js";import{Ac as M,Eb as D,Hc as W,Ic as P,La as E,Lb as L,Mb as B,Ob as m,Wb as A,Xb as V,Yb as n,Zb as o,_c as N,cc as S,gc as f,hc as g,ka as _,mb as u,ta as h,tc as s,ua as y,uc as C,yb as x,yc as d,zc as c}from"./chunk-5N4MQVR2.js";import{j as p}from"./chunk-6DNLS54U.js";var se=()=>[T,b,k,v,w,F,I],me=(r,e)=>e.id;function pe(r,e){if(r&1){let i=S();n(0,"button",1),f("click",function(){h(i);let l=g();return y(l.handleMenuAction())}),n(1,"mat-icon"),s(2,"save"),o()()}}function de(r,e){if(r&1){let i=S();n(0,"button",1),f("click",function(){h(i);let l=g();return y(l.toggleEdit())}),n(1,"mat-icon"),s(2,"edit"),o()()}}function ce(r,e){if(r&1&&(n(0,"mat-option",14),s(1),o()),r&2){let i=e.$implicit;m("value",i.key),u(),C(i.value)}}function Me(r,e){if(r&1&&(n(0,"mat-option",14),s(1),o()),r&2){let i=e.$implicit;m("value",i.id),u(),C(i.title)}}function _e(r,e){r&1&&(n(0,"span",19),s(1,"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u."),o())}function fe(r,e){if(r&1){let i=S();n(0,"mat-form-field",7)(1,"mat-label"),s(2,"Th\u01B0 M\u1EE5c Cha"),o(),n(3,"mat-select",10),M("ngModelChange",function(l){h(i);let a=g();return c(a.DetailMenu().parentId,l)||(a.DetailMenu().parentId=l),y(l)}),n(4,"div",15)(5,"mat-form-field",16)(6,"input",17),f("keyup",function(l){h(i);let a=g();return y(a.DoFilterMenu(l))}),o()(),n(7,"div",18),A(8,Me,2,2,"mat-option",14,me,!1,_e,2,0,"span",19),o()()()()}if(r&2){let i=g();u(3),d("ngModel",i.DetailMenu().parentId),m("disabled",!i.isEdit()),u(5),V(i.ListMenu)}}var ue=class r{_ListMenuComponent=_(re);_MenuService=_(le);_route=_(j);_router=_(H);_snackBar=_(X);ListMenu=[];serviceType={core:"Admin",spa:"Spa",cms:"CMS",academy:"H\u1ECDc Vi\u1EC7n",affiliate:"Affiliate",cosmetics:"M\u1EF9 Ph\u1EA9m",ecommerce:"Th\u01B0\u01A1ng M\u1EA1i \u0110i\u1EC7n T\u1EED"};constructor(){this._route.paramMap.subscribe(e=>p(this,null,function*(){let i=e.get("id");this._MenuService.setMenuId(i),yield this._MenuService.getAllMenu(),this.ListMenu=this._MenuService.ListMenu()})),N(()=>p(this,null,function*(){let e=this._MenuService.menuId();e||(this._router.navigate(["/admin/menu"]),this._ListMenuComponent.drawer.close()),e==="new"?(this.DetailMenu.set({}),this._ListMenuComponent.drawer.open(),this.isEdit.update(i=>!i),this._router.navigate(["/admin/menu","new"])):(yield this._MenuService.getMenuBy({id:e}),this._ListMenuComponent.drawer.open(),this._router.navigate(["/admin/menu",e]))}))}DetailMenu=this._MenuService.DetailMenu;isEdit=E(!1);isDelete=E(!1);menuId=this._MenuService.menuId;ngOnInit(){return p(this,null,function*(){})}handleMenuAction(){return p(this,null,function*(){this.menuId()==="new"?yield this.createMenu():yield this.updateMenu()})}createMenu(){return p(this,null,function*(){try{yield this._MenuService.CreateMenu(this.DetailMenu()),this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(e=>!e)}catch(e){console.error("L\u1ED7i khi t\u1EA1o menu:",e)}})}updateMenu(){return p(this,null,function*(){try{yield this._MenuService.updateMenu(this.DetailMenu()),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(e=>!e)}catch(e){console.error("L\u1ED7i khi c\u1EADp nh\u1EADt menu:",e)}})}DeleteData(){return p(this,null,function*(){try{yield this._MenuService.DeleteMenu(this.DetailMenu()),this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/menu"])}catch(e){console.error("L\u1ED7i khi x\xF3a menu:",e)}})}goBack(){this._router.navigate(["/admin/menu"]),this._ListMenuComponent.drawer.close()}trackByFn(e,i){return i.id}toggleEdit(){this.isEdit.update(e=>!e)}toggleDelete(){this.isDelete.update(e=>!e)}FillSlug(){this.DetailMenu.update(e=>(e.slug=ne(e.title),e))}DoFilterMenu(e){let i=e.target.value.toLowerCase();this.ListMenu=this._MenuService.ListMenu().filter(t=>t.title.toLowerCase().includes(i))}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=x({type:r,selectors:[["app-detailmenu"]],decls:34,vars:17,consts:[[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[1,"w-full","flex","flex-col","gap-2"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Ti\xEAu \u0110\u1EC1",3,"ngModelChange","input","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Slug",3,"ngModelChange","ngModel","disabled"],[3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline"],["matInput","","type","number","placeholder","Vui l\xF2ng nh\u1EADp Slug",3,"ngModelChange","ngModel","disabled"],[3,"value"],[1,"w-full","flex","flex-col"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","p-2"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"keyup"],[1,"overflow-y-auto","max-h-44"],[1,"p-2","text-center"]],template:function(i,t){if(i&1&&(n(0,"div",0)(1,"button",1),f("click",function(){return t.goBack()}),n(2,"mat-icon"),s(3,"arrow_back"),o()(),n(4,"div",2),s(5),o(),n(6,"div",3),D(7,pe,3,0,"button",4)(8,de,3,0,"button",4),o()(),n(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),s(13,"Ti\xEAu \u0110\u1EC1"),o(),n(14,"input",8),M("ngModelChange",function(a){return c(t.DetailMenu().title,a)||(t.DetailMenu().title=a),a}),f("input",function(){return t.FillSlug()}),o()(),n(15,"mat-form-field",7)(16,"mat-label"),s(17,"Slug"),o(),n(18,"input",9),M("ngModelChange",function(a){return c(t.DetailMenu().slug,a)||(t.DetailMenu().slug=a),a}),o()(),n(19,"mat-form-field",7)(20,"mat-label"),s(21,"Lo\u1EA1i Menu"),o(),n(22,"mat-select",10),M("ngModelChange",function(a){return c(t.DetailMenu().serviceType,a)||(t.DetailMenu().serviceType=a),a}),D(23,ce,2,2,"mat-option",11),W(24,"keyvalue"),o()(),D(25,fe,11,3),L(26,25,se),B(),n(28,"mat-form-field",12)(29,"mat-label"),s(30,"V\u1ECB Tr\xED"),o(),n(31,"input",13),M("ngModelChange",function(a){return c(t.DetailMenu().order,a)||(t.DetailMenu().order=a),a}),o()(),n(32,"mat-slide-toggle",10),M("ngModelChange",function(a){return c(t.DetailMenu().isActive,a)||(t.DetailMenu().isActive=a),a}),s(33),o()()()),i&2){let l;u(5),C(((l=t.DetailMenu())==null?null:l.title)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),u(2),m("ngIf",t.isEdit()),u(),m("ngIf",!t.isEdit()),u(6),d("ngModel",t.DetailMenu().title),m("disabled",!t.isEdit()),u(4),d("ngModel",t.DetailMenu().slug),m("disabled",!t.isEdit()),u(4),d("ngModel",t.DetailMenu().serviceType),m("disabled",!t.isEdit()),u(),m("ngForOf",P(24,15,t.serviceType)),u(8),d("ngModel",t.DetailMenu().order),m("disabled",!t.isEdit()),u(),d("ngModel",t.DetailMenu().isActive),m("disabled",!t.isEdit()),u(),C(t.DetailMenu().isActive?"Hi\u1EC3n Th\u1ECB":"\u1EA8n")}},dependencies:[ee,T,b,te,k,Z,U,Y,v,w,Q,J,G,q,ie,F,I,$,K,O,z,R,oe,ae],encapsulation:2})};export{ue as DetailMenuComponent};

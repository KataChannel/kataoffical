import './polyfills.server.mjs';
import{a as M}from"./chunk-MFSB7KQ7.mjs";import{a as B}from"./chunk-GGOMCJQF.mjs";import{a as H,f as _}from"./chunk-MBT5KBOH.mjs";import"./chunk-ZC6PNHZU.mjs";import"./chunk-L4NLH23U.mjs";import{e as k}from"./chunk-T3MZ2PZ5.mjs";import"./chunk-T45AR7GG.mjs";import"./chunk-AF4BUXQF.mjs";import"./chunk-G7N755OS.mjs";import"./chunk-5YH22JMS.mjs";import{r as F}from"./chunk-CKIW7MJC.mjs";import{s as G,t as P,u as w}from"./chunk-SJCEIPIQ.mjs";import{Ac as x,Bb as S,Bc as E,Fc as n,Gc as d,Hc as p,Ib as y,Ic as D,Vc as h,Xc as s,bc as A,dc as C,ec as b,fc as t,gc as i,hc as c,la as v,ob as o,pb as T,sc as I,zc as g}from"./chunk-T45FBOIK.mjs";import"./chunk-KB5IWD3E.mjs";import{a as N}from"./chunk-UYFIRDFP.mjs";import"./chunk-YAC5JIZB.mjs";import"./chunk-AFOT676I.mjs";var R=["exportPDF"],Q=["printArea"],V=["dialogTemplate"],L=(r,a)=>a.id;function $(r,a){if(r&1&&(t(0,"div",21)(1,"div",41),n(2),i(),t(3,"span",42),n(4),h(5,"number"),i(),t(6,"span",43),n(7),h(8,"number"),i()()),r&2){let l=a.$implicit,e=a.$index;o(2),D(" ",e+1,"/",l.Title," "),o(2),D("",s(5,5,(l.Giachon.SLTT*1).toFixed(2),"1.2-2"),"",l.Giachon.dvt,""),o(3),p("",s(8,8,l.Giachon.SLTT*l.Giachon.GiaCoSo,"1.0-0")||"0","\u0111")}}function j(r,a){r&1&&n(0," 0 VN\u0110 ")}function q(r,a){if(r&1&&(t(0,"span",28),n(1),h(2,"number"),i()),r&2){let l=I();o(),p("",s(2,1,l.Donhang.TotalTT,"1.0-0")," VN\u0110")}}var K=class r{constructor(a){this.dialog=a}Donhang={};Tongthucte=0;Taikhoan={STK:"0071001404282",TenTK:"Tr\u1EA7n H\u1EEFu L\xE3nh",TenNH:"Vietcombank"};isShowAction=!1;Type="KHACHHANG";exportPDF;printArea;dialogTemplate;route=v(F);_GiohangService=v(B);LinkImage="";ngOnInit(){let a=this.route.snapshot.params.id;a&&(this._GiohangService.getAdDonhangByid(a),this._GiohangService.addonhang$.subscribe(l=>{l&&(console.log(l),this.Donhang=l)})),console.log(this.Donhang)}CloseAll(){this.dialog.closeAll()}GetTimePrint(){return this.Donhang.TimePrint&&this.Donhang.TimePrint.length>0?this.Donhang.TimePrint[this.Donhang.TimePrint.length-1].value:new Date}GetSubTotal(a,l,e){return this._GiohangService.getSum(a,l,e)}GetSubTotalThucte(a,l,e){let u=a.map(m=>m.Giachon);return this._GiohangService.getSumThucte(u,l,e)}GetTotalThucte(a,l,e,u,m){return this.GetSubTotalThucte(l,e,u)+Number(a.Vanchuyen.Phivanchuyen||0)+Number(a.Giamgia||0)+this.GetSubTotal(l,m,"")}openDialog(a){this.dialog.open(a,{}).afterClosed().subscribe(e=>{e=="true"})}convetToPDF(){let e=this.exportPDF.nativeElement;N(e,{scale:4}).then(u=>{let m=u.toDataURL("image/png"),f=new M({orientation:"portrait",unit:"px",format:[559,794]});f.addImage(m,"PNG",-2,-2,559,794),f.save(`${this.Donhang.MaDonHang}_${new Date().getTime()}.pdf`)})}printDiv(){let a=this.printArea.nativeElement;console.log(a);let l=a.style.display;a.style.display="flex",a.style.margin="0",a.style.padding="0",window.print(),a.style.display=l}static \u0275fac=function(l){return new(l||r)(T(H))};static \u0275cmp=S({type:r,selectors:[["app-chitietin"]],viewQuery:function(l,e){if(l&1&&(g(R,5),g(Q,5),g(V,5)),l&2){let u;x(u=E())&&(e.exportPDF=u.first),x(u=E())&&(e.printArea=u.first),x(u=E())&&(e.dialogTemplate=u.first)}},inputs:{Donhang:"Donhang",Tongthucte:"Tongthucte",Taikhoan:"Taikhoan",isShowAction:"isShowAction",Type:"Type"},decls:108,vars:23,consts:[["exportPDF","","printArea",""],[1,"p-4","text-xs","bg-white","rounded-lg","w-[559px]","h-[794px]","mx-auto","lg:scale-[90%]","scale-[90%]"],[1,"h-full","flex","flex-col","divide-y","divide-dashed","divide-black","border-4","border-black"],[1,"grid","grid-cols-3","gap-2","divide-x","divide-black"],[1,"flex","flex-col","items-center","p-2"],["loading","lazy","src","/assets/images/logo.webp",1,"mx-auto"],[1,"italic","text-[8px]"],[1,"text-[10px]","col-span-2","flex","flex-col","px-4","py-2"],[1,"text-[12px]","font-bold"],[1,"grid","grid-cols-6","gap-2","divide-x","divide-dashed","divide-black"],[1,"text-[10px]","col-span-4","flex","flex-col","p-2"],[1,"text-xs","font-bold"],[1,"italic"],[1,"col-span-2","flex","flex-col","space-y-2","p-2"],[1,"w-full","flex","flex-col","space-y-2","text-center","text-[8px]"],["loading","lazy","src","/assets/images/qrcode-oazalo.jpg",1,"w-16","mx-auto"],[1,"px-4"],[1,"grid","grid-cols-6","gap-2","divide-x","divide-black","divide-dashed","items-center"],[1,"col-span-4","text-xs","font-bold","p-1"],[1,"text-center","font-bold","text-[10px]","p-1"],[1,"h-full","py-2","flex","flex-col","space-y-1","text-[12px]"],[1,"flex","flex-row","space-x-2","item-center","w-full"],[1,"col-span-4","font-bold","p-2"],[1,"text-center","font-bold"],[1,"text-right","font-bold","p-2"],[1,"grid","grid-cols-6","gap-2","divide-x","divide-black","divide-dashed","items-center-2"],[1,"flex","items-center","justify-center","p-2","col-span-4","text-[10px]","italic"],[1,"col-span-2","flex","flex-row","space-x-2","p-2","justify-between"],[1,"font-bold"],[1,"grid","grid-cols-8","gap-2","divide-x","divide-black","divide-dashed","items-center"],[1,"h-full","col-span-3","flex","flex-col","space-y-1","p-2","divide-y","divide-black","divide-dashed"],[1,"flex","flex-col","text-center"],[1,"text-base","font-bold"],[1,"text-center"],[1,"col-span-5","flex","flex-col","space-y-4","p-2","text-center"],[1,"text-[7px]","italic"],[1,"w-full"],[1,"border-2","border-black","rounded-lg","p-1"],[1,"flex","flex-col","space-y-2","w-full","items-center","text-[10px]"],[1,"flex","flex-row","space-x-2"],[1,"col-span-2","text-center"],[1,"w-4/6","px-2"],[1,"text-center","w-1/6","px-2"],[1,"text-right","w-1/6","px-2"]],template:function(l,e){if(l&1&&(t(0,"div",1,0)(3,"div",2)(4,"div",3)(5,"div",4),c(6,"img",5),t(7,"span"),n(8," M\xE3 \u0110H : "),t(9,"strong"),n(10),i()(),t(11,"span",6),n(12),h(13,"date"),i()(),t(14,"div",7)(15,"span",8),n(16,"CTY TNHH N\xD4NG S\u1EA2N TH\u1EF0C PH\u1EA8M TR\u1EA6N GIA"),i(),t(17,"span"),n(18,"\u0110\u1ECBa ch\u1EC9: T\u1EA7ng 3, T\xF2a nh\xE0 An Ph\xFA Plaza, 117-119 L\xFD Ch\xEDnh Th\u1EAFng, Ph\u01B0\u1EDDng V\xF5 Th\u1ECB S\xE1u, Qu\u1EADn 3, TPHCM"),i(),t(19,"span"),n(20,"\u0110i\u1EC7n tho\u1EA1i: 0865770009"),i(),t(21,"span"),n(22,"Email: rausachtrangia@gmail.com"),i()()(),t(23,"div",9)(24,"div",10)(25,"span",11),n(26,"Th\xF4ng Tin Kh\xE1ch H\xE0ng "),i(),t(27,"span"),n(28,"T\xEAn : "),t(29,"strong"),n(30),i()(),t(31,"span"),n(32,"S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i : "),t(33,"strong"),n(34),i()(),t(35,"span"),n(36,"\u0110\u1ECBa Ch\u1EC9 : "),t(37,"strong"),n(38),i()(),t(39,"span",12),n(40,"Ghi Ch\xFA : "),t(41,"strong"),n(42),i()()(),t(43,"div",13)(44,"div",14),c(45,"img",15),t(46,"span",16),n(47,"Mua h\xE0ng nhanh ch\xF3ng v\xE0 \u0111\u01A1n gi\u1EA3n h\u01A1n v\u1EDBi "),t(48,"strong"),n(49," Zalo App "),i()()()()(),t(50,"div",17)(51,"span",18),n(52,"CHI TI\u1EBET \u0110\u01A0N H\xC0NG:"),i(),t(53,"span",19),n(54,"Kh\u1ED1i l\u01B0\u1EE3ng (kg)"),i(),t(55,"span",19),n(56,"\u0110\u01A1n gi\xE1 (vn\u0111)"),i()(),t(57,"div",20),C(58,$,9,11,"div",21,L),i(),t(60,"div",17)(61,"span",22),n(62,"Ph\xED v\u1EADn chuy\u1EC3n:"),i(),c(63,"span",23),t(64,"span",24),n(65),h(66,"number"),i()(),t(67,"div",25)(68,"span",26),n(69,"(Gi\xE1 ti\u1EC1n \u0111\u01B0\u1EE3c t\xEDnh theo kh\u1ED1i l\u01B0\u1EE3ng th\u1EF1c t\u1EBF khi \u0111\xF3ng g\xF3i)."),i(),t(70,"div",27)(71,"span"),n(72,"T\u1ED5ng: "),i(),t(73,"span",28),n(74),h(75,"number"),i()()(),t(76,"div",29)(77,"div",30)(78,"div",31)(79,"span"),n(80,"Ti\u1EC1n Thu Ng\u01B0\u1EDDi Nh\u1EADn: "),i(),n(81),t(82,"span",32),y(83,j,1,0)(84,q,3,4,"span",28),i()(),t(85,"div",33)(86,"span"),n(87,"Kh\xE1ch h\xE0ng k\xFD nh\u1EADn: "),i()()(),t(88,"div",34)(89,"span",35),n(90,"** N\u1EBFu kh\xE1ch h\xE0ng chuy\u1EC3n kho\u1EA3n, vui l\xF2ng ghi \u0111\xFAng n\u1ED9i dung b\xEAn d\u01B0\u1EDBi"),i(),t(91,"div",36)(92,"span",37),n(93,"N\u1ED9i dung chuy\u1EC3n kho\u1EA3n : "),t(94,"strong"),n(95),i()()(),t(96,"div",38)(97,"div",39)(98,"span"),n(99,"STK : "),t(100,"strong"),n(101),i()(),t(102,"span"),n(103,"T\xEAn TK : "),t(104,"strong"),n(105),i()()(),t(106,"span",40),n(107),i()()()()()()),l&2){let u;o(10),d(e.Donhang==null?null:e.Donhang.MaDonHang),o(2),p(" (In l\xFAc : ",s(13,14,e.GetTimePrint(),"HH:mm dd/MM/yyyy "),") "),o(18),d(e.Donhang==null||e.Donhang.Khachhang==null?null:e.Donhang.Khachhang.Hoten),o(4),d(e.Donhang==null||e.Donhang.Khachhang==null?null:e.Donhang.Khachhang.SDT),o(4),d(e.Donhang==null||e.Donhang.Giohangs==null||e.Donhang.Giohangs.Khachhang==null?null:e.Donhang.Giohangs.Khachhang.Diachi),o(4),d(e.Donhang==null?null:e.Donhang.Ghichu),o(16),b(e.Donhang==null||e.Donhang.Giohangs==null?null:e.Donhang.Giohangs.Sanpham),o(7),p("",s(66,17,e.Donhang==null||e.Donhang.Vanchuyen==null?null:e.Donhang.Vanchuyen.Phivanchuyen,"1.0-0"),"\u0111"),o(9),p("",s(75,20,(u=e.Donhang.TotalTT)!==null&&u!==void 0?u:0,"1.0-0")," VN\u0110"),o(7),p(" ",e.Donhang==null||e.Donhang.Thanhtoan==null?null:e.Donhang.Thanhtoan.Hinhthuc," "),o(2),A((e.Donhang==null||e.Donhang.Thanhtoan==null?null:e.Donhang.Thanhtoan.Hinhthuc)!="COD"?83:84),o(12),p(" ",e.Donhang==null?null:e.Donhang.MaDonHang,""),o(6),d(e.Taikhoan.STK),o(4),d(e.Taikhoan.TenTK),o(2),d(e.Taikhoan.TenNH)}},dependencies:[w,P,G,k,_],encapsulation:2})};export{K as ChitietinComponent};

import{a as J}from"./chunk-TGR4CFUL.js";import{a as X}from"./chunk-RWN7QG6G.js";import{a as Y}from"./chunk-WKI54F45.js";import{a as U}from"./chunk-5AS6OWQO.js";import"./chunk-6DJAFDTV.js";import"./chunk-G2W2EW2N.js";import"./chunk-PGBUMDHU.js";import{b as q,c as I}from"./chunk-G2JGHO3B.js";import"./chunk-OPSDER4V.js";import{b as O}from"./chunk-Y4AWVQ5M.js";import{a as A,g as B,h as H}from"./chunk-HNUPK34J.js";import"./chunk-TRXUX2Y2.js";import{b as Q,g as T,j as L,r as V}from"./chunk-DXUZJIEG.js";import{h as K}from"./chunk-7PW7EJWC.js";import"./chunk-ZAOL63WT.js";import{a as j,b as z}from"./chunk-BALLAHYH.js";import{a as G}from"./chunk-UHVDGNAF.js";import{a as R}from"./chunk-47N5HEQD.js";import{a as P,c as W,e as N}from"./chunk-ACURKAFZ.js";import"./chunk-H6K2N2AQ.js";import"./chunk-JE6TT6BP.js";import"./chunk-UJFQ3LGV.js";import"./chunk-KQPDVZYA.js";import{n as F,p as b}from"./chunk-XPJYUAXQ.js";import{s as v}from"./chunk-UAZLFQKL.js";import{Bc as r,Cc as E,Gb as k,Hc as y,Ic as g,Jc as D,Lc as C,Sb as _,Zb as M,bc as n,cc as a,hc as f,la as m,mb as p,mc as d,oc as s,ua as c,va as h,zb as w}from"./chunk-QJD4TKMG.js";import"./chunk-EU2KAMEK.js";import{i as x}from"./chunk-66YHNWRR.js";var S=()=>({standalone:!0});function $(u,i){if(u&1){let e=f();n(0,"button",1),d("click",function(){c(e);let t=s();return h(t.SaveData())}),n(1,"mat-icon"),r(2,"save"),a()()}}function ee(u,i){if(u&1){let e=f();n(0,"button",1),d("click",function(){c(e);let t=s();return h(t.isEdit=!0)}),n(1,"mat-icon"),r(2,"edit"),a()()}}function te(u,i){if(u&1){let e=f();n(0,"div",7)(1,"div",8),r(2,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),a(),n(3,"div",9)(4,"button",10),d("click",function(){c(e);let t=s();return h(t.DeleteData())}),r(5," \u0110\u1ED3ng \xDD "),a(),n(6,"button",11),d("click",function(){c(e);let t=s();return h(t.isDelete=!1)}),r(7," Hu\u1EF7 B\u1ECF "),a()()()}}function ne(u,i){if(u&1){let e=f();n(0,"div",7)(1,"mat-form-field",12)(2,"mat-label"),r(3,"T\xEAn Kho"),a(),n(4,"input",13),D("ngModelChange",function(t){c(e);let l=s();return g(l.Detail.Title,t)||(l.Detail.Title=t),h(t)}),a()(),n(5,"mat-form-field",12)(6,"mat-label"),r(7,"M\xE3 Kho"),a(),n(8,"input",14),D("ngModelChange",function(t){c(e);let l=s();return g(l.Detail.MaKho,t)||(l.Detail.MaKho=t),h(t)}),a()(),n(9,"mat-form-field",12)(10,"mat-label"),r(11,"S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i"),a(),n(12,"input",15),D("ngModelChange",function(t){c(e);let l=s();return g(l.Detail.SDT,t)||(l.Detail.SDT=t),h(t)}),a()(),n(13,"mat-form-field",12)(14,"mat-label"),r(15,"\u0110\u1ECBa Ch\u1EC9"),a(),n(16,"input",16),D("ngModelChange",function(t){c(e);let l=s();return g(l.Detail.Diachi,t)||(l.Detail.Diachi=t),h(t)}),a()(),n(17,"mat-form-field",12)(18,"mat-label"),r(19,"Ghi Ch\xFA"),a(),n(20,"textarea",17),D("ngModelChange",function(t){c(e);let l=s();return g(l.Detail.Ghichu,t)||(l.Detail.Ghichu=t),h(t)}),a()()()}if(u&2){let e=s();p(4),y("ngModel",e.Detail.Title),_("ngModelOptions",C(10,S)),p(4),y("ngModel",e.Detail.MaKho),_("ngModelOptions",C(11,S)),p(4),y("ngModel",e.Detail.SDT),_("ngModelOptions",C(12,S)),p(4),y("ngModel",e.Detail.Diachi),_("ngModelOptions",C(13,S)),p(4),y("ngModel",e.Detail.Ghichu),_("ngModelOptions",C(14,S))}}var Z=class u{_ListquanlykhoComponent=m(J);_SanphamService=m(U);_QuanlykhosService=m(X);_DonnccsService=m(Y);_DonhangsService=m(R);_router=m(F);_route=m(b);_snackBar=m(G);constructor(){}Detail={Sanpham:[]};isEdit=!1;isDelete=!1;idQuanlykho;FilterDonncc=[];ListDonncc=[];FilterDonHang=[];ListDonHang=[];FilterSanpham=[];ListSanpham=[];ListType=[{id:1,Title:"Nh\u1EADp",value:"NHAP"},{id:2,Title:"Xu\u1EA5t",value:"XUAT"},{id:3,Title:"\u0110i\u1EC1u Ch\u1EC9nh",value:"DIEUCHINH"},{id:4,Title:"Chuy\u1EC3n Kho",value:"CHUYENKHO"}];ngOnInit(){this._router.paramMap.subscribe(i=>x(this,null,function*(){this.idQuanlykho=i.get("id"),this.isEdit=this.idQuanlykho==="0",this.idQuanlykho?(this._ListquanlykhoComponent.drawer.open(),this._DonnccsService.getAllDonncc().then(e=>{this.FilterDonncc=this.ListDonncc=e}),this._DonhangsService.getAllDonhang().then(e=>{this.FilterDonHang=this.ListDonHang=e}),this._SanphamService.getAllSanpham().then(e=>{this.FilterSanpham=this.ListSanpham=e}),this.idQuanlykho!=="0"?this._QuanlykhosService.getQuanlykhoByid(this.idQuanlykho).then(e=>{e&&(this.Detail=e,console.log(e))}):(this.Detail={Sanpham:[]},this.Detail.MaPhieu=K(8,!1))):this._route.navigate(["/admin/quanlykho"])}))}DoFindSanpham(i){let e=i.target.value.toLowerCase();this.FilterSanpham=this.ListSanpham.filter(o=>o.Title.toLowerCase().includes(e))}DoFindDonncc(i){let e=i.target.value.toLowerCase();this.FilterDonncc=this.ListDonncc.filter(o=>o.MaDH.toLowerCase().includes(e))}DoFindDonhang(i){let e=i.target.value.toLowerCase();this.FilterDonHang=this.ListDonHang.filter(o=>o.MaDonHang.toLowerCase().includes(e))}SelectDonncc(i){this.Detail.Sanpham=i.Sanpham}DoFindDonHang(i){let e=i.target.value.toLowerCase();this.FilterDonHang=this.ListDonHang.filter(o=>o.MaDH.toLowerCase().includes(e))}SelectDonhang(i){this.Detail.Sanpham=i.Giohangs.map(e=>({idSP:e.id,Soluong:e.Soluong,Ghichu:e.Ghichu}))}onChangeSoluong(i,e){this.Detail.Soluong=e.target.value,this.Detail.Thanhtien=this.Detail.Soluong*this.Detail.Dongia}SaveData(){this.idQuanlykho=="0"?this._QuanlykhosService.CreateQuanlykho(this.Detail).then(i=>{this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._route.navigate(["/admin/quanlykho",i.id])}):this._QuanlykhosService.updateOneQuanlykho(this.Detail).then(i=>{this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit=!1})}DeleteData(){this._QuanlykhosService.DeleteQuanlykho(this.Detail).then(i=>{this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._route.navigate(["/admin/quanlykho"])})}goBack(){this._route.navigate(["/admin/quanlykho"]),this._ListquanlykhoComponent.drawer.close()}static \u0275fac=function(e){return new(e||u)};static \u0275cmp=w({type:u,selectors:[["app-detailquanlykho"]],decls:15,vars:3,consts:[[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],["mat-icon-button","","color","primary"],["mat-icon-button","","color","warn",3,"click"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[1,"flex","flex-col","space-y-4","items-center","justify-center"],[1,"font-bold","text-2xl"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp T\xEAn Kho",3,"ngModelChange","ngModel","ngModelOptions"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp M\xE3 Kho",3,"ngModelChange","ngModel","ngModelOptions"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i",3,"ngModelChange","ngModel","ngModelOptions"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp \u0110\u1ECBa Ch\u1EC9",3,"ngModelChange","ngModel","ngModelOptions"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp Ghi Ch\xFA",3,"ngModelChange","ngModel","ngModelOptions"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"button",1),d("click",function(){return o.goBack()}),n(2,"mat-icon"),r(3,"arrow_back"),a()(),n(4,"div",2),r(5),a(),n(6,"div",3),k(7,$,3,0,"button",4)(8,ee,3,0,"button",4),n(9,"button",5),d("click",function(){return o.isDelete=!0}),n(10,"mat-icon"),r(11,"delete"),a()()()(),n(12,"div",6),k(13,te,8,0,"div",7)(14,ne,21,15,"div",7),a()),e&2&&(p(5),E((o.Detail==null?null:o.Detail.MaKho)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),p(2),M(o.isEdit==!0?7:8),p(6),M(o.isDelete==!0?13:14))},dependencies:[H,B,A,I,q,V,Q,T,L,z,j,N,P,W,v,O],encapsulation:2})};export{Z as DetailQuanlykhoComponent};

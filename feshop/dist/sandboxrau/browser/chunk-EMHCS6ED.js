import{a as Le}from"./chunk-NF3ORYUL.js";import{b as ne,c as re,d as oe}from"./chunk-6DJAFDTV.js";import{a as S,b as ce,c as de,d as ge,e as fe,f as _e,h as Ce,i as he,k as we,l as xe,n as ye,o as ve,q as Se,r as Me,s as Te,t as be}from"./chunk-G2W2EW2N.js";import{a as ee,b as te,c as ie,d as ae}from"./chunk-PGBUMDHU.js";import{b as Y,c as Z}from"./chunk-G2JGHO3B.js";import{b as v,c as pe}from"./chunk-OPSDER4V.js";import{b as ue}from"./chunk-Y4AWVQ5M.js";import{c as U,g as W,h as X}from"./chunk-HNUPK34J.js";import{a as Be,b as Fe}from"./chunk-BALLAHYH.js";import{a as le,c as se,e as me}from"./chunk-ACURKAFZ.js";import{q as J,r as G}from"./chunk-H6K2N2AQ.js";import{o as z,p as A,q as j}from"./chunk-XPJYUAXQ.js";import{q,s as Q}from"./chunk-UAZLFQKL.js";import{$b as b,Ac as L,Bc as s,Cc as D,Dc as u,Gb as h,Lc as H,Mc as K,Rc as k,Sb as p,Tc as E,Zb as N,_b as V,ac as B,bc as n,cc as r,dc as _,ec as $,fc as O,hc as F,la as P,mb as o,mc as C,nb as T,oc as l,ua as d,va as g,vc as w,wc as x,xc as y,zb as R}from"./chunk-QJD4TKMG.js";import{i as I}from"./chunk-66YHNWRR.js";var M=[{id:"ID",Title:"Ti\xEAu \u0110\u1EC1",ListSP:"S\u1EA3n Ph\u1EA9m",Type:"Lo\u1EA1i",Batdau:"Ng\xE0y B\u1EAFt \u0110\u1EA7u",Ketthuc:"Ng\xE0y K\u1EBFt Th\xFAc"},{Title:"B\u1EA3ng gi\xE1 1",Type:"bansi",ListSP:"",NgayBD:"2021-01-01",NgayKT:"2021-12-31"}],De=[{id:1,Title:"Ti\xEAu \u0110\u1EC1",value:"Title",Type:"text",required:!0,isShow:!0},{id:2,Title:"Lo\u1EA1i",value:"Type",Type:"select",required:!0,isShow:!0},{id:3,Title:"Ng\xE0y B\u1EAFt \u0110\u1EA7u",value:"NgayBD",Type:"date",required:!0,isShow:!0},{id:4,Title:"Ng\xE0y K\u1EBFt Th\xFAc",value:"NgayKT",Type:"date",required:!0,isShow:!0}];var Ee=["drawer"],Ie=(i,t)=>t.key,Pe=()=>[5,10,25,100],Re=i=>["/admin/banggia",i];function Ne(i,t){if(i&1){let e=F();n(0,"button",29),C("click",function(m){let f=d(e).$implicit;return l().toggleColumn(f),g(m.stopPropagation())}),n(1,"mat-icon"),s(2),r(),n(3,"span"),s(4),r()()}if(i&2){let e=t.$implicit;o(2),D(e.isShow?"check_box":"check_box_outline_blank"),o(2),D(e.value)}}function Ve(i,t){if(i&1&&(n(0,"th",32)(1,"span",33),s(2),r()()),i&2){let e=l().$implicit,a=l();o(2),u(" ",a.ColumnName[e]," ")}}function $e(i,t){if(i&1&&(n(0,"span",33),s(1),r()),i&2){let e=l().index;o(),u(" ",e+1," ")}}function Oe(i,t){if(i&1&&(n(0,"span",33),s(1),r()),i&2){let e=l().$implicit,a=l().$implicit;o(),u(" ",e[a].length," ")}}function He(i,t){if(i&1&&(n(0,"span",33),s(1),k(2,"date"),r()),i&2){let e=l().$implicit,a=l().$implicit;o(),u(" ",E(2,1,e[a],"dd/MM/yyyy")," ")}}function Ke(i,t){if(i&1&&(n(0,"span",33),s(1),k(2,"date"),r()),i&2){let e=l().$implicit,a=l().$implicit;o(),u(" ",E(2,1,e[a],"dd/MM/yyyy")," ")}}function qe(i,t){if(i&1&&(n(0,"a",35),s(1),r()),i&2){let e=l().$implicit,a=l().$implicit;p("routerLink",K(2,Re,e.id)),o(),u(" ",e[a]," ")}}function Qe(i,t){if(i&1&&(n(0,"span",33),s(1),r()),i&2){let e=l().$implicit,a=l().$implicit;o(),u(" ",e[a]," ")}}function ze(i,t){if(i&1&&(n(0,"td",34),h(1,$e,2,1,"span",33)(2,Oe,2,1,"span",33)(3,He,3,4,"span",33)(4,Ke,3,4,"span",33)(5,qe,2,4,"a",35)(6,Qe,2,1,"span",33),r()),i&2){let e,a=l().$implicit;o(),N((e=a)==="STT"?1:e==="ListSP"?2:e==="Batdau"?3:e==="Ketthuc"?4:e==="Title"?5:6)}}function Ae(i,t){if(i&1&&($(0,24),h(1,Ve,3,1,"th",30)(2,ze,7,1,"td",31),O()),i&2){let e=t.$implicit;p("matColumnDef",e)}}function je(i,t){i&1&&_(0,"tr",36)}function Je(i,t){i&1&&_(0,"tr",37)}function Ge(i,t){if(i&1&&(n(0,"tr",38)(1,"td",39),s(2),r()()),i&2){l();let e=L(10);o(2),u('Kh\xF4ng t\xECm th\u1EA5y "',e.value,'"')}}var ke=class i{constructor(t,e){this._breakpointObserver=t;this._router=e}Detail={};dataSource;displayedColumns=[];ColumnName={STT:"STT"};Forms=De;FilterColumns=JSON.parse(localStorage.getItem("Banggia_FilterColumns")||"[]");Columns=[];Listbanggia=M;CountItem=0;paginator;sort;drawer;_banggiasService=P(Le);ngOnInit(){return I(this,null,function*(){yield this._banggiasService.getAllBanggia(),this.Listbanggia=this._banggiasService.ListBanggia()||[],this.initializeColumns(),this.setupDataSource(),this.setupDrawer()})}initializeColumns(){this.Columns=Object.keys(M[0]).map(t=>({key:t,value:M[0][t],isShow:!0})),this.FilterColumns.length===0?this.FilterColumns=this.Columns:localStorage.setItem("Banggia_FilterColumns",JSON.stringify(this.FilterColumns)),this.displayedColumns=this.FilterColumns.filter(t=>t.isShow).map(t=>t.key),this.ColumnName=this.FilterColumns.reduce((t,e)=>(e.isShow&&(t[e.key]=e.value),t),{})}setupDataSource(){this.dataSource=new be(this.Listbanggia.map(t=>this.FilterColumns.filter(e=>e.isShow).reduce((e,a)=>(e[a.key]=t[a.key],e),{}))),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.paginator._intl.itemsPerPageLabel="S\u1ED1 l\u01B0\u1EE3ng 1 trang",this.paginator._intl.nextPageLabel="Ti\u1EBFp Theo",this.paginator._intl.previousPageLabel="V\u1EC1 Tr\u01B0\u1EDBc",this.paginator._intl.firstPageLabel="Trang \u0110\u1EA7u",this.paginator._intl.lastPageLabel="Trang Cu\u1ED1i",this.CountItem=this.dataSource.data.length}setupDrawer(){this._breakpointObserver.observe([G.Handset]).subscribe(t=>{t.matches?(this.drawer.mode="over",this.paginator.hidePageSize=!0):this.drawer.mode="side"})}toggleColumn(t){let e=this.FilterColumns.find(a=>a.key===t.key);e&&(e.isShow=!e.isShow,this.updateDisplayedColumns())}updateDisplayedColumns(){this.displayedColumns=this.FilterColumns.filter(t=>t.isShow).map(t=>t.key),this.ColumnName=this.FilterColumns.reduce((t,e)=>(e.isShow&&(t[e.key]=e.value),t),{}),this.setupDataSource(),localStorage.setItem("Banggia_FilterColumns",JSON.stringify(this.FilterColumns))}doFilterColumns(t){let e=t.target.value.toLowerCase();this.FilterColumns=this.Columns.filter(a=>a.value.toLowerCase().includes(e))}applyFilter(t){let e=t.target.value;this.dataSource.filter=e.trim().toLowerCase(),console.log(this.dataSource),this.CountItem=this.dataSource.filteredData.length,this.dataSource.paginator&&this.dataSource.paginator.firstPage()}create(){this.drawer.open(),this._router.navigate(["admin/banggia",0])}static \u0275fac=function(e){return new(e||i)(T(J),T(A))};static \u0275cmp=R({type:i,selectors:[["app-listbanggia"]],viewQuery:function(e,a){if(e&1&&(w(v,5),w(S,5),w(Ee,7)),e&2){let m;x(m=y())&&(a.paginator=m.first),x(m=y())&&(a.sort=m.first),x(m=y())&&(a.drawer=m.first)}},decls:43,vars:8,consts:[["drawer",""],["input",""],["menu","matMenu"],["autosize","",1,"w-full","h-full"],[1,"flex","flex-col","!w-full","h-full",3,"position"],[1,"flex","flex-col","space-y-2","h-screen-12","w-full","justify-between","p-2"],[1,"flex","flex-col","space-y-2","w-full","p-2"],[1,"cursor-pointer","w-full","flex","flex-row","space-x-2","items-center","justify-between","bg-white","rounded-lg","p-2"],[1,"flex","flex-row","space-x-2","items-center"],[1,"relative"],["type","text","placeholder","T\xECm Ki\u1EBFm...",1,"block","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],["mat-flat-button","","color","primary",3,"click"],[1,"whitespace-nowrap","p-2","rounded-lg","bg-slate-200"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],[1,"p-4"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"input","click"],["matPrefix",""],[1,"flex","flex-col","max-h-80","overflow-auto"],["mat-menu-item",""],[1,"w-full","overflow-auto"],["mat-table","","matSort","",1,"!border","w-full","cursor-pointer",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["mat-menu-item","",3,"click"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],[1,"max-w-40","line-clamp-4"],["mat-cell",""],[1,"max-w-40","line-clamp-4","hover:text-blue-700",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,a){if(e&1){let m=F();n(0,"mat-drawer-container",3)(1,"mat-drawer",4,0),_(3,"router-outlet"),r(),n(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"input",10,1),C("keyup",function(c){return d(m),g(a.applyFilter(c))}),r(),n(11,"div",11)(12,"span",12),s(13,"search"),r()()(),n(14,"button",13),C("click",function(){return d(m),g(a.create())}),n(15,"span"),s(16,"Th\xEAm"),r(),n(17,"mat-icon"),s(18,"add_circle"),r()()(),n(19,"div",8)(20,"span",14),s(21),r(),n(22,"button",15)(23,"mat-icon"),s(24,"tune"),r()(),n(25,"mat-menu",null,2)(27,"div",16)(28,"mat-form-field",17)(29,"input",18),C("input",function(c){return d(m),g(a.doFilterColumns(c))})("click",function(c){return d(m),g(c.stopPropagation())}),r(),n(30,"mat-icon",19),s(31,"search"),r()()(),n(32,"div",20),b(33,Ne,5,2,"button",21,Ie),r()()()(),n(35,"div",22)(36,"table",23),b(37,Ae,3,1,"ng-container",24,V),h(39,je,1,0,"tr",25)(40,Je,1,0,"tr",26)(41,Ge,3,1,"tr",27),r(),_(42,"mat-paginator",28),r()()()()}if(e&2){let m=L(26);o(),p("position","end"),o(20),u(" ",a.CountItem," B\u1EA3ng Gi\xE1 "),o(),p("matMenuTriggerFor",m),o(11),B(a.FilterColumns),o(3),p("dataSource",a.dataSource),o(),B(a.displayedColumns),o(2),p("matHeaderRowDef",a.displayedColumns),o(),p("matRowDefColumns",a.displayedColumns),o(2),p("pageSizeOptions",H(7,Pe))}},dependencies:[X,W,U,Z,Y,Te,ge,_e,xe,Ce,fe,ye,he,we,ve,Se,Me,de,S,ce,pe,v,ae,te,ee,ie,oe,ne,re,z,Fe,Be,me,le,se,ue,Q,q,j],encapsulation:2})};export{ke as a};

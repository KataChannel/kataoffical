import{a as q}from"./chunk-JCV4M47T.js";import{a as $}from"./chunk-EK5H6FUS.js";import{a as R,b as V,d as j,f as L}from"./chunk-L2LY7JSF.js";import{a as Y}from"./chunk-YA6ZNGOK.js";import{a as Q,e as z}from"./chunk-ACURKAFZ.js";import{q as B,r as N,s as K}from"./chunk-UAZLFQKL.js";import{$b as P,Bc as n,Cc as u,Dc as m,Ec as _,Gb as S,Mc as H,Rc as p,Sb as b,Tc as s,Uc as M,Zb as A,ac as k,bc as e,cc as i,dc as g,hb as y,hc as G,la as w,mb as o,mc as C,nb as F,oc as c,ua as T,va as D,vc as x,wc as f,xc as E,zb as I}from"./chunk-QJD4TKMG.js";import{g as U}from"./chunk-66YHNWRR.js";var W=U(Y());var Z=["exportPDF"],J=["printArea"],X=["dialogTemplate"],ee=(r,l)=>l.id,te=r=>[r];function ne(r,l){if(r&1){let a=G();e(0,"div",2)(1,"span",43),C("click",function(){T(a);let d=c();return D(d.convetToPDF())}),n(2," picture_as_pdf "),i(),e(3,"a",44),n(4," print "),i(),e(5,"span",45),C("click",function(){T(a);let d=c();return D(d.CloseAll())}),n(6," close "),i()()}if(r&2){let a=c();o(3),b("href",H(1,te,"admin/donhang/in/"+a.Donhang.id),y)}}function ie(r,l){if(r&1&&(e(0,"div",46)(1,"div",47)(2,"div",48),g(3,"img",49),i(),e(4,"div",50)(5,"button",51),n(6,"Hu\u1EF7"),i()()()()),r&2){let a=c();o(3),b("src",a.LinkImage,y)}}function ae(r,l){if(r&1&&(e(0,"div",23)(1,"div",52),n(2),i(),e(3,"span",53),n(4),p(5,"number"),i(),e(6,"span",54),n(7),p(8,"number"),i()()),r&2){let a=l.$implicit,t=l.$index;o(2),_(" ",t+1,"/",a.Title," "),o(2),_("",s(5,5,(a.Giachon.SLTT*1).toFixed(3),"1.2-2"),"",a.Giachon.dvt,""),o(3),m("",s(8,8,a.Giachon.SLTT*a.Giachon.GiaCoSo,"1.0-0")||"0","\u0111")}}function le(r,l){r&1&&n(0," 0 VN\u0110 ")}function oe(r,l){if(r&1&&(e(0,"span",30),n(1),p(2,"number"),i()),r&2){let a=c();o(),m("",s(2,1,a.Donhang.TotalTT,"1.0-0")," VN\u0110")}}var O=class r{constructor(l){this.dialog=l}Donhang={};Tongthucte=0;Taikhoan={STK:"0071001404282",TenTK:"Tr\u1EA7n H\u1EEFu L\xE3nh",TenNH:"Vietcombank"};isShowAction=!1;Type="KHACHHANG";exportPDF;printArea;dialogTemplate;_GiohangService=w($);LinkImage="";TimePrint=new Date;ngOnInit(){console.log(this.Donhang)}CloseAll(){this.dialog.closeAll()}GetTimePrint(){return this.Donhang.TimePrint&&this.Donhang.TimePrint.length>0?this.Donhang.TimePrint[this.Donhang.TimePrint.length-1].value:new Date}GetSubTotal(l,a,t){return this._GiohangService.getSum(l,a,t)}GetSubTotalThucte(l,a,t){let d=l.map(h=>h.Giachon);return this._GiohangService.getSumThucte(d,a,t)}GetTotalThucte(l,a,t,d,h){return this.GetSubTotalThucte(a,t,d)+Number(l.Vanchuyen.Phivanchuyen||0)+Number(l.Giamgia||0)+this.GetSubTotal(a,h,"")}openDialog(l){this.dialog.open(l,{}).afterClosed().subscribe(t=>{t=="true"})}convetToPDF(){let t=this.exportPDF.nativeElement;(0,W.default)(t,{scale:4}).then(d=>{let h=d.toDataURL("image/png"),v=new q({orientation:"portrait",unit:"px",format:[559,794]});v.addImage(h,"PNG",-2,-2,559,794),v.save(`${this.Donhang.MaDonHang}_${new Date().getTime()}.pdf`)})}printDiv(){let l=this.printArea.nativeElement;console.log(l);let a=l.style.display;l.style.display="flex",l.style.margin="0",l.style.padding="0",window.print(),l.style.display=a}static \u0275fac=function(a){return new(a||r)(F(R))};static \u0275cmp=I({type:r,selectors:[["app-formin-admin"]],viewQuery:function(a,t){if(a&1&&(x(Z,5),x(J,5),x(X,5)),a&2){let d;f(d=E())&&(t.exportPDF=d.first),f(d=E())&&(t.printArea=d.first),f(d=E())&&(t.dialogTemplate=d.first)}},inputs:{Donhang:"Donhang",Tongthucte:"Tongthucte",Taikhoan:"Taikhoan",isShowAction:"isShowAction",Type:"Type"},decls:111,vars:24,consts:[["dialogTemplate",""],["exportPDF","","printArea",""],["id","nonPrintable",1,"flex","flex-row","justify-end","space-x-2","w-[480px]","p-2","mx-auto","cursor-pointer"],[1,"p-4","text-xs","bg-white","rounded-lg","w-[559px]","h-[794px]","mx-auto","lg:scale-[90%]","scale-[90%]"],[1,"h-full","flex","flex-col","divide-y","divide-dashed","divide-black","border-4","border-black"],[1,"grid","grid-cols-3","gap-2","divide-x","divide-black"],[1,"flex","flex-col","items-center","p-2"],["loading","lazy","src","/assets/images/logo.webp",1,"mx-auto"],[1,"italic","text-[8px]"],[1,"text-[10px]","col-span-2","flex","flex-col","px-4","py-2"],[1,"text-[12px]","font-bold"],[1,"grid","grid-cols-6","gap-2","divide-x","divide-dashed","divide-black"],[1,"text-[10px]","col-span-4","flex","flex-col","p-2"],[1,"text-xs","font-bold"],[1,"italic"],[1,"col-span-2","flex","flex-col","space-y-2","p-2"],[1,"w-full","flex","flex-col","space-y-2","text-center","text-[8px]"],["loading","lazy","src","/assets/images/qrcode-oazalo.jpg",1,"w-16","mx-auto"],[1,"px-4"],[1,"grid","grid-cols-6","gap-2","divide-x","divide-black","divide-dashed","items-center"],[1,"col-span-4","text-xs","font-bold","p-1"],[1,"text-center","font-bold","text-[10px]","p-1"],[1,"h-full","py-2","flex","flex-col","space-y-1","text-[12px]"],[1,"flex","flex-row","space-x-2","item-center","w-full"],[1,"col-span-4","font-bold","p-2"],[1,"text-center","font-bold"],[1,"text-right","font-bold","p-2"],[1,"grid","grid-cols-6","gap-2","divide-x","divide-black","divide-dashed","items-center-2"],[1,"flex","items-center","justify-center","p-2","col-span-4","text-[10px]","italic"],[1,"col-span-2","flex","flex-row","space-x-2","p-2","justify-between"],[1,"font-bold"],[1,"grid","grid-cols-8","gap-2","divide-x","divide-black","divide-dashed","items-center"],[1,"h-full","col-span-3","flex","flex-col","space-y-1","p-2","divide-y","divide-black","divide-dashed"],[1,"flex","flex-col","text-center"],[1,"text-base","font-bold"],[1,"text-center"],[1,"col-span-5","flex","flex-col","space-y-4","p-2","text-center"],[1,"text-[7px]","italic"],[1,"w-full"],[1,"border-2","border-black","rounded-lg","p-1"],[1,"flex","flex-col","space-y-2","w-full","items-center","text-[10px]"],[1,"flex","flex-row","space-x-2"],[1,"col-span-2","text-center"],[1,"material-symbols-outlined","p-2","border","rounded-full","bg-slate-200","text-blue-500","hover:bg-blue-500","hover:text-white",3,"click"],[1,"material-symbols-outlined","p-2","border","rounded-full","bg-slate-200","text-blue-500","hover:bg-blue-500","hover:text-white",3,"href"],[1,"material-symbols-outlined","p-2","border","rounded-full","bg-slate-200","text-red-500","hover:bg-red-500","hover:text-white",3,"click"],[1,"w-[70vw]","h-[95vh]","p-2","flex","flex-col","items-center","justify-center","PDFVIEW"],["mat-dialog-content",""],[1,"flex","flex-col","!w-[559px]","!h-[794px]","scale-75","space-y-4","lg:p-4"],["loading","lazy","alt","","srcset","",1,"w-full",3,"src"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","warn","mat-dialog-close","false"],[1,"w-4/6","px-2"],[1,"text-center","w-1/6","px-2"],[1,"text-right","w-1/6","px-2"]],template:function(a,t){a&1&&(S(0,ne,7,3,"div",2)(1,ie,7,1,"ng-template",null,0,M),e(3,"div",3,1)(6,"div",4)(7,"div",5)(8,"div",6),g(9,"img",7),e(10,"span"),n(11," M\xE3 \u0110H : "),e(12,"strong"),n(13),i()(),e(14,"span",8),n(15),p(16,"date"),i()(),e(17,"div",9)(18,"span",10),n(19,"CTY TNHH N\xD4NG S\u1EA2N TH\u1EF0C PH\u1EA8M TR\u1EA6N GIA"),i(),e(20,"span"),n(21,"\u0110\u1ECBa ch\u1EC9: T\u1EA7ng 3, T\xF2a nh\xE0 An Ph\xFA Plaza, 117-119 L\xFD Ch\xEDnh Th\u1EAFng, Ph\u01B0\u1EDDng V\xF5 Th\u1ECB S\xE1u, Qu\u1EADn 3, TPHCM"),i(),e(22,"span"),n(23,"\u0110i\u1EC7n tho\u1EA1i: 0865770009"),i(),e(24,"span"),n(25,"Email: rausachtrangia@gmail.com"),i()()(),e(26,"div",11)(27,"div",12)(28,"span",13),n(29,"Th\xF4ng Tin Kh\xE1ch H\xE0ng "),i(),e(30,"span"),n(31,"T\xEAn : "),e(32,"strong"),n(33),i()(),e(34,"span"),n(35,"S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i : "),e(36,"strong"),n(37),i()(),e(38,"span"),n(39,"\u0110\u1ECBa Ch\u1EC9 : "),e(40,"strong"),n(41),i()(),e(42,"span",14),n(43,"Ghi Ch\xFA : "),e(44,"strong"),n(45),i()()(),e(46,"div",15)(47,"div",16),g(48,"img",17),e(49,"span",18),n(50,"Mua h\xE0ng nhanh ch\xF3ng v\xE0 \u0111\u01A1n gi\u1EA3n h\u01A1n v\u1EDBi "),e(51,"strong"),n(52," Zalo App "),i()()()()(),e(53,"div",19)(54,"span",20),n(55,"CHI TI\u1EBET \u0110\u01A0N H\xC0NG:"),i(),e(56,"span",21),n(57,"Kh\u1ED1i l\u01B0\u1EE3ng (kg)"),i(),e(58,"span",21),n(59,"Th\xE0nh Ti\u1EC1n (vn\u0111)"),i()(),e(60,"div",22),P(61,ae,9,11,"div",23,ee),i(),e(63,"div",19)(64,"span",24),n(65,"Ph\xED v\u1EADn chuy\u1EC3n:"),i(),g(66,"span",25),e(67,"span",26),n(68),p(69,"number"),i()(),e(70,"div",27)(71,"span",28),n(72,"(Gi\xE1 ti\u1EC1n \u0111\u01B0\u1EE3c t\xEDnh theo kh\u1ED1i l\u01B0\u1EE3ng th\u1EF1c t\u1EBF khi \u0111\xF3ng g\xF3i)."),i(),e(73,"div",29)(74,"span"),n(75,"T\u1ED5ng: "),i(),e(76,"span",30),n(77),p(78,"number"),i()()(),e(79,"div",31)(80,"div",32)(81,"div",33)(82,"span"),n(83,"Ti\u1EC1n Thu Ng\u01B0\u1EDDi Nh\u1EADn: "),i(),n(84),e(85,"span",34),S(86,le,1,0)(87,oe,3,4,"span",30),i()(),e(88,"div",35)(89,"span"),n(90,"Kh\xE1ch h\xE0ng k\xFD nh\u1EADn: "),i()()(),e(91,"div",36)(92,"span",37),n(93,"** N\u1EBFu kh\xE1ch h\xE0ng chuy\u1EC3n kho\u1EA3n, vui l\xF2ng ghi \u0111\xFAng n\u1ED9i dung b\xEAn d\u01B0\u1EDBi"),i(),e(94,"div",38)(95,"span",39),n(96,"N\u1ED9i dung chuy\u1EC3n kho\u1EA3n : "),e(97,"strong"),n(98),i()()(),e(99,"div",40)(100,"div",41)(101,"span"),n(102,"STK : "),e(103,"strong"),n(104),i()(),e(105,"span"),n(106,"T\xEAn TK : "),e(107,"strong"),n(108),i()()(),e(109,"span",42),n(110),i()()()()()()),a&2&&(A(t.isShowAction?0:-1),o(13),u(t.Donhang==null?null:t.Donhang.MaDonHang),o(2),m(" (In l\xFAc : ",s(16,15,t.GetTimePrint(),"HH:mm dd/MM/yyyy "),") "),o(18),u(t.Donhang==null||t.Donhang.Khachhang==null?null:t.Donhang.Khachhang.Hoten),o(4),u(t.Donhang==null||t.Donhang.Khachhang==null?null:t.Donhang.Khachhang.SDT),o(4),u(t.Donhang==null||t.Donhang.Giohangs==null||t.Donhang.Giohangs.Khachhang==null?null:t.Donhang.Giohangs.Khachhang.Diachi),o(4),u(t.Donhang==null?null:t.Donhang.Ghichu),o(16),k(t.Donhang==null||t.Donhang.Giohangs==null?null:t.Donhang.Giohangs.Sanpham),o(7),m("",s(69,18,t.Donhang==null||t.Donhang.Vanchuyen==null?null:t.Donhang.Vanchuyen.Phivanchuyen,"1.0-0"),"\u0111"),o(9),m("",s(78,21,t.Donhang.TotalTT,"1.0-0")," VN\u0110"),o(7),m(" ",t.Donhang.Thanhtoan.Hinhthuc," "),o(2),A((t.Donhang==null||t.Donhang.Thanhtoan==null?null:t.Donhang.Thanhtoan.Hinhthuc)!="COD"?86:87),o(12),m(" ",t.Donhang.MaDonHang,""),o(6),u(t.Taikhoan.STK),o(4),u(t.Taikhoan.TenTK),o(2),u(t.Taikhoan.TenNH))},dependencies:[K,N,B,z,Q,L,V,j],encapsulation:2})};export{O as a};

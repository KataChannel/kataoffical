import './polyfills.server.mjs';
import{a as J}from"./chunk-CG6JK76S.mjs";import{a as P}from"./chunk-FFHSYRGB.mjs";import"./chunk-BHSUXMGO.mjs";import"./chunk-XYW3N2TH.mjs";import{b as G}from"./chunk-WKTQ2QYG.mjs";import"./chunk-ASNJQLE5.mjs";import{a as H,b as O,c as j,d as z}from"./chunk-HJ2PCSIO.mjs";import"./chunk-CREX4RSV.mjs";import"./chunk-WZNDKZHB.mjs";import{b as R,c as W}from"./chunk-HVAVP6HQ.mjs";import{b as N,g as K,h as q}from"./chunk-SYLL2VWS.mjs";import{o as D}from"./chunk-YDNHBDZA.mjs";import{a as B,b as A}from"./chunk-ZO5BTQX6.mjs";import"./chunk-CHLRJVWI.mjs";import"./chunk-73IBRO6I.mjs";import"./chunk-PVZ2CPZ6.mjs";import"./chunk-G2MOUAII.mjs";import"./chunk-KANEWG3T.mjs";import{b as V,c as I}from"./chunk-FW423F55.mjs";import"./chunk-RBBE3QCJ.mjs";import"./chunk-HBVR6GXD.mjs";import{c as T,h as U}from"./chunk-IRRE6H53.mjs";import"./chunk-S7AOMGFV.mjs";import"./chunk-UE4SGS3X.mjs";import"./chunk-KLKELR3G.mjs";import{h as F}from"./chunk-YL66THYG.mjs";import{l as E,r as $}from"./chunk-TS5YM2X4.mjs";import{Ab as k,Gb as y,La as b,Sb as f,ac as i,bc as l,cc as h,gc as S,ja as _,jb as v,kb as w,kc as s,lc as c,ld as L,nb as u,sa as m,ta as p,xc as C,yc as a,zc as M}from"./chunk-LCAOUERI.mjs";import"./chunk-KB5IWD3E.mjs";import{j as x}from"./chunk-RIAI3ORJ.mjs";function X(g,r){if(g&1){let t=S();i(0,"div",11),h(1,"img",12),i(2,"div",13)(3,"h2",14),a(4),l(),h(5,"p",15),i(6,"div",16)(7,"mat-form-field",17)(8,"mat-label"),a(9,"Li\xEAn K\u1EBFt"),l(),h(10,"input",18),l(),i(11,"button",19),s("click",function(){let e=m(t).$implicit,n=c();return p(n.getCoppyLink(n.getUrl(e)))}),i(12,"mat-icon"),a(13,"content_copy"),l()(),i(14,"button",20)(15,"mat-icon"),a(16,"share"),l()(),i(17,"mat-menu",null,0)(19,"button",21),s("click",function(){let e=m(t).$implicit,n=c();return p(n.share("facebook",n.getUrl(e),e==null?null:e.title,e==null?null:e.description,e==null?null:e.thumbnail))}),i(20,"mat-icon",22),a(21,"facebook"),l(),i(22,"span"),a(23,"Facebook"),l()(),i(24,"button",21),s("click",function(){let e=m(t).$implicit,n=c();return p(n.share("twitter",n.getUrl(e),e==null?null:e.title,e==null?null:e.description,e==null?null:e.thumbnail))}),i(25,"mat-icon",22),a(26,"linkedin"),l(),i(27,"span"),a(28,"Twitter"),l()(),i(29,"button",23),s("click",function(){let e=m(t).$implicit,n=c();return p(n.share("linkedin",n.getUrl(e),e==null?null:e.title,e==null?null:e.description,e==null?null:e.thumbnail))}),i(30,"mat-icon",22),a(31,"linkedin"),l(),i(32,"span"),a(33,"LinkedIn"),l()(),i(34,"button",23),s("click",function(){let e=m(t).$implicit,n=c();return p(n.share("pinterest",n.getUrl(e),e==null?null:e.title,e==null?null:e.description,e==null?null:e.thumbnail))}),i(35,"mat-icon",22),a(36,"pinterest"),l(),i(37,"span"),a(38,"Pinterest"),l()(),i(39,"button",23),s("click",function(){let e=m(t).$implicit,n=c();return p(n.share("whatsapp",n.getUrl(e),e==null?null:e.title,e==null?null:e.description,e==null?null:e.thumbnail))}),i(40,"mat-icon",22),a(41,"link"),l(),i(42,"span"),a(43,"WhatsApp"),l()(),i(44,"button",23),s("click",function(){let e=m(t).$implicit,n=c();return p(n.share("email",n.getUrl(e),e==null?null:e.title,e==null?null:e.description,e==null?null:e.thumbnail))}),i(45,"mat-icon",22),a(46,"email"),l(),i(47,"span"),a(48,"Email"),l()()()()()()}if(g&2){let t=r.$implicit,o=C(18),e=c();u(),f("src",t.thumbnail,w)("alt",t.title),u(3),M(t.title),u(),f("innerHTML",t.description,v),u(5),f("value",e.getUrl(t))("disabled",!0),u(4),f("matMenuTriggerFor",o)}}var Q=class g{_UserService=_(P);_LandingpageService=_(J);_snackbar=_(V);Listladipage=b([]);Filerladi=[];profile=b({});isShowUTM=[];constructor(){L(()=>x(this,null,function*(){yield this._LandingpageService.getAllLandingpage(),this.Listladipage=this._LandingpageService.ListLandingpage,this.Filerladi=[...this.Listladipage()]}))}ngOnInit(){this._UserService.getProfile().then(r=>{r&&this.profile.set(r)})}applyFilters(r){let t=r.target.value;this.Filerladi=this.Listladipage().filter(o=>o.title.toLowerCase().includes(t))}getUrl(r){return r.contentHtml?r.contentHtml:`/ladictv/${r?.slug}?ref=${this.profile()?.inviteCode}`}encode(r){return encodeURIComponent(r)}getCoppyLink(r){let t=r+"?ref="+this.profile()?.inviteCode+"&sharePlatform=website";console.log(t),navigator.clipboard.writeText(t).then(()=>{this._snackbar.open("\u0110\xE3 Coppy","Close",{duration:2e3,panelClass:["snackbar-success"]})}).catch(o=>{this._snackbar.open("Coppy L\u1ED7i","Close",{duration:2e3,panelClass:["snackbar-error"]})})}share(r,t,o,e,n){t=t+"?ref="+this.profile()?.inviteCode;let d;switch(r.toLowerCase()){case"facebook":t=t+"&sharePlatform=facebook",d=`https://www.facebook.com/sharer/sharer.php?u=${this.encode(t)}&quote=${this.encode(o||"")}`;break;case"twitter":t=t+"&sharePlatform=twitter",d=`https://twitter.com/intent/tweet?url=${this.encode(t)}&text=${this.encode(o||"")}`;break;case"linkedin":t=t+"&sharePlatform=linkedin",d=`https://www.linkedin.com/sharing/share-offsite/?url=${this.encode(t)}`;break;case"pinterest":t=t+"&sharePlatform=pinterest",d=`https://pinterest.com/pin/create/button/?url=${this.encode(t)}&media=${this.encode(n||"")}&description=${this.encode(e||"")}`;break;case"whatsapp":t=t+"&sharePlatform=whatsapp",d=`https://api.whatsapp.com/send?text=${this.encode(`${o} ${t}`)}`;break;case"email":t=t+"&sharePlatform=email",d=`mailto:?subject=${this.encode(o||"")}&body=${this.encode(e||"")}%0A${this.encode(t)}`;break;default:console.warn(`Share platform "${r}" is not supported.`);return}window.open(d,"_blank","width=600,height=400")}static \u0275fac=function(t){return new(t||g)};static \u0275cmp=k({type:g,selectors:[["app-ladictv"]],decls:12,vars:1,consts:[["menu","matMenu"],[1,"flex","flex-col","space-y-4","container","mx-auto","p-4"],[1,"flex","lg:flex-row","flex-col","gap-2","py-4"],[1,"text-2xl","font-bold"],[1,"flex","flex-row","items-center","justify-end"],[1,"relative","w-full"],["type","text","placeholder","T\xECm Ki\u1EBFm...",1,"block","lg:w-auto","w-full","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"input"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white flex flex-col space-y-2 rounded-lg border",4,"ngFor","ngForOf"],[1,"bg-white","flex","flex-col","space-y-2","rounded-lg","border"],["loading","lazy",1,"w-full","h-24","object-cover",3,"src","alt"],[1,"p-4"],[1,"text-xl","font-semibold","text-gray-800","mb-2","line-clamp-1"],[1,"line-clamp-3",3,"innerHTML"],[1,"flex","flex-row","space-x-2","items-center","justify-between"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp Li\xEAn K\u1EBFt",3,"value","disabled"],["mat-icon-button","","color","primary",1,"!text-xs",3,"click"],["mat-icon-button","","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"!text-blue-500"],["mat-menu-item","","color","primary",3,"click"]],template:function(t,o){t&1&&(i(0,"div",1)(1,"div",2)(2,"span",3),a(3,"Landing Pages"),l(),i(4,"div",4)(5,"div",5)(6,"input",6),s("input",function(n){return o.applyFilters(n)}),l(),i(7,"div",7)(8,"span",8),a(9,"search"),l()()()()(),i(10,"div",9),y(11,X,49,7,"div",10),l()()),t&2&&(u(11),f("ngForOf",o.Filerladi))},dependencies:[$,E,D,F,q,K,N,W,R,U,T,G,A,B,z,O,H,j,I],encapsulation:2})};export{Q as LadictvComponent};

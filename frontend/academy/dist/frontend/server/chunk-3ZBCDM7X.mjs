import './polyfills.server.mjs';
import{a as _}from"./chunk-HTUNAWUT.mjs";import{a as k}from"./chunk-CZVDFT7K.mjs";import{a as y}from"./chunk-2KYFYHI6.mjs";import"./chunk-7Y5WT2DA.mjs";import{a as h}from"./chunk-6DGEQEFJ.mjs";import"./chunk-BHSUXMGO.mjs";import"./chunk-XCXZYEU6.mjs";import"./chunk-CHLRJVWI.mjs";import"./chunk-73IBRO6I.mjs";import"./chunk-4ZY7XLUK.mjs";import"./chunk-RBBE3QCJ.mjs";import"./chunk-MDO63YZF.mjs";import"./chunk-OYHSU2NM.mjs";import"./chunk-5BXDRUDO.mjs";import{b as S}from"./chunk-QBAGT7WN.mjs";import"./chunk-6DC6V4B6.mjs";import{a as u}from"./chunk-PIRV6YUG.mjs";import{L as m}from"./chunk-JAOTUPL5.mjs";import{Bb as g,La as l,Tb as p,dc as v,ja as i,lb as d,tb as f}from"./chunk-Y26U273F.mjs";import"./chunk-KB5IWD3E.mjs";import{j as s}from"./chunk-RIAI3ORJ.mjs";var w=class n{constructor(t){this.route=t;let e=new URLSearchParams(window.location.search);this.refCode?this.ref=this.refCode:this.ref=e.get("ref")||void 0,this.route.paramMap.subscribe(r=>s(this,null,function*(){let a=r.get("slug");a&&(yield this._LandingpageService.getLandingpageBy({slug:a}),this.ladipage=this._LandingpageService.DetailLandingpage);let o=e.get("codeId"),c=null;o&&(yield this._AffiliatelinkService.getAffiliatelinkBy({codeId:o,isOne:!0}),c=this._AffiliatelinkService.affiliatelinkId()),yield this._UserService.getProfile(),this.logLadiPageView({eventType:"page_view",pageUrl:window.location.href,pageType:"LadiCTV",pageIdentifier:a,refCode:this.ref,referrer:this._UserService.profile().id||void 0,affiliateLinkId:c||null})}))}_LandingpageService=i(k);_AffiliatelinkService=i(y);_TrackingService=i(_);_UserService=i(h);_StorageService=i(S);ladipage=l({});_sanitizer=i(m);refCode=this._StorageService.getItem("refCode")||void 0;ref=void 0;ngOnInit(){}TrustUrl(t){return this._sanitizer.bypassSecurityTrustResourceUrl(t)}ngOnDestroy(){}logLadiPageView(t){this._TrackingService.CreateTracking(t)}static \u0275fac=function(e){return new(e||n)(f(u))};static \u0275cmp=g({type:n,selectors:[["app-detailladictv"]],decls:1,vars:1,consts:[["width","100%","height","600","loading","lazy","title","M\xF4 t\u1EA3 n\u1ED9i dung iframe",2,"border","none",3,"src"]],template:function(e,r){e&1&&v(0,"iframe",0),e&2&&p("src",r.TrustUrl(r.ladipage().contentHtml),d)},encapsulation:2})};export{w as DetailladictvComponent};

import './polyfills.server.mjs';
import{a as q}from"./chunk-NHS6D3PG.mjs";import{a as O,b as U,c as Z,d as j,e as H}from"./chunk-Z24F2Y7J.mjs";import{a as b}from"./chunk-XBT24DUT.mjs";import"./chunk-BHSUXMGO.mjs";import"./chunk-YWGUKYOE.mjs";import"./chunk-CHLRJVWI.mjs";import"./chunk-73IBRO6I.mjs";import{d as z}from"./chunk-7V4A73UU.mjs";import"./chunk-CREX4RSV.mjs";import"./chunk-WZNDKZHB.mjs";import"./chunk-YZOQCLPS.mjs";import"./chunk-KANEWG3T.mjs";import"./chunk-S3LP7U63.mjs";import"./chunk-RBBE3QCJ.mjs";import"./chunk-NWXV7NZS.mjs";import{c as M,d as k,e as S}from"./chunk-7QPRZWPC.mjs";import"./chunk-77LHEG5E.mjs";import{c as I,g as T,j as V,n as F,o as W,q as B,v as N,w as P,y as L,z as R}from"./chunk-SEIR752B.mjs";import"./chunk-7JA63HNF.mjs";import"./chunk-66R7OOMP.mjs";import{a as A}from"./chunk-JGZH2YRR.mjs";import"./chunk-F4Z2NXP4.mjs";import"./chunk-CXE7OBEL.mjs";import{m as _,q as w}from"./chunk-MZAMWBKD.mjs";import{Bb as C,Ec as s,Fc as p,Gc as f,Hb as x,Tb as E,bc as n,cc as i,hc as D,ja as y,lc as v,mc as m,ob as l,sa as c,ta as g,zc as o}from"./chunk-FNWYOGIO.mjs";import"./chunk-KB5IWD3E.mjs";import{j as h}from"./chunk-RIAI3ORJ.mjs";function J(u,d){if(u&1){let e=D();n(0,"div",3)(1,"mat-card",4)(2,"mat-card-header",5)(3,"mat-card-title")(4,"h1",6),o(5,"\u0110\u0103ng k\xFD l\xE0m C\u1ED9ng t\xE1c vi\xEAn"),i()()(),n(6,"mat-card-content")(7,"div",7)(8,"div",8)(9,"h2",9),o(10,"Th\xF4ng tin c\xE1 nh\xE2n"),i(),n(11,"mat-form-field",10)(12,"mat-label"),o(13,"H\u1ECD v\xE0 t\xEAn"),i(),n(14,"input",11),f("ngModelChange",function(t){c(e);let a=m();return p(a.Dangky.name,t)||(a.Dangky.name=t),g(t)}),i()(),n(15,"mat-form-field",10)(16,"mat-label"),o(17,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i"),i(),n(18,"input",12),f("ngModelChange",function(t){c(e);let a=m();return p(a.Dangky.phone,t)||(a.Dangky.phone=t),g(t)}),i()(),n(19,"mat-form-field",10)(20,"mat-label"),o(21,"Email"),i(),n(22,"input",13),f("ngModelChange",function(t){c(e);let a=m();return p(a.Dangky.email,t)||(a.Dangky.email=t),g(t)}),i()(),n(23,"mat-form-field",10)(24,"mat-label"),o(25,"M\u1EADt kh\u1EA9u"),i(),n(26,"input",14),f("ngModelChange",function(t){c(e);let a=m();return p(a.Dangky.password,t)||(a.Dangky.password=t),g(t)}),i()(),n(27,"mat-form-field",10)(28,"mat-label"),o(29,"Zalo"),i(),n(30,"input",15),f("ngModelChange",function(t){c(e);let a=m();return p(a.Dangky.zaloId,t)||(a.Dangky.zaloId=t),g(t)}),i()()(),n(31,"div",16)(32,"button",17),v("click",function(){c(e);let t=m();return g(t.onDangky())}),o(33," \u0110\u0103ng k\xFD l\xE0m CTV "),i()()()()()()}if(u&2){let e=m();l(14),s("ngModel",e.Dangky.name),l(4),s("ngModel",e.Dangky.phone),l(4),s("ngModel",e.Dangky.email),l(4),s("ngModel",e.Dangky.password),l(4),s("ngModel",e.Dangky.zaloId)}}function K(u,d){u&1&&(n(0,"div",18)(1,"mat-card",19)(2,"mat-card-content")(3,"h2",20),o(4,"C\u1EA3m \u01A1n b\u1EA1n \u0111\xE3 \u0111\u0103ng k\xFD l\xE0m C\u1ED9ng t\xE1c vi\xEAn!"),i(),n(5,"p",21),o(6,"Ch\xFAng t\xF4i \u0111\xE3 nh\u1EADn \u0111\u01B0\u1EE3c th\xF4ng tin \u0111\u0103ng k\xFD c\u1EE7a b\u1EA1n. B\u1EA1n s\u1EBD \u0111\u01B0\u1EE3c chuy\u1EC3n v\u1EC1 trang ch\u1EE7 trong gi\xE2y l\xE1t."),i(),n(7,"a",22),o(8,"\u0110\u0103ng Nh\u1EADp \u0110\u1EC3 B\u1EAFt \u0110\u1EA7u"),i()()()())}var G=class u{userService=y(b);storageService=y(A);trackingService=y(q);isRegister=!1;refCode=this.storageService.getItem("refCode")??void 0;Dangky={affiliateCode:""};ngOnInit(){let e=new URLSearchParams(window.location.search).get("ref");e&&(this.Dangky.affiliateCode=e,this.refCode||this.storageService.setItem("refCode",e))}onDangky(){return h(this,null,function*(){try{(yield this.userService.register(this.Dangky)).statusCode===201&&(this.isRegister=!0,this.trackingService.CreateTracking({eventType:"register",pageUrl:window.location.href,pageType:"DangkyCTV",pageIdentifier:"",refCode:this.Dangky.affiliateCode,referrer:document.referrer||void 0}),this.storageService.removeItem("refCode"))}catch(d){console.error("Registration error:",d)}})}static \u0275fac=function(e){return new(e||u)};static \u0275cmp=C({type:u,selectors:[["app-dangkyctv"]],decls:3,vars:2,consts:[[1,"bg-gray-50","h-full"],["class","container mx-auto px-4 py-8 max-w-2xl",4,"ngIf"],["class","container mx-auto px-4 py-8 max-w-2xl flex flex-col items-center",4,"ngIf"],[1,"container","mx-auto","px-4","py-8","max-w-2xl"],[1,"rounded-lg","shadow-md","overflow-hidden"],[1,"bg-blue-600","py-4","px-6"],[1,"text-white","text-2xl","font-bold"],[1,"p-6","space-y-6"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-800","border-b","pb-2"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","type","text","placeholder","Nh\u1EADp h\u1ECD v\xE0 t\xEAn \u0111\u1EA7y \u0111\u1EE7",3,"ngModelChange","ngModel"],["matInput","","type","tel","name","phone","pattern","[0-9]*","placeholder","Nh\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",3,"ngModelChange","ngModel"],["matInput","","type","email","name","email","placeholder","Nh\u1EADp \u0111\u1ECBa ch\u1EC9 email",3,"ngModelChange","ngModel"],["matInput","","type","password","name","password","placeholder","Nh\u1EADp m\u1EADt kh\u1EA9u",3,"ngModelChange","ngModel"],["matInput","","type","text","name","zaloId","placeholder","Nh\u1EADp s\u1ED1 Zalo ho\u1EB7c ID Zalo",3,"ngModelChange","ngModel"],[1,"flex","justify-center"],["mat-flat-button","","color","primary",3,"click"],[1,"container","mx-auto","px-4","py-8","max-w-2xl","flex","flex-col","items-center"],[1,"rounded-lg","shadow-md","overflow-hidden","w-full","text-center"],[1,"text-2xl","font-bold","text-green-600","mb-4"],[1,"text-gray-700","mb-6"],["mat-flat-button","","color","primary","href","/loginctv"]],template:function(e,r){e&1&&(n(0,"div",0),x(1,J,34,5,"div",1)(2,K,9,0,"div",2),i()),e&2&&(l(),E("ngIf",!r.isRegister),l(),E("ngIf",r.isRegister))},dependencies:[w,_,W,I,T,F,V,H,O,Z,j,U,P,N,B,R,L,z,S,k,M],encapsulation:2})};export{G as DangkyctvComponent};

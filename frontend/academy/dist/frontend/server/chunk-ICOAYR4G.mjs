import './polyfills.server.mjs';
import{a as H}from"./chunk-JNDGXPH2.mjs";import{b as J}from"./chunk-PDYHWB5Z.mjs";import"./chunk-NL4WRY32.mjs";import"./chunk-XYW3N2TH.mjs";import"./chunk-CHLRJVWI.mjs";import"./chunk-73IBRO6I.mjs";import{c as O,d as $,e as j,f as N,g as P,h as q}from"./chunk-FRLEQFKI.mjs";import"./chunk-CREX4RSV.mjs";import"./chunk-WZNDKZHB.mjs";import"./chunk-KANEWG3T.mjs";import{b as U}from"./chunk-FW423F55.mjs";import"./chunk-RBBE3QCJ.mjs";import"./chunk-HBVR6GXD.mjs";import{f as F,h as A}from"./chunk-IRRE6H53.mjs";import{c as G}from"./chunk-HVAVP6HQ.mjs";import{h as K}from"./chunk-SYLL2VWS.mjs";import{o as z}from"./chunk-YDNHBDZA.mjs";import"./chunk-S7AOMGFV.mjs";import{a as B,b as V}from"./chunk-ZO5BTQX6.mjs";import{a as L}from"./chunk-UE4SGS3X.mjs";import"./chunk-KLKELR3G.mjs";import"./chunk-YL66THYG.mjs";import{l as k,r as I}from"./chunk-TS5YM2X4.mjs";import{Ab as S,Ac as M,Gb as x,Pc as D,Sb as C,ac as t,bc as i,cc as w,gc as b,ja as f,kb as E,kc as h,lc as u,ld as T,nb as s,sa as v,ta as y,xc as R,yc as n,zc as m}from"./chunk-LCAOUERI.mjs";import"./chunk-KB5IWD3E.mjs";import{h as _,j as g}from"./chunk-RIAI3ORJ.mjs";function W(d,a){if(d&1){let e=b();t(0,"div",12)(1,"div",13),w(2,"img",14),i(),t(3,"div",15)(4,"div",16)(5,"h3",17),n(6),i(),t(7,"span",18),n(8),i()(),t(9,"p",4),n(10),i(),t(11,"p",4),n(12),i(),t(13,"div",19)(14,"button",20),h("click",function(){let l=v(e).$implicit,o=u();return y(o.downloadFile(o.ImageURL+"/"+l.url))}),t(15,"span"),n(16,"T\u1EA3i xu\u1ED1ng"),i(),t(17,"mat-icon"),n(18,"download"),i()(),t(19,"button",20),h("click",function(){let l=v(e).$implicit,o=u(),c=R(16);return y(o.openCopycodeDialog(l,c))}),t(20,"span"),n(21,"L\u1EA5y M\xE3"),i(),t(22,"mat-icon"),n(23,"content_copy"),i()()()()()}if(d&2){let e=a.$implicit,r=u();s(2),C("src",r.ImageURL+"/"+e.url,E),s(4),m(e.title),s(2),m(e.category),s(2),m(e.description||"Ch\u01B0a C\xF3 m\xF4 t\u1EA3"),s(2),m(e.file)}}function X(d,a){if(d&1&&(t(0,"h2",21),n(1),i(),t(2,"mat-dialog-content",22)(3,"div",23)(4,"span",24),n(5),i()()(),t(6,"mat-dialog-actions",25)(7,"button",26)(8,"span"),n(9,"Copy"),i(),t(10,"mat-icon"),n(11,"content_copy"),i()()()),d&2){let e=u();s(),m(e.DetailCopyCode.title),s(4),M(" ",e.DetailCopyCode.content,"")}}var p=class p{Listfilters=[{label:"All Types",active:!0},{label:"Banners",active:!1},{label:"Social Media",active:!1},{label:"Email",active:!1},{label:"Video",active:!1}];_ResourceService=f(H);_snackBar=f(U);ImageURL=L.ImageURL;Listresource=this._ResourceService.ListResource;page=this._ResourceService.page;pageCount=this._ResourceService.pageCount;total=this._ResourceService.total;pageSize=this._ResourceService.pageSize;resourceId=this._ResourceService.resourceId;DetailCopyCode={title:"",content:""};constructor(){T(()=>g(this,null,function*(){yield this._ResourceService.getAllResource(this.pageSize(),!0)}))}ngOnInit(){return g(this,null,function*(){this._ResourceService.listenResourceUpdates(),yield this._ResourceService.getAllResource(this.pageSize(),!0)})}Applyfilter(a){return g(this,null,function*(){console.log(a.target.value);let e=a.target.value;yield this._ResourceService.getResourceBy({title:e.toLowerCase()}),e===""&&(yield this._ResourceService.getAllResource(this.pageSize(),!0))})}downloadFile(a){let e=a,r=e.split("/").pop()||"download.png";fetch(e).then(l=>l.blob()).then(l=>{let o=window.URL.createObjectURL(l),c=document.createElement("a");c.href=o,c.download=r,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(o)}).catch(l=>{console.error("L\u1ED7i khi t\u1EA3i file:",l);let o=document.createElement("a");o.href=e,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o)})}copyCode(a){navigator.clipboard.writeText(a).then(()=>{this._snackBar.open("Sao Ch\xE9p Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["snackbar-success"]})}).catch(e=>{console.error("Failed to copy code: ",e)})}_dialog=f(O);openCopycodeDialog(a,e){let r=this.ImageURL+"/"+a.url;this.DetailCopyCode.title=a.title,this.DetailCopyCode.content=`<a href="${r}"> <img src="${r}" alt="${a.title}" /> </a>`,this._dialog.open(e,{hasBackdrop:!0,disableClose:!0}).afterClosed().subscribe(o=>{o==="true"&&this.copyCode(this.DetailCopyCode.content)})}static \u0275fac=function(e){return new(e||p)};static \u0275cmp=S({type:p,selectors:[["app-tainguyenctv"]],decls:17,vars:1,consts:[["CopyCodeDialog",""],[1,"w-full","flex","flex-col","space-y-2","mx-auto","container","!mb-16","p-4","md:p-8"],[1,"space-y-6"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"relative"],["type","text","placeholder","T\xECm Ki\u1EBFm...",1,"block","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6"],["class","border bg-white rounded-lg overflow-hidden transition-transform hover:scale-[1.02]",4,"ngFor","ngForOf"],[1,"border","bg-white","rounded-lg","overflow-hidden","transition-transform","hover:scale-[1.02]"],[1,"aspect-video","bg-white","overflow-hidden"],[1,"w-full","h-full","object-contain",3,"src"],[1,"p-4"],[1,"flex","items-center","justify-between"],[1,"font-medium","text-gray-900"],[1,"text-xs","px-2","py-1","rounded-full","bg-blue-100","text-blue-800"],[1,"mt-4","flex","gap-2"],["mat-flat-button","","color","primary",3,"click"],["mat-dialog-title",""],[1,"mat-typography"],[1,"flex","w-[40rem]"],[1,"p-4","bg-slate-200","rounded-lg"],["align","end"],["mat-flat-button","","color","primary","mat-dialog-close","true"]],template:function(e,r){if(e&1){let l=b();t(0,"div",1)(1,"div",2)(2,"div")(3,"h1",3),n(4,"T\xE0i Nguy\xEAn"),i(),t(5,"p",4),n(6,"Truy c\u1EADp c\xE1c bi\u1EC3u ng\u1EEF, h\xECnh \u1EA3nh v\xE0 t\xE0i li\u1EC7u qu\u1EA3ng c\xE1o c\xF3 s\u1EB5n."),i()(),t(7,"div",5)(8,"div",6)(9,"input",7),h("keyup",function(c){return v(l),y(r.Applyfilter(c))}),i(),t(10,"div",8)(11,"span",9),n(12,"search"),i()()()(),t(13,"div",10),x(14,W,24,5,"div",11),i()(),x(15,X,12,2,"ng-template",null,0,D),i()}e&2&&(s(14),C("ngForOf",r.Listresource()))},dependencies:[I,k,z,K,G,A,F,V,B,q,$,j,P,N],encapsulation:2})};_([J(300)],p.prototype,"Applyfilter",1);var Q=p;export{Q as TainguyenctvComponent};

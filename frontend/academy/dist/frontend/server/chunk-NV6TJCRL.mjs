import './polyfills.server.mjs';
import{a as ee,b as te,c as ie,d as ne}from"./chunk-ZX5IWZKI.mjs";import"./chunk-NO2WFJEB.mjs";import"./chunk-LX7NEHM5.mjs";import"./chunk-Y2756MZK.mjs";import{a as Y}from"./chunk-CHJMEXVU.mjs";import"./chunk-BHSUXMGO.mjs";import"./chunk-XYW3N2TH.mjs";import"./chunk-WZNDKZHB.mjs";import{b as G,c as U}from"./chunk-HVAVP6HQ.mjs";import{b as k,d as $,g as N,h as B}from"./chunk-SYLL2VWS.mjs";import{b as F,f as P,i as A,o as I}from"./chunk-YDNHBDZA.mjs";import{a as T,b as x}from"./chunk-ZO5BTQX6.mjs";import"./chunk-73IBRO6I.mjs";import"./chunk-CHLRJVWI.mjs";import"./chunk-FW423F55.mjs";import"./chunk-RBBE3QCJ.mjs";import"./chunk-HBVR6GXD.mjs";import{c as Q,f as S,h as E}from"./chunk-IRRE6H53.mjs";import"./chunk-S7AOMGFV.mjs";import"./chunk-UE4SGS3X.mjs";import"./chunk-KLKELR3G.mjs";import"./chunk-YL66THYG.mjs";import{M as J,r as X}from"./chunk-TS5YM2X4.mjs";import{$b as K,Ab as v,Dc as f,Ec as g,Fc as h,Gb as H,Ic as M,La as j,Rb as b,Sb as d,Vb as W,Xb as R,_b as Z,ac as i,bc as n,cc as y,gc as D,ja as L,kb as q,kc as m,lc as u,nb as l,sa as _,sb as O,ta as C,yc as r,zc as c}from"./chunk-LCAOUERI.mjs";import"./chunk-KB5IWD3E.mjs";import"./chunk-RIAI3ORJ.mjs";var ue=()=>({standalone:!0}),ce=(p,o)=>o.id;function fe(p,o){if(p&1){let t=D();i(0,"mat-form-field",1)(1,"mat-label"),r(2),n(),i(3,"input",4),h("ngModelChange",function(s){let a=_(t).$implicit,w=u();return g(w.Detail.Data[a.value],s)||(w.Detail.Data[a.value]=s),C(s)}),n()()}if(p&2){let t=o.$implicit,e=u();d("appearance","outline")("subscriptSizing","dynamic"),l(2),c(t.Title),l(),f("ngModel",e.Detail.Data[t.value]),d("ngModelOptions",M(6,ue))("placeholder",t.Title)}}var z=class p{CusClass={Main:"",Footer:""};Detail={Data:{id:"8efd5ba3-d073-4baf-ab89-31180ee7471d",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"098765421",idGroup:"",Code:"751221",Hoten:"test1",Avatar:"",Ngaysinh:null,email:"test1@gmail.com",Gioitinh:"",EditChinhanhs:[],Diachi:[],ListImage:[],Profile:[],Role:"user",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"10:11:52 11/12/2024",UpdateAt:"2024-12-11T03:11:52.074Z",DeleteAt:null,idCreate:null},Forms:[{id:1,Title:"H\u1ECD T\xEAn",value:"Hoten",Type:"text",required:!0},{id:2,Title:"Email",value:"email",Type:"text",required:!0},{id:3,Title:"SDT",value:"SDT",Type:"text",required:!1},{id:4,Title:"M\u1EADt Kh\u1EA9u",value:"password",Type:"text",required:!0},{id:5,Title:"Tr\u1EA1ng Th\xE1i",value:"Status",Type:"text",required:!0}]};static \u0275fac=function(t){return new(t||p)};static \u0275cmp=v({type:p,selectors:[["app-dynamicform"]],inputs:{CusClass:"CusClass",Detail:"Detail"},decls:13,vars:4,consts:[[1,"w-full","flex","flex-col","space-y-8"],[1,"w-full",3,"appearance","subscriptSizing"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","warn"],["matInput","",3,"ngModelChange","ngModel","ngModelOptions","placeholder"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"div"),Z(2,fe,4,7,"mat-form-field",1,ce),n(),i(4,"div")(5,"button",2)(6,"mat-icon"),r(7,"check"),n(),r(8," L\u01B0u "),n(),i(9,"button",3)(10,"mat-icon"),r(11,"cancel"),n(),r(12," Hu\u1EF7 "),n()()()),t&2&&(l(),W(e.CusClass.Main),l(),K(e.Detail.Forms),l(2),W(e.CusClass.Footer))},dependencies:[X,I,F,P,A,B,N,k,U,G,E,S,x,T],encapsulation:2})};var ge=()=>({Main:"grid grid-cols-2 gap-4 items-start",Footer:"flex flex-row space-x-2 justify-center items-center"});function he(p,o){if(p&1&&y(0,"img",5),p&2){let t=u();d("src",t.getTrustUrl("https://lh3.googleusercontent.com/d/"+t.account.Avatar),q)}}function ye(p,o){if(p&1&&y(0,"img",5),p&2){let t=u();d("src",t.getTrustUrl("https://tazagroup.vn/assets/images/tazagroup-logo-trangchu.svg"),q)}}function we(p,o){if(p&1){let t=D();i(0,"div",27)(1,"span"),r(2,"Drop file Here"),n(),i(3,"span",28),m("click",function(){let s=_(t).openFileSelector;return C(s())}),r(4,"Ch\u1ECDn File"),n()()}}var ae=class p{constructor(o){this.sanitizer=o;this.Detail={Data:{id:"8efd5ba3-d073-4baf-ab89-31180ee7471d",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"098765421",idGroup:"",Code:"751221",Hoten:"test1",Avatar:"",Ngaysinh:null,email:"test1@gmail.com",Gioitinh:"",EditChinhanhs:[],Diachi:[],ListImage:[],Profile:[],Role:"user",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"10:11:52 11/12/2024",UpdateAt:"2024-12-11T03:11:52.074Z",DeleteAt:null,idCreate:null},Forms:[{id:1,Title:"H\u1ECD T\xEAn",value:"Hoten",Type:"text",required:!0},{id:2,Title:"Email",value:"email",Type:"text",required:!0},{id:3,Title:"SDT",value:"SDT",Type:"text",required:!1},{id:4,Title:"M\u1EADt Kh\u1EA9u",value:"password",Type:"text",required:!0},{id:5,Title:"Tr\u1EA1ng Th\xE1i",value:"Status",Type:"text",required:!0}]}}isLoading=!1;account={};isEditAvatar=!1;files=[];profile=j({});hideCurrentPassword=!0;hideNewPassword=!0;hideConfirmPassword=!0;user={oldpass:"",newpass:"",confirmnewpass:""};_UserService=L(Y);_uploadService=L(ne);Detail={};getTrustUrl(o){return this.sanitizer.bypassSecurityTrustResourceUrl(o)}handlePaste(o){this.isLoading=!0;let t=o.clipboardData?.items;if(t)for(let e=0;e<t.length;e++){let s=t[e];if(s.type.indexOf("image")!==-1){let a=s.getAsFile();if(a){console.log("Pasted image:",a);let w=new File([a],`${this.account.email.split("@")[0]}_${new Date().getTime()}.png`,{type:a.type});this._uploadService.uploadDriver(w).then(V=>{console.log(V),this.account.Avatar=V.fileId,this.isLoading=!1,this.isEditAvatar=!1,this._UserService.updateUser(this.account)})}}}}dropped(o){this.isLoading=!0,this.files=o;for(let t of o)t.fileEntry.isFile&&t.fileEntry.file(s=>{this._uploadService.uploadDriver(s).then(a=>{console.log(a),this.account.Avatar=a.fileId,this.isLoading=!1,this.isEditAvatar=!1,this._UserService.updateUser(this.account)})})}ChangePass(){if(console.log(this.user),!(this.user.oldpass==""||this.user.newpass==""||this.user.confirmnewpass=="")){if(this.user.newpass==this.user.confirmnewpass){let o={id:this._UserService.profile().id,oldpass:this.user.oldpass,newpass:this.user.newpass};this._UserService.changepass(o).then(t=>{t[0]==200&&(this.user={oldpass:"",newpass:"",confirmnewpass:""})})}}}static \u0275fac=function(t){return new(t||p)(O(J))};static \u0275cmp=v({type:p,selectors:[["app-general"]],decls:54,vars:22,consts:[[1,"w-full","h-full","lg:grid","lg:grid-cols-2","gap-8","p-2"],[1,"w-full","flex","flex-col","gap-4","rounded-lg","p-4","bg-slate-50"],[1,"text-lg","font-bold"],[1,"relative","w-40","h-40","cursor-pointer","rounded-full","bg-slate-300","p-2","mx-auto"],[1,"w-full","h-full"],["lazyLoad","","loading","lazy",1,"w-full","h-full","object-cover",3,"src"],[1,"w-full","h-full","rounded-full","absolute","opacity-0","group-hover:!opacity-80","bg-black","top-0","right-0","flex","flex-row","justify-center","space-x-2","items-center","py-3",3,"paste"],[1,"!relative"],["browseBtnLabel","Browse files","dropZoneLabel","Drag and drop your files here",1,"whitespace-nowrap",3,"onFileDrop","showBrowseBtn"],["ngx-file-drop-content-tmp",""],[1,"flex","flex-row","justify-center","items-center","gap-2"],["mat-flat-button","","color","primary",1,"flex","flex-row","gap-2"],["mat-flat-button","","color","warn",1,"flex","flex-row","gap-2"],[1,"w-full","rounded-lg","p-4","bg-slate-50"],[1,"w-full","flex","flex-col","gap-4"],[1,"grid","grid-cols-1","gap-2"],["appearance","outline",1,"w-full"],["matInput","","id","currentPassword","name","currentPassword",3,"ngModelChange","type","ngModel"],["mat-icon-button","","color","primary","matSuffix","",3,"click"],["matInput","","id","newPassword","name","newPassword",3,"ngModelChange","type","ngModel"],["matInput","","id","confirmPassword","name","confirmPassword",3,"ngModelChange","type","ngModel"],[1,"flex","justify-end"],["mat-raised-button","","color","primary","type","submit",1,"w-full","sm:w-auto",3,"click"],[1,"w-full","col-span-2","gap-4","rounded-lg","p-4","bg-slate-50"],[1,"w-full","!mt-8",3,"subscriptSizing","appearance"],["matInput",""],[3,"Detail","CusClass"],[1,"!text-white","p-4","flex","flex-col","space-y-3"],[1,"font-bold","p-2","rounded-lg","border",3,"click"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"div",1)(2,"span",2),r(3,"H\xECnh \u0110\u1EA1i di\u1EC7n"),n(),i(4,"div",3)(5,"div",4),H(6,he,1,1,"img",5)(7,ye,1,1,"img",5),n(),i(8,"div",6),m("paste",function(a){return e.handlePaste(a)}),i(9,"div",7)(10,"ngx-file-drop",8),m("onFileDrop",function(a){return e.dropped(a)}),H(11,we,5,0,"ng-template",9),n()()()(),i(12,"div",10)(13,"button",11)(14,"span"),r(15,"Upload"),n()(),i(16,"button",12)(17,"span"),r(18,"Reset"),n()()()(),i(19,"div",13)(20,"div",14)(21,"span",2),r(22,"Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u"),n(),i(23,"div",15)(24,"mat-form-field",16)(25,"mat-label"),r(26,"M\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i"),n(),i(27,"input",17),h("ngModelChange",function(a){return g(e.user.oldpass,a)||(e.user.oldpass=a),a}),n(),i(28,"button",18),m("click",function(){return e.hideCurrentPassword=!e.hideCurrentPassword}),i(29,"mat-icon"),r(30),n()()(),i(31,"mat-form-field",16)(32,"mat-label"),r(33,"M\u1EADt kh\u1EA9u m\u1EDBi"),n(),i(34,"input",19),h("ngModelChange",function(a){return g(e.user.newpass,a)||(e.user.newpass=a),a}),n(),i(35,"button",18),m("click",function(){return e.hideNewPassword=!e.hideNewPassword}),i(36,"mat-icon"),r(37),n()()(),i(38,"mat-form-field",16)(39,"mat-label"),r(40,"X\xE1c nh\u1EADn m\u1EADt kh\u1EA9u m\u1EDBi"),n(),i(41,"input",20),h("ngModelChange",function(a){return g(e.user.confirmnewpass,a)||(e.user.confirmnewpass=a),a}),n(),i(42,"button",18),m("click",function(){return e.hideConfirmPassword=!e.hideConfirmPassword}),i(43,"mat-icon"),r(44),n()()(),i(45,"div",21)(46,"button",22),m("click",function(){return e.ChangePass()}),r(47,"\u0110\u1ED5i m\u1EADt kh\u1EA9u"),n()()()()(),i(48,"div",23)(49,"mat-form-field",24)(50,"mat-label"),r(51,"Bio"),n(),y(52,"textarea",25),n(),y(53,"app-dynamicform",26),n()()),t&2&&(l(6),R(e.account.Avatar?6:7),l(4),d("showBrowseBtn",!0),l(17),d("type",e.hideCurrentPassword?"password":"text"),f("ngModel",e.user.oldpass),l(),b("aria-label","Hide password")("aria-pressed",e.hideCurrentPassword),l(2),c(e.hideCurrentPassword?"visibility_off":"visibility"),l(4),d("type",e.hideNewPassword?"password":"text"),f("ngModel",e.user.newpass),l(),b("aria-label","Hide password")("aria-pressed",e.hideNewPassword),l(2),c(e.hideNewPassword?"visibility_off":"visibility"),l(4),d("type",e.hideConfirmPassword?"password":"text"),f("ngModel",e.user.confirmnewpass),l(),b("aria-label","Hide password")("aria-pressed",e.hideConfirmPassword),l(2),c(e.hideConfirmPassword?"visibility_off":"visibility"),l(5),d("subscriptSizing","dynamic")("appearance","outline"),l(4),d("Detail",e.Detail)("CusClass",M(21,ge)))},dependencies:[ie,te,ee,B,N,k,$,U,G,E,S,Q,I,F,P,A,x,T,z],encapsulation:2})};export{ae as GeneralComponent};

import{a as q}from"./chunk-NAB34S6R.js";import{a as O,b as U,c as Z,d as j,e as H}from"./chunk-EWQGIJTY.js";import{a as b}from"./chunk-Y4V566AC.js";import"./chunk-FLOPEQPR.js";import"./chunk-A7JXPJG3.js";import"./chunk-VR2W35LS.js";import"./chunk-KDLSUHPH.js";import{b as z}from"./chunk-QRTJ74SM.js";import"./chunk-PMYDVNTZ.js";import"./chunk-54PG2AAV.js";import"./chunk-PKTJEQ3B.js";import"./chunk-5BRDJZKA.js";import"./chunk-WEYYCYRL.js";import"./chunk-4VR3POOM.js";import"./chunk-ONISMNDW.js";import"./chunk-SGYCFQGT.js";import"./chunk-SNXVHML3.js";import{f as M,g as k,h as S}from"./chunk-27HSAN46.js";import{b as L,c as R}from"./chunk-6LPUX6O6.js";import{b as B,g as N,h as P}from"./chunk-TGPAHBDF.js";import{b as I,f as T,i as V,n as F,o as W}from"./chunk-3WKA6EHI.js";import"./chunk-G6U33RDC.js";import{b as A}from"./chunk-TBIQFSBE.js";import"./chunk-DACPR35D.js";import"./chunk-47UJXFST.js";import{j as v,o as w}from"./chunk-LNXTQBKM.js";import{Ac as p,Bc as f,Eb as x,Ob as E,Yb as n,Zb as i,cc as D,gc as _,hc as l,ja as y,lb as g,sa as d,ta as c,uc as o,yb as C,zc as s}from"./chunk-XM34QK75.js";import"./chunk-EU2KAMEK.js";import{j as h}from"./chunk-47CWAPKR.js";function J(m,u){if(m&1){let e=D();n(0,"div",2)(1,"mat-card",3)(2,"mat-card-header",4)(3,"mat-card-title")(4,"h1",5),o(5,"\u0110\u0103ng k\xFD l\xE0m C\u1ED9ng t\xE1c vi\xEAn"),i()()(),n(6,"mat-card-content")(7,"div",6)(8,"div",7)(9,"h2",8),o(10,"Th\xF4ng tin c\xE1 nh\xE2n"),i(),n(11,"mat-form-field",9)(12,"mat-label"),o(13,"H\u1ECD v\xE0 t\xEAn"),i(),n(14,"input",10),f("ngModelChange",function(t){d(e);let a=l();return p(a.Dangky.name,t)||(a.Dangky.name=t),c(t)}),i()(),n(15,"mat-form-field",9)(16,"mat-label"),o(17,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i"),i(),n(18,"input",11),f("ngModelChange",function(t){d(e);let a=l();return p(a.Dangky.phone,t)||(a.Dangky.phone=t),c(t)}),i()(),n(19,"mat-form-field",9)(20,"mat-label"),o(21,"Email"),i(),n(22,"input",12),f("ngModelChange",function(t){d(e);let a=l();return p(a.Dangky.email,t)||(a.Dangky.email=t),c(t)}),i()(),n(23,"mat-form-field",9)(24,"mat-label"),o(25,"M\u1EADt kh\u1EA9u"),i(),n(26,"input",13),f("ngModelChange",function(t){d(e);let a=l();return p(a.Dangky.password,t)||(a.Dangky.password=t),c(t)}),i()(),n(27,"mat-form-field",9)(28,"mat-label"),o(29,"Zalo"),i(),n(30,"input",14),f("ngModelChange",function(t){d(e);let a=l();return p(a.Dangky.zaloId,t)||(a.Dangky.zaloId=t),c(t)}),i()()(),n(31,"div",15)(32,"button",16),_("click",function(){d(e);let t=l();return c(t.onDangky())}),o(33," \u0110\u0103ng k\xFD l\xE0m CTV "),i()()()()()()}if(m&2){let e=l();g(14),s("ngModel",e.Dangky.name),g(4),s("ngModel",e.Dangky.phone),g(4),s("ngModel",e.Dangky.email),g(4),s("ngModel",e.Dangky.password),g(4),s("ngModel",e.Dangky.zaloId)}}function K(m,u){m&1&&(n(0,"div",17)(1,"mat-card",18)(2,"mat-card-content")(3,"h2",19),o(4,"C\u1EA3m \u01A1n b\u1EA1n \u0111\xE3 \u0111\u0103ng k\xFD l\xE0m C\u1ED9ng t\xE1c vi\xEAn!"),i(),n(5,"p",20),o(6,"Ch\xFAng t\xF4i \u0111\xE3 nh\u1EADn \u0111\u01B0\u1EE3c th\xF4ng tin \u0111\u0103ng k\xFD c\u1EE7a b\u1EA1n. B\u1EA1n s\u1EBD \u0111\u01B0\u1EE3c chuy\u1EC3n v\u1EC1 trang ch\u1EE7 trong gi\xE2y l\xE1t."),i(),n(7,"a",21),o(8,"\u0110\u0103ng Nh\u1EADp \u0110\u1EC3 B\u1EAFt \u0110\u1EA7u"),i()()()())}var G=class m{userService=y(b);storageService=y(A);trackingService=y(q);isRegister=!1;refCode=this.storageService.getItem("refCode")??void 0;Dangky={affiliateCode:""};ngOnInit(){let e=new URLSearchParams(window.location.search).get("ref");e&&(this.Dangky.affiliateCode=e,this.refCode||this.storageService.setItem("refCode",e))}onDangky(){return h(this,null,function*(){try{(yield this.userService.register(this.Dangky)).statusCode===201&&(this.isRegister=!0,this.trackingService.CreateTracking({eventType:"register",pageUrl:window.location.href,pageType:"DangkyCTV",pageIdentifier:"",refCode:this.Dangky.affiliateCode,referrer:document.referrer||void 0}),this.storageService.removeItem("refCode"))}catch(u){console.error("Registration error:",u)}})}static \u0275fac=function(e){return new(e||m)};static \u0275cmp=C({type:m,selectors:[["app-dangkyctv"]],decls:2,vars:2,consts:[["class","container mx-auto p-4 py-8 max-w-2xl",4,"ngIf"],["class","container mx-auto p-4 py-8 max-w-2xl flex flex-col items-center",4,"ngIf"],[1,"container","mx-auto","p-4","py-8","max-w-2xl"],[1,"rounded-lg","shadow-md","overflow-hidden"],[1,"bg-blue-600","py-4","px-6"],[1,"text-white","text-2xl","font-bold"],[1,"p-6","space-y-6"],[1,"space-y-4"],[1,"text-lg","font-semibold","text-gray-800","border-b","pb-2"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","type","text","placeholder","Nh\u1EADp h\u1ECD v\xE0 t\xEAn \u0111\u1EA7y \u0111\u1EE7",3,"ngModelChange","ngModel"],["matInput","","type","tel","name","phone","pattern","[0-9]*","placeholder","Nh\u1EADp s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",3,"ngModelChange","ngModel"],["matInput","","type","email","name","email","placeholder","Nh\u1EADp \u0111\u1ECBa ch\u1EC9 email",3,"ngModelChange","ngModel"],["matInput","","type","password","name","password","placeholder","Nh\u1EADp m\u1EADt kh\u1EA9u",3,"ngModelChange","ngModel"],["matInput","","type","text","name","zaloId","placeholder","Nh\u1EADp s\u1ED1 Zalo ho\u1EB7c ID Zalo",3,"ngModelChange","ngModel"],[1,"flex","justify-center"],["mat-flat-button","","color","primary",3,"click"],[1,"container","mx-auto","p-4","py-8","max-w-2xl","flex","flex-col","items-center"],[1,"rounded-lg","shadow-md","overflow-hidden","w-full","text-center"],[1,"text-2xl","font-bold","text-green-600","mb-4"],[1,"text-gray-700","mb-6"],["mat-flat-button","","color","primary","href","/loginctv"]],template:function(e,r){e&1&&x(0,J,34,5,"div",0)(1,K,9,0,"div",1),e&2&&(E("ngIf",!r.isRegister),g(),E("ngIf",r.isRegister))},dependencies:[w,v,W,I,T,F,V,H,O,Z,j,U,P,N,B,R,L,z,S,k,M],encapsulation:2})};export{G as DangkyctvComponent};

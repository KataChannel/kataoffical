import './polyfills.server.mjs';
import{a as Pe}from"./chunk-I7JRES27.mjs";import"./chunk-7BHYQM75.mjs";import{f as Ae,g as v}from"./chunk-GXNN5H4H.mjs";import"./chunk-73IBRO6I.mjs";import{a as Me,b as Fe}from"./chunk-6WXPUJHM.mjs";import{c as be,f as Te}from"./chunk-OSR76MA5.mjs";import{a as ie,b as re,c as oe,d as le,e as J,f as se,g as ce,h as ue,i as he,j as me,l as de,m as pe,o as ge,p as fe,r as _e,s as ye,u as xe,v as Ce,w as we,x as it}from"./chunk-UR7YYPV6.mjs";import{c as Gt,d as Yt,f as Kt,h as Qt}from"./chunk-YJQYPN6N.mjs";import{a as At,b as Ot,c as Nt}from"./chunk-MAUBI35T.mjs";import{b as ae}from"./chunk-GH557QLA.mjs";import{e as ne}from"./chunk-4CVVRMK6.mjs";import{a as ke}from"./chunk-VGJ6CXNJ.mjs";import{a as De,b as Se,c as Ee,k as ve}from"./chunk-OTZZWR6D.mjs";import"./chunk-MGIVCIKU.mjs";import{a as $t,b as Rt,c as Vt,d as Bt}from"./chunk-L4EOLOK4.mjs";import{a as Lt,b as It}from"./chunk-42IEFVVA.mjs";import{b as Ut,g as zt,j as qt,n as Ht,p as Wt,r as Jt,s as jt,v as Xt,w as Zt,y as te,z as ee}from"./chunk-QF33QXPO.mjs";import"./chunk-6NNASI4W.mjs";import"./chunk-Y5GM6BPP.mjs";import{a as Pt}from"./chunk-PWQWQN5I.mjs";import"./chunk-7AAMVCPG.mjs";import"./chunk-JJXRQIWZ.mjs";import{a as Mt,c as Ft,e as kt}from"./chunk-EEWCQRMA.mjs";import{_ as vt,y as St,z as Et}from"./chunk-MQRKXTYO.mjs";import"./chunk-7T6LZHUD.mjs";import{b as Tt,d as Dt}from"./chunk-GQIXZEG7.mjs";import"./chunk-ZMBT5DEL.mjs";import{n as xt,o as Ct,v as wt,w as bt}from"./chunk-MOVNJYWB.mjs";import{$b as T,Aa as C,Cc as at,Ec as K,Fc as Q,Gc as W,Ib as ct,Kc as O,Lc as u,Mc as S,Nc as D,Oc as nt,Pb as F,Pc as pt,Qc as z,Rc as q,Sc as H,Ta as Y,Uc as gt,_b as ut,_c as k,ad as P,bc as U,cd as ft,gc as I,ic as ht,jc as tt,ka as lt,kc as et,lc as l,mc as s,nc as $,oc as mt,pa as st,pc as dt,qa as L,rc as R,v as E,vb as h,wc as b,xd as _t,yc as c,za as x,zd as yt}from"./chunk-UWZZ2S4W.mjs";import"./chunk-XAZRL6IZ.mjs";import{a as w,b as M,d as ot,h as Z,j as p}from"./chunk-RIAI3ORJ.mjs";var Ie=v`
  query FindMany(
    $modelName: String!
    $where: JSON
    $orderBy: JSON
    $skip: Float
    $take: Float
    $include: JSON
    $select: JSON
  ) {
    findMany(
      modelName: $modelName
      where: $where
      orderBy: $orderBy
      skip: $skip
      take: $take
      include: $include
      select: $select
    )
  }
`,$e=v`
  query FindUnique(
    $modelName: String!
    $where: JSON!
    $include: JSON
    $select: JSON
  ) {
    findUnique(
      modelName: $modelName
      where: $where
      include: $include
      select: $select
    )
  }
`,Re=v`
  mutation CreateOne(
    $modelName: String!
    $data: JSON!
    $include: JSON
    $select: JSON
  ) {
    createOne(
      modelName: $modelName
      data: $data
      include: $include
      select: $select
    )
  }
`,Ve=v`
  mutation UpdateOne(
    $modelName: String!
    $where: JSON!
    $data: JSON!
    $include: JSON
    $select: JSON
  ) {
    updateOne(
      modelName: $modelName
      where: $where
      data: $data
      include: $include
      select: $select
    )
  }
`,Be=v`
  mutation DeleteOne(
    $modelName: String!
    $where: JSON!
  ) {
    deleteOne(
      modelName: $modelName
      where: $where
    )
  }
`,Ue=v`
  mutation BatchCreate(
    $modelName: String!
    $data: [JSON!]!
  ) {
    batchCreate(
      modelName: $modelName
      data: $data
    )
  }
`,ze=v`
  mutation BatchUpdate(
    $modelName: String!
    $operations: [JSON!]!
  ) {
    batchUpdate(
      modelName: $modelName
      operations: $operations
    )
  }
`,qe=v`
  mutation BatchDelete(
    $modelName: String!
    $where: [JSON!]!
  ) {
    batchDelete(
      modelName: $modelName
      where: $where
    )
  }
`,He=v`
  query HealthCheck {
    health
  }
`,Ge=v`
  query GetAvailableModels {
    getAvailableModels
  }
`,Ye=v`
  query ModelMetadata($modelName: String!) {
    modelMetadata(modelName: $modelName)
  }
`,j=class r{constructor(t){this.apollo=t;this.initializeCacheCleanup(),this.performHealthCheck()}cache=new Map;DEFAULT_TTL=5*60*1e3;AGGRESSIVE_TTL=30*60*1e3;MAX_CACHE_SIZE=1e3;CLEANUP_INTERVAL=60*1e3;REQUEST_TIMEOUT=3e4;MAX_RETRIES=3;DEFAULT_BATCH_SIZE=1e3;MAX_PARALLEL_REQUESTS=5;performanceMetrics=Y([]);cacheHitRate=_t(()=>{let t=this.performanceMetrics();return t.length===0?0:t.filter(a=>a.cacheHit).length/t.length*100});errors=Y([]);isHealthy=Y(!0);loadingStates=new Map;initializeCacheCleanup(){setInterval(()=>{this.cleanupExpiredCache()},this.CLEANUP_INTERVAL)}cleanupExpiredCache(){let t=new Date,e=[];if(this.cache.forEach((a,n)=>{t.getTime()-a.timestamp.getTime()>a.ttl&&e.push(n)}),e.forEach(a=>this.cache.delete(a)),this.cache.size>this.MAX_CACHE_SIZE){let a=Array.from(this.cache.entries()).sort((i,o)=>i[1].timestamp.getTime()-o[1].timestamp.getTime()),n=this.cache.size-this.MAX_CACHE_SIZE;for(let i=0;i<n;i++)this.cache.delete(a[i][0])}}generateCacheKey(t,e){return`${t}_${JSON.stringify(e)}`}getFromCache(t){let e=this.cache.get(t);return e?new Date().getTime()-e.timestamp.getTime()>e.ttl?(this.cache.delete(t),null):e.data:null}setCache(t,e,a=this.DEFAULT_TTL){this.cache.set(t,{data:e,timestamp:new Date,ttl:a,key:t})}invalidateCache(t){if(!t){this.cache.clear();return}let e=[];this.cache.forEach((a,n)=>{n.includes(t)&&e.push(n)}),e.forEach(a=>this.cache.delete(a))}trackPerformance(t,e,a,n,i){let o={queryTime:Date.now()-e,cacheHit:a,resultCount:n,timestamp:new Date,queryType:t,modelName:i},d=this.performanceMetrics();this.performanceMetrics.set([...d.slice(-99),o])}trackError(t,e){let a={message:t.message||"Unknown error",code:t.code||t.extensions?.code,path:t.path,timestamp:new Date},n=this.errors();this.errors.set([...n.slice(-49),a])}setLoading(t,e){this.loadingStates.set(t,e)}performHealthCheck(){return p(this,null,function*(){let t=Date.now();try{let e=yield E(this.apollo.query({query:He,fetchPolicy:"no-cache"}));this.isHealthy.set(!0),this.trackPerformance("health_check",t,!1,1)}catch(e){this.isHealthy.set(!1),this.trackError(e,"health_check")}})}findMany(a){return p(this,arguments,function*(t,e={}){let n=Date.now(),i=this.generateCacheKey("findMany",w({modelName:t},e)),o=`findMany_${t}`,d=this.getFromCache(i);if(d)return this.trackPerformance("findMany",n,!0,d.length,t),d;this.setLoading(o,!0);let _={modelName:t,where:e.where,orderBy:e.orderBy,skip:e.skip,take:e.take,include:e.include,select:e.select};try{let y=(yield E(this.apollo.query({query:Ie,variables:_,fetchPolicy:"cache-first"}))).data.findMany;return this.setCache(i,y),this.trackPerformance("findMany",n,!1,y.length,t),y}catch(g){throw this.trackError(g,"findMany"),g}finally{this.setLoading(o,!1)}})}findUnique(n,i){return p(this,arguments,function*(t,e,a={}){let o=Date.now(),d=this.generateCacheKey("findUnique",w({modelName:t,where:e},a)),_=`findUnique_${t}`,g=this.getFromCache(d);if(g)return this.trackPerformance("findUnique",o,!0,1,t),g;this.setLoading(_,!0);let y={modelName:t,where:e,include:a.include,select:a.select};try{let f=(yield E(this.apollo.query({query:$e,variables:y,fetchPolicy:"cache-first"}))).data.findUnique;return this.setCache(d,f),this.trackPerformance("findUnique",o,!1,f?1:0,t),f}catch(m){throw this.trackError(m,"findUnique"),m}finally{this.setLoading(_,!1)}})}createOne(n,i){return p(this,arguments,function*(t,e,a={}){let o=Date.now(),d=`createOne_${t}`;this.setLoading(d,!0);let _={modelName:t,data:e,include:a.include,select:a.select};try{let y=(yield E(this.apollo.mutate({mutation:Re,variables:_}))).data.createOne;return this.invalidateCache(t),this.trackPerformance("createOne",o,!1,1,t),y}catch(g){throw this.trackError(g,"createOne"),g}finally{this.setLoading(d,!1)}})}updateOne(i,o,d){return p(this,arguments,function*(t,e,a,n={}){let _=Date.now(),g=`updateOne_${t}`;this.setLoading(g,!0);let y={modelName:t,where:e,data:a,include:n.include,select:n.select};try{let f=(yield E(this.apollo.mutate({mutation:Ve,variables:y}))).data.updateOne;return this.invalidateCache(t),this.trackPerformance("updateOne",_,!1,1,t),f}catch(m){throw this.trackError(m,"updateOne"),m}finally{this.setLoading(g,!1)}})}deleteOne(t,e){return p(this,null,function*(){let a=Date.now(),n=`deleteOne_${t}`;this.setLoading(n,!0);let i={modelName:t,where:e};try{let d=(yield E(this.apollo.mutate({mutation:Be,variables:i}))).data.deleteOne;return this.invalidateCache(t),this.trackPerformance("deleteOne",a,!1,1,t),d}catch(o){throw this.trackError(o,"deleteOne"),o}finally{this.setLoading(n,!1)}})}batchCreate(t,e){return p(this,null,function*(){let a=Date.now(),n=`batchCreate_${t}`;this.setLoading(n,!0);let i={modelName:t,data:e};try{let d=(yield E(this.apollo.mutate({mutation:Ue,variables:i}))).data.batchCreate;return this.invalidateCache(t),this.trackPerformance("batchCreate",a,!1,d.length,t),d}catch(o){throw this.trackError(o,"batchCreate"),o}finally{this.setLoading(n,!1)}})}batchUpdate(t,e){return p(this,null,function*(){let a=Date.now(),n=`batchUpdate_${t}`;this.setLoading(n,!0);let i={modelName:t,operations:e};try{let d=(yield E(this.apollo.mutate({mutation:ze,variables:i}))).data.batchUpdate;return this.invalidateCache(t),this.trackPerformance("batchUpdate",a,!1,d.length,t),d}catch(o){throw this.trackError(o,"batchUpdate"),o}finally{this.setLoading(n,!1)}})}batchDelete(t,e){return p(this,null,function*(){let a=Date.now(),n=`batchDelete_${t}`;this.setLoading(n,!0);let i={modelName:t,where:e};try{let d=(yield E(this.apollo.mutate({mutation:qe,variables:i}))).data.batchDelete;return this.invalidateCache(t),this.trackPerformance("batchDelete",a,!1,d.length,t),d}catch(o){throw this.trackError(o,"batchDelete"),o}finally{this.setLoading(n,!1)}})}getAvailableModels(){return p(this,null,function*(){let t=Date.now(),e="getAvailableModels",a=this.getFromCache(e);if(a)return this.trackPerformance("getAvailableModels",t,!0,a.length),a;try{let i=(yield E(this.apollo.query({query:Ge,fetchPolicy:"cache-first"}))).data.getAvailableModels;return this.setCache(e,i,this.DEFAULT_TTL*12),this.trackPerformance("getAvailableModels",t,!1,i.length),i}catch(n){throw this.trackError(n,"getAvailableModels"),n}})}getModelMetadata(t){return p(this,null,function*(){let e=Date.now(),a=this.generateCacheKey("modelMetadata",{modelName:t}),n=this.getFromCache(a);if(n)return this.trackPerformance("modelMetadata",e,!0,1,t),n;try{let o=(yield E(this.apollo.query({query:Ye,variables:{modelName:t},fetchPolicy:"cache-first"}))).data.modelMetadata;return this.setCache(a,o,this.DEFAULT_TTL*6),this.trackPerformance("modelMetadata",e,!1,1,t),o}catch(i){throw this.trackError(i,"modelMetadata"),i}})}findManyWithPagination(a){return p(this,arguments,function*(t,e={}){let n=e.pageSize||10,i=Math.max(1,e.page||1),o=(i-1)*n,d=M(w({},e),{skip:o,take:n}),_=M(w({},e),{select:{id:!0}});delete _.skip,delete _.take;try{let y=(yield this.findMany(t,_)).length;return{data:yield this.findMany(t,d),totalCount:y,hasNextPage:o+n<y,hasPreviousPage:i>1,currentPage:i,totalPages:Math.ceil(y/n)}}catch(g){throw g}})}getPerformanceMetrics(){return this.performanceMetrics()}getCacheHitRate(){return this.cacheHitRate()}getErrors(){return this.errors()}getHealthStatus(){return this.isHealthy()}isLoading(t,e){let a=e?`${t}_${e}`:t;return this.loadingStates.get(a)||!1}getCacheSize(){return this.cache.size}findAll(a){return p(this,arguments,function*(t,e={}){let n=Date.now(),B=e,{enableParallelFetch:i=!0,enableStreaming:o=!0,batchSize:d=this.DEFAULT_BATCH_SIZE,maxConcurrency:_=this.MAX_PARALLEL_REQUESTS,aggressiveCache:g=!0}=B,y=ot(B,["enableParallelFetch","enableStreaming","batchSize","maxConcurrency","aggressiveCache"]),m=this.generateCacheKey("findAll",w({modelName:t},y)),f=g?this.AGGRESSIVE_TTL:this.DEFAULT_TTL,N=this.getFromCache(m);if(N&&g)return M(w({},N),{fetchTime:Date.now()-n,cacheHit:!0});this.setLoading(`findAll_${t}`,!0);try{let A;i?A=yield this.parallelFindAll(t,y,d,_):o?A=yield this.streamingFindAll(t,y,d):A=yield this.standardFindAll(t,y);let G=M(w({},A),{fetchTime:Date.now()-n,cacheHit:!1,parallel:i});return this.setCache(m,G,f),this.trackPerformance("findAll",n,!1,A.totalCount,t),G}catch(A){throw this.trackError(A,"findAll"),A}finally{this.setLoading(`findAll_${t}`,!1)}})}parallelFindAll(t,e,a,n){return p(this,null,function*(){let o=(yield this.findMany(t,M(w({},e),{select:{id:!0}}))).length;if(o===0)return{data:[],totalCount:0,fetchTime:0,cacheHit:!1,parallel:!0,batches:0};let d=Math.ceil(o/a),_=(m,f)=>p(this,null,function*(){return yield this.findMany(t,M(w({},e),{skip:m,take:f}))});return{data:yield p(this,null,function*(){let m=[],f=[];for(let N=0;N<d;N++){let B=N*a,A=Math.min(a,o-B),G=_(B,A).then(X=>{m.push(...X)});if(f.push(G),f.length>=n){yield Promise.race(f);let X=f.filter(rt=>rt&&typeof rt.isPending!="boolean");f.length=0,f.push(...X)}}return yield Promise.all(f),m}),totalCount:o,fetchTime:0,cacheHit:!1,parallel:!0,batches:d}})}streamingFindAll(t,e,a){return p(this,null,function*(){let n=[],i=0,o=0,d=!0,_=0;for(;d;){let g=yield this.findMany(t,M(w({},e),{skip:i,take:a}));if(g.length===0){d=!1;break}n.push(...g),o+=g.length,i+=a,_++,g.length<a&&(d=!1),_%5===0&&(yield new Promise(y=>setTimeout(y,0)))}return{data:n,totalCount:o,fetchTime:0,cacheHit:!1,parallel:!1,batches:_}})}standardFindAll(t,e){return p(this,null,function*(){let a=yield this.findMany(t,e);return{data:a,totalCount:a.length,fetchTime:0,cacheHit:!1,parallel:!1}})}findAllMultiple(a){return p(this,arguments,function*(t,e={}){let n=Date.now(),i={},o=t.map(g=>p(this,[g],function*({name:d,options:_={}}){let y=w(w({},e),_),m=yield this.findAll(d,y);return{name:d,result:m}}));try{(yield Promise.all(o)).forEach(({name:g,result:y})=>{i[g]=y});let _=Object.values(i).reduce((g,y)=>g+y.totalCount,0);return this.trackPerformance("findAllMultiple",n,!1,_,"multiple"),i}catch(d){throw this.trackError(d,"findAllMultiple"),d}})}smartFindAll(a){return p(this,arguments,function*(t,e={}){let n=yield this.getModelMetadata(t),i=n?.estimatedRecordCount||1e3,o=n?.hasComplexRelations||!1,d=M(w({},e),{enableParallelFetch:i>5e3,enableStreaming:i>1e4,batchSize:o?500:2e3,maxConcurrency:o?3:5,aggressiveCache:i<5e4});return yield this.findAll(t,d)})}clearCache(t){this.invalidateCache(t)}refreshHealthCheck(){return p(this,null,function*(){yield this.performHealthCheck()})}benchmarkFindAll(a){return p(this,arguments,function*(t,e=[]){let n=[{enableParallelFetch:!1,enableStreaming:!1},{enableParallelFetch:!0,enableStreaming:!1,batchSize:500},{enableParallelFetch:!0,enableStreaming:!1,batchSize:2e3},{enableParallelFetch:!1,enableStreaming:!0,batchSize:1e3},{enableParallelFetch:!0,enableStreaming:!1,aggressiveCache:!0}],i=e.length>0?e:n,o=[];this.clearCache(t);for(let _ of i){console.log("\u{1F9EA} Testing configuration:",_);let g=Date.now(),y=yield this.findAll(t,_),m=Date.now()-g,f={totalTime:m,recordsPerSecond:Math.round(y.totalCount/(m/1e3)),cacheEfficiency:y.cacheHit?100:0};o.push({config:_,result:y,performance:f}),console.log(`\u2705 Completed: ${m}ms, ${f.recordsPerSecond} records/sec`),yield new Promise(N=>setTimeout(N,100))}let d=o.reduce((_,g)=>g.performance.recordsPerSecond>_.performance.recordsPerSecond?g:_);return{results:o,recommendation:d.config}})}findAllTonKho(){return p(this,arguments,function*(t={}){return yield this.findAll("tonkho",w({batchSize:2e3,enableParallelFetch:!0,aggressiveCache:!0,select:{id:!0,sanphamId:!0,slton:!0,slchogiao:!0,slchonhap:!0,sanpham:{select:{id:!0,ten:!0,gia:!0}}}},t))})}findAllSanpham(){return p(this,arguments,function*(t={}){return yield this.smartFindAll("sanpham",w({select:{id:!0,ten:!0,gia:!0,mota:!0,active:!0,createdAt:!0},orderBy:{ten:"asc"},aggressiveCache:!0},t))})}findAllKhachhang(){return p(this,arguments,function*(t={}){return yield this.smartFindAll("khachhang",w({select:{id:!0,ten:!0,email:!0,sdt:!0,diachi:!0,active:!0},orderBy:{ten:"asc"},batchSize:1e3,enableParallelFetch:!0},t))})}findAllDonhang(){return p(this,arguments,function*(t={}){return yield this.findAll("donhang",w({include:{khachhang:{select:{id:!0,ten:!0,sdt:!0}},donhangsanpham:{select:{id:!0,soluong:!0,gia:!0,sanpham:{select:{id:!0,ten:!0}}}}},orderBy:{createdAt:"desc"},batchSize:500,maxConcurrency:3},t))})}loadDashboardData(){return p(this,arguments,function*(t={}){let e=Date.now(),[a,n,i,o]=yield Promise.all([this.findAllSanpham(w({take:100,aggressiveCache:!0},t)),this.findAllKhachhang(w({take:50,aggressiveCache:!0},t)),this.findAllTonKho(w({take:200,aggressiveCache:!0},t)),this.findAllDonhang(w({take:20,aggressiveCache:!0},t))]);return{sanpham:a,khachhang:n,tonkho:i,donhang:o,totalLoadTime:Date.now()-e}})}getSanphamList(){return p(this,arguments,function*(t={}){return yield this.findMany("sanpham",w({orderBy:{ten:"asc"}},t))})}getSanphamById(t){return p(this,null,function*(){return yield this.findUnique("sanpham",{id:t})})}getKhachhangList(){return p(this,arguments,function*(t={}){return yield this.findMany("khachhang",w({orderBy:{ten:"asc"}},t))})}getKhachhangById(t){return p(this,null,function*(){return yield this.findUnique("khachhang",{id:t})})}getDonhangList(){return p(this,arguments,function*(t={}){return yield this.findMany("donhang",w({orderBy:{createdAt:"desc"},include:{khachhang:!0,donhangsanpham:{include:{sanpham:!0}}}},t))})}getDonhangById(t){return p(this,null,function*(){return yield this.findUnique("donhang",{id:t},{include:{khachhang:!0,donhangsanpham:{include:{sanpham:!0}}}})})}getDathangList(){return p(this,arguments,function*(t={}){return yield this.findMany("dathang",w({orderBy:{createdAt:"desc"},include:{nhacungcap:!0,dathangsanpham:{include:{sanpham:!0}}}},t))})}getUserList(){return p(this,arguments,function*(t={}){return yield this.findMany("user",w({orderBy:{ten:"asc"},select:{id:!0,ten:!0,email:!0,sdt:!0,createdAt:!0,updatedAt:!0}},t))})}getUserById(t){return p(this,null,function*(){return yield this.findUnique("user",{id:t},{include:{profile:!0,userRole:{include:{role:!0}}}})})}static \u0275fac=function(e){return new(e||r)(st(Ae))};static \u0275prov=lt({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ke=["drawer"],Qe=()=>({standalone:!0}),We=(r,t)=>t.key;function Je(r,t){r&1&&(l(0,"div",62),u(1," \u26A0\uFE0F C\xF3 thay \u0111\u1ED5i ng\xE0y ch\u01B0a \u0111\u01B0\u1EE3c \xE1p d\u1EE5ng "),s())}function je(r,t){if(r&1){let e=R();l(0,"div",27)(1,"mat-form-field",50)(2,"mat-label"),u(3,"T\u1EEB ng\xE0y"),s(),l(4,"input",55),H("ngModelChange",function(n){x(e);let i=c();return q(i.batdau,n)||(i.batdau=n),C(n)}),b("dateChange",function(n){x(e);let i=c();return C(i.onStartDateChange(n))}),s(),$(5,"mat-datepicker-toggle",56)(6,"mat-datepicker",null,7),s(),l(8,"mat-form-field",50)(9,"mat-label"),u(10,"\u0110\u1EBFn ng\xE0y"),s(),l(11,"input",55),H("ngModelChange",function(n){x(e);let i=c();return q(i.ketthuc,n)||(i.ketthuc=n),C(n)}),b("dateChange",function(n){x(e);let i=c();return C(i.onEndDateChange(n))}),s(),$(12,"mat-datepicker-toggle",56)(13,"mat-datepicker",null,8),s(),l(15,"div",57)(16,"button",58),b("click",function(){x(e);let n=c();return C(n.setToday())}),u(17," H\xF4m nay "),s(),l(18,"button",58),b("click",function(){x(e);let n=c();return C(n.setThisWeek())}),u(19," Tu\u1EA7n n\xE0y "),s(),l(20,"button",58),b("click",function(){x(e);let n=c();return C(n.setThisMonth())}),u(21," Th\xE1ng n\xE0y "),s(),l(22,"button",59),b("click",function(){x(e);let n=c();return C(n.clearDateFilter())}),u(23," X\xF3a l\u1ECDc "),s()(),l(24,"div",60)(25,"button",61),b("click",function(){x(e);let n=c();return C(n.applyDateFilter())}),l(26,"mat-icon"),u(27),s(),u(28),s()(),F(29,Je,2,0,"div",62),l(30,"div",63)(31,"strong"),u(32,"Kho\u1EA3ng th\u1EDDi gian:"),s(),$(33,"br"),u(34),s()()}if(r&2){let e=O(7),a=O(14),n=c();h(4),T("matDatepicker",e),z("ngModel",n.batdau),h(),T("for",e),h(6),T("matDatepicker",a),z("ngModel",n.ketthuc),h(),T("for",a),h(13),T("color",n.hasUnappliedDateChanges?"warn":"primary"),h(2),S(n.hasUnappliedDateChanges?"pending":"filter_alt"),h(),D(" ",n.hasUnappliedDateChanges?"C\xF3 thay \u0111\u1ED5i - \xC1p d\u1EE5ng":"\xC1p d\u1EE5ng l\u1ECDc"," "),h(),I(n.hasUnappliedDateChanges?29:-1),h(5),nt(" ",n.formatDateForDisplay(n.batdau,"DD/MM/YYYY")," - ",n.formatDateForDisplay(n.ketthuc,"DD/MM/YYYY")," ")}}function Xe(r,t){if(r&1){let e=R();l(0,"button",64),b("click",function(n){let i=x(e).$implicit;return c().toggleColumn(i),C(n.stopPropagation())}),l(1,"mat-icon"),u(2),s(),l(3,"span"),u(4),s()()}if(r&2){let e=t.$implicit;h(2),S(e.isShow?"check_box":"check_box_outline_blank"),h(2),S(e.value)}}function Ze(r,t){if(r&1&&(l(0,"span",37),u(1),s()),r&2){let e=c();h(),nt(" \u{1F4C5} ",e.formatDateForDisplay(e.batdau,"DD/MM")," - ",e.formatDateForDisplay(e.ketthuc,"DD/MM")," ")}}function ta(r,t){r&1&&(l(0,"span",84),u(1,"check"),s())}function ea(r,t){r&1&&$(0,"span",85)}function aa(r,t){if(r&1&&(l(0,"span"),u(1),s()),r&2){let e=c().$implicit,a=c(2).$implicit,n=c();h(),S(n.formatDateForDisplay(e[a],"DD/MM/YYYY"))}}function na(r,t){if(r&1&&(l(0,"span"),u(1),s()),r&2){let e=c().$implicit,a=c(2).$implicit,n=c();h(),S(n.formatDateForDisplay(e[a],"DD/MM/YYYY"))}}function ia(r,t){if(r&1&&(l(0,"span"),u(1),s()),r&2){let e=c().$implicit,a=c(2).$implicit,n=c();h(),S(n.formatDateForDisplay(e[a],"DD/MM/YYYY"))}}function ra(r,t){if(r&1&&(l(0,"span"),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c(2).$implicit;h(),S(P(2,1,e[a],"1.0-0"))}}function oa(r,t){if(r&1&&(l(0,"span"),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c(2).$implicit;h(),S(P(2,1,e[a],"1.0-0"))}}function la(r,t){if(r&1&&(l(0,"span"),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c(2).$implicit;h(),S(P(2,1,e[a],"1.0-0"))}}function sa(r,t){if(r&1&&(l(0,"span"),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c(2).$implicit;h(),S(P(2,1,e[a],"1.0-0"))}}function ca(r,t){if(r&1&&(l(0,"span"),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c(2).$implicit;h(),S(P(2,1,e[a],"1.0-0"))}}function ua(r,t){if(r&1&&(l(0,"span"),u(1),s()),r&2){let e=c().$implicit,a=c(3);h(),S(a.GetGoiy(e))}}function ha(r,t){if(r&1&&(l(0,"span"),u(1),s()),r&2){let e=c().$implicit,a=c(2).$implicit;h(),S(e[a]||"Tr\u1ED1ng")}}function ma(r,t){if(r&1){let e=R();l(0,"div",81),b("click",function(){let n=x(e).$implicit,i=c(2).$implicit,o=c();return C(o.ChosenItem(n,i))}),F(1,ta,2,0,"span",82)(2,ea,1,0,"span",83)(3,aa,2,1,"span")(4,na,2,1,"span")(5,ia,2,1,"span")(6,ra,3,4,"span")(7,oa,3,4,"span")(8,la,3,4,"span")(9,sa,3,4,"span")(10,ca,3,4,"span")(11,ua,2,1,"span")(12,ha,2,1,"span"),s()}if(r&2){let e,a=t.$implicit,n=c(2).$implicit,i=c();h(),T("ngIf",i.CheckItem(a)),h(),T("ngIf",!i.CheckItem(a)),h(),I((e=n)==="createdAt"?3:e==="updatedAt"?4:e==="ngaynhan"?5:e==="slton"?6:e==="slchogiao"?7:e==="slchonhap"?8:e==="SLDat"?9:e==="SLGiao"?10:e==="goiy"?11:12)}}function da(r,t){if(r&1){let e=R();l(0,"th",67)(1,"div",24)(2,"span",68),u(3),s(),l(4,"span",69,4),u(6," filter_alt "),s()(),l(7,"mat-menu",70,9)(9,"div",71),b("click",function(n){return x(e),C(n.stopPropagation())}),l(10,"div",72)(11,"input",73),b("keyup",function(n){x(e);let i=c().$implicit,o=c();return C(o.doFilterHederColumn(n,i))}),s(),l(12,"div",17)(13,"span",18),u(14,"search"),s()()(),l(15,"div",74)(16,"div",75)(17,"span",76),b("click",function(){x(e);let n=c().$implicit,i=c();return C(i.ChosenAll(i.getCurrentFilteredData(n)))}),u(18),s(),l(19,"span",76),b("click",function(){x(e);let n=c(2);return C(n.EmptyFiter())}),u(20,"Xo\xE1"),s()(),l(21,"span",76),b("click",function(){x(e);let n=c(2);return C(n.ResetFilter())}),u(22,"Reset"),s()(),l(23,"div",77),F(24,ma,13,3,"div",78),s(),l(25,"div",79)(26,"button",80),b("click",function(){x(e);let n=O(5);return C(n.closeMenu())}),u(27,"\u0110\xF3ng"),s(),l(28,"button",52),b("click",function(){x(e);let n=O(5),i=c(2);return C(i.ApplyFilterColum(n))}),u(29,"\xC1p D\u1EE5ng"),s()()()()()}if(r&2){let e=O(8),a=c().$implicit,n=c();h(3),D(" ",n.ColumnName[a]," "),h(),at("matTooltip","Filter ",n.ColumnName[a],""),T("matMenuTriggerFor",e),h(7),at("placeholder","T\xECm ki\u1EBFm ",n.ColumnName[a],"..."),h(7),D(" Ch\u1ECDn T\u1EA5t C\u1EA3 (",n.getCurrentFilteredData(a).length||0,") "),h(6),T("ngForOf",n.getCurrentFilteredData(a))("ngForTrackBy",n.trackByFn)}}function pa(r,t){if(r&1&&(l(0,"span",87),u(1),s()),r&2){let e=c().index;h(),D(" ",e+1," ")}}function ga(r,t){if(r&1&&(l(0,"span",88),u(1),s()),r&2){let e=c().$implicit,a=c().$implicit;T("matTooltip",e[a]),h(),D(" ",e[a]," ")}}function fa(r,t){if(r&1&&(l(0,"span",89),u(1),s()),r&2){let e=c().$implicit,a=c().$implicit;h(),D(" ",e[a]," ")}}function _a(r,t){if(r&1&&(l(0,"span",99),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c().$implicit;U("text-red-600",e[a]<=0)("text-green-600",e[a]>0),h(),D(" ",P(2,5,e[a],"1.0-0")," ")}}function ya(r,t){if(r&1&&(l(0,"span",91),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c().$implicit;h(),D(" ",P(2,1,e[a],"1.0-0")," ")}}function xa(r,t){if(r&1&&(l(0,"span",92),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c().$implicit;h(),D(" ",P(2,1,e[a],"1.0-0")," ")}}function Ca(r,t){if(r&1&&(l(0,"span",93),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c().$implicit;h(),D(" ",P(2,1,e[a],"1.0-0")," ")}}function wa(r,t){if(r&1&&(l(0,"span",94),u(1),k(2,"number"),s()),r&2){let e=c().$implicit,a=c().$implicit;h(),D(" ",P(2,1,e[a],"1.0-0")," ")}}function ba(r,t){if(r&1&&(l(0,"span",100),u(1),s()),r&2){let e=c().$implicit,a=c(2);U("text-red-600",a.parseFloat(a.GetGoiy(e))>0)("text-gray-400",a.parseFloat(a.GetGoiy(e))==0),h(),D(" ",a.GetGoiy(e)," ")}}function Ta(r,t){if(r&1&&(l(0,"span",96),u(1),s()),r&2){let e=c().$implicit,a=c().$implicit,n=c();h(),D(" ",n.formatDateForDisplay(e[a],"DD/MM/YYYY")," ")}}function Da(r,t){if(r&1&&(l(0,"span",96),u(1),s()),r&2){let e=c().$implicit,a=c().$implicit,n=c();h(),D(" ",n.formatDateForDisplay(e[a],"DD/MM/YYYY")," ")}}function Sa(r,t){if(r&1&&(l(0,"span",96),u(1),s()),r&2){let e=c().$implicit,a=c().$implicit,n=c();h(),D(" ",n.formatDateForDisplay(e[a],"DD/MM/YYYY")," ")}}function Ea(r,t){r&1&&(l(0,"mat-icon",101),u(1,"check_circle"),s())}function va(r,t){r&1&&(l(0,"mat-icon",102),u(1,"cancel"),s())}function Ma(r,t){if(r&1&&(l(0,"span",97),F(1,Ea,2,0,"mat-icon",101)(2,va,2,0,"mat-icon",102),s()),r&2){let e=c().$implicit,a=c().$implicit;h(),I(e[a]?1:2)}}function Fa(r,t){if(r&1&&(l(0,"span",98),u(1),s()),r&2){let e=c().$implicit,a=c().$implicit;T("matTooltip",e[a]),h(),D(" ",e[a]," ")}}function ka(r,t){if(r&1&&(l(0,"td",86),F(1,pa,2,1,"span",87)(2,ga,2,2,"span",88)(3,fa,2,1,"span",89)(4,_a,3,8,"span",90)(5,ya,3,4,"span",91)(6,xa,3,4,"span",92)(7,Ca,3,4,"span",93)(8,wa,3,4,"span",94)(9,ba,2,5,"span",95)(10,Ta,2,1,"span",96)(11,Da,2,1,"span",96)(12,Sa,2,1,"span",96)(13,Ma,3,1,"span",97)(14,Fa,2,2,"span",98),s()),r&2){let e,a=c().$implicit;h(),I((e=a)==="STT"?1:e==="title"?2:e==="masp"?3:e==="slton"?4:e==="slchogiao"?5:e==="slchonhap"?6:e==="SLDat"?7:e==="SLGiao"?8:e==="goiy"?9:e==="createdAt"?10:e==="updatedAt"?11:e==="ngaynhan"?12:e==="isActive"?13:14)}}function Pa(r,t){if(r&1&&(mt(0,40),F(1,da,30,9,"th",65)(2,ka,15,1,"td",66),dt()),r&2){let e=t.$implicit;T("matColumnDef",e)}}function Aa(r,t){r&1&&$(0,"tr",103)}function Oa(r,t){if(r&1){let e=R();l(0,"tr",104),b("click",function(){let n=x(e).$implicit,i=c();return C(i.AddToEdit(n))}),s()}if(r&2){let e=t.$implicit,a=c();U("bg-slate-200",a.CheckItemInEdit(e))}}function Na(r,t){if(r&1&&(l(0,"tr",105)(1,"td",106)(2,"div",107)(3,"mat-icon",108),u(4,"search_off"),s(),l(5,"span"),u(6,"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u"),s()()()()),r&2){let e=c();h(),ut("colspan",e.displayedColumns.length)}}function La(r,t){r&1&&(l(0,"mat-dialog-content")(1,"div",109)(2,"div",110),u(3,"X\xE1c Nh\u1EADn"),s(),l(4,"div"),u(5,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),s(),l(6,"div",111)(7,"button",112),u(8,"\u0110\u1ED3ng \xDD"),s(),l(9,"button",113),u(10,"Hu\u1EF7 B\u1ECF"),s()()()())}var V=class V{displayedColumns=["title","masp","slton","slchogiao","slchonhap","SLDat","SLGiao","goiy"];ColumnName={title:"T\xEAn S\u1EA3n Ph\u1EA9m",masp:"M\xE3 S\u1EA3n Ph\u1EA9m",slton:"T\u1ED3n Kho",slchogiao:"Ch\u1EDD Giao",slchonhap:"Ch\u1EDD Nh\u1EADp",SLDat:"SL \u0110\u1EB7t (Nh\xE0 CC)",SLGiao:"SL Giao (Kh\xE1ch)",goiy:"G\u1EE3i \xDD"};FilterColumns=JSON.parse(localStorage.getItem("NhucauColFilter")||"[]");Columns=[];totalItems=0;pageSize=10;currentPage=1;totalPages=1;paginator;sort;drawer;_SanphamService=L(Pe);_breakpointObserver=L(St);_GraphqlService=L(j);_router=L(Dt);_dialog=L(Gt);_timezoneService=L(ke);_snackBar=L(Pt);Listsanpham=this._SanphamService.ListSanpham;TonghopsFinal=[];EditList=[];dataSource=new it;ListFilter=[];ListDathang=[];isSubmit=!1;quickFilter="all";globalFilterValue="";batdau=new Date;ketthuc=new Date;isDateRangeEnabled=!1;hasUnappliedDateChanges=!1;constructor(){yt(()=>{let t=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham();this.dataSource.data=t,this.totalItems=t.length,this.calculateTotalPages()})}ngOnInit(){return p(this,null,function*(){this.updateDisplayData(),this.loadDonhangWithRelations(),this._SanphamService.listenSanphamUpdates(),yield this._SanphamService.getNhucau(),this.dataSource=new it(this.Listsanpham()),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sortingDataAccessor=(t,e)=>{switch(e){case"slton":case"slchogiao":case"slchonhap":case"SLDat":case"SLGiao":return Number(t[e])||0;case"goiy":return parseFloat(this.GetGoiy(t));case"title":case"masp":return t[e]?.toLowerCase()||"";default:return t[e]||""}},this.initializeColumns(),this.setupDrawer()})}GetGoiy(t){let e=t.slton||0,a=t.slchogiao||0,n=t.slchonhap||0,i=t.SLGiao||0;return Math.max(0,i+a-e-n).toFixed(0)}loadDonhangWithRelations(){return p(this,null,function*(){try{let t=this.isDateRangeEnabled?this._timezoneService.formDateToUTC(this.batdau):new Date().toISOString(),e=this.isDateRangeEnabled?this._timezoneService.formDateToUTC(new Date(this.ketthuc.getTime()+24*60*60*1e3-1)):new Date(new Date().setHours(23,59,59,999)).toISOString(),[a,n,i]=yield Promise.all([this._GraphqlService.findAll("donhang",{enableParallelFetch:!0,batchSize:1e3,aggressiveCache:!0,orderBy:{createdAt:"desc"},where:{ngaygiao:{gte:t,lte:e}},select:{id:!0,madonhang:!0,ngaygiao:!0,sanpham:{select:{giaban:!0,sldat:!0,slgiao:!0,slnhan:!0,sanpham:{select:{masp:!0}}}}}}),this._GraphqlService.findAll("dathang",{enableParallelFetch:!0,batchSize:1e3,aggressiveCache:!0,orderBy:{createdAt:"desc"},where:{ngaynhan:{gte:t,lte:e}},select:{id:!0,madncc:!0,ngaynhan:!0,nhacungcap:{select:{name:!0,mancc:!0}},sanpham:{select:{sldat:!0,slgiao:!0,slnhan:!0,sanpham:{select:{masp:!0}}}}}}),this._GraphqlService.findAllTonKho({enableParallelFetch:!0,aggressiveCache:!0,select:{id:!0,sanphamId:!0,slton:!0,slchogiao:!0,slchonhap:!0,sanpham:{select:{title:!0,masp:!0}}}})]),o=a.data.flatMap(m=>m.sanpham.map(f=>({type:"donhang",madonhang:m.madonhang,ngaygiao:m.ngaygiao,masp:f.sanpham.masp,giaban:Number(f.giaban)||0,sldat:Number(f.sldat)||0,slgiao:Number(f.slgiao)||0,slnhan:Number(f.slnhan)||0}))),d=n.data.flatMap(m=>m.sanpham.map(f=>({type:"dathang",madncc:m.madncc,mancc:m.nhacungcap.mancc,name:m.nhacungcap.name,ngaynhan:m.ngaynhan,masp:f.sanpham.masp,sldat:Number(f.sldat)||0,slgiao:Number(f.slgiao)||0,slnhan:Number(f.slnhan)||0}))),_=i.data.map(m=>({type:"tonkho",masp:m.sanpham.masp,title:m.sanpham.title,slton:Number(m.slton)||0,slchogiao:Number(m.slchogiao)||0,slchonhap:Number(m.slchonhap)||0})),g=new Map;_.forEach(m=>{g.set(m.masp,{id:ne(8,!1),ngaynhan:m.ngaynhan,mancc:m.mancc,name:m.name,masp:m.masp,title:m.title,slton:m.slton,slchogiao:m.slchogiao,slchonhap:m.slchonhap,SLDat:0,SLGiao:0})}),d.forEach(m=>{if(console.log(m),g.has(m.masp)){let f=g.get(m.masp);f.SLDat+=m.slnhan,f.ngaynhan=m.ngaynhan,f.mancc=m.mancc,f.name=m.name}}),o.forEach(m=>{if(g.has(m.masp)){let f=g.get(m.masp);f.SLGiao+=m.slnhan}});let y=Array.from(g.values());console.log(y),this.TonghopsFinal=y,this.dataSource.data=y,this.totalItems=y.length,this.calculateTotalPages(),this.updateDisplayData()}catch(t){console.error("Error loading data:",t),this._snackBar.open("L\u1ED7i khi t\u1EA3i d\u1EEF li\u1EC7u","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}refresh(){return p(this,null,function*(){yield this._SanphamService.getAllSanpham(),yield this.loadDonhangWithRelations()})}applyFilter(t){let e=t.target.value;this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}initializeColumns(){this.Columns=Object.keys(this.ColumnName).map(t=>({key:t,value:this.ColumnName[t],isShow:!0})),this.FilterColumns.length===0?this.FilterColumns=this.Columns:localStorage.setItem("NhucauColFilter",JSON.stringify(this.FilterColumns)),this.displayedColumns=this.FilterColumns.filter(t=>t.isShow).map(t=>t.key),this.ColumnName=this.FilterColumns.reduce((t,e)=>(e.isShow&&(t[e.key]=e.value),t),{})}setupDrawer(){this._breakpointObserver.observe([Et.Handset]).subscribe(t=>{t.matches?this.drawer.mode="over":this.drawer.mode="side"})}toggleColumn(t){let e=this.FilterColumns.find(a=>a.key===t.key);e&&(e.isShow=!e.isShow,this.updateDisplayedColumns())}doFilterHederColumn(t,e){let a=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham();this.dataSource.filteredData=a.filter(n=>n[e]?.toString().toLowerCase().includes(t.target.value.toLowerCase()))}applyAdvancedColumnFilter(t,e){let a=t.target.value.toLowerCase();if(!a){this.getCurrentFilteredData(e);return}let i=(this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham()).filter(o=>o[e]?.toString().toLowerCase().includes(a));this.dataSource.filteredData=i}ChosenItem(t,e){let a=this.dataSource.filteredData.filter(i=>i[e]===t[e]);this.ListFilter.filter(i=>i[e]===t[e]).length>0?this.ListFilter=this.ListFilter.filter(i=>i[e]!==t[e]):this.ListFilter=[...this.ListFilter,...a]}ChosenAll(t){t.forEach(e=>{this.ListFilter.find(n=>n.id===e.id)?this.ListFilter=this.ListFilter.filter(n=>n.id!==e.id):this.ListFilter.push(e)})}ResetFilter(){let t=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham();this.ListFilter=t,this.dataSource.data=t,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}EmptyFiter(){this.ListFilter=[]}CheckItem(t){return!!this.ListFilter.find(e=>e.masp===t.masp||e.id===t.id)}ApplyFilterColum(t){let e=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham();this.dataSource.data=e.filter(a=>this.ListFilter.some(n=>n.masp===a.masp)),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,t.closeMenu()}updateDisplayedColumns(){this.displayedColumns=this.FilterColumns.filter(t=>t.isShow).map(t=>t.key),this.ColumnName=this.FilterColumns.reduce((t,e)=>(e.isShow&&(t[e.key]=e.value),t),{}),localStorage.setItem("NhucauColFilter",JSON.stringify(this.FilterColumns))}doFilterColumns(t){let e=t.target.value.toLowerCase();this.FilterColumns=this.Columns.filter(a=>a.value.toLowerCase().includes(e))}AddToEdit(t){this.EditList.find(a=>a.masp===t.masp||a.id===t.id)?this.EditList=this.EditList.filter(a=>a.masp!==t.masp&&a.id!==t.id):this.EditList.push(t)}ChoseAllEdit(){let t=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham();this.EditList=t}CheckItemInEdit(t){return this.EditList.some(e=>e.masp===t.masp||e.id===t.id)}onListDathangChange(t){this.isSubmit=t.isSubmit,this.ListDathang=t.ListDathang}ImporExcel(t){return p(this,null,function*(){let a=(yield Te(t)).map(o=>({title:o.title?.trim()||"",masp:o.masp?.trim()||"",giagoc:Number(o.giagoc)||0,dvt:o.dvt?.trim()||"",soluong:Number(o.soluong)||0,soluongkho:Number(o.soluongkho)||0,haohut:Number(o.haohut)||0,ghichu:o.ghichu?.trim()||""})),n=Array.from(new Map(a.map(o=>[o.masp,o])).values()),i=this._SanphamService.ListSanpham();yield Promise.all(n.map(o=>p(this,null,function*(){let d=i.find(_=>_.masp===o.masp);if(d){let _=w(w({},d),o);yield this._SanphamService.updateSanpham(_)}else yield this._SanphamService.CreateSanpham(o)}))),yield Promise.all(i.filter(o=>!n.some(d=>d.masp===o.masp)).map(o=>this._SanphamService.updateSanpham(M(w({},o),{isActive:!1})))),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})})}ExportExcel(t,e){return p(this,null,function*(){let a=t.map(i=>({ngaynhan:this._timezoneService.nowLocal("YYYY-MM-DD"),masp:i.masp,title:i.title,dvt:i.dvt,slchogiao:i.slchogiao,goiy:this.GetGoiy(i),slchonhap:i.slchonhap,slton:i.slton,haohut:i.haohut,ghichu:i.ghichu})),n={ngaynhan:"Ng\xE0y Nh\u1EADn",masp:"M\xE3 S\u1EA3n Ph\u1EA9m",title:"T\xEAn S\u1EA3n Ph\u1EA9m",dvt:"\u0110\u01A1n V\u1ECB T\xEDnh",slchogiao:"Ch\u1EDD Giao",goiy:"G\u1EE3i \xDD",slchonhap:"Ch\u1EDD Nh\u1EADp",slton:"T\u1ED3n Kho",haohut:"Hao H\u1EE5t",ghichu:"Ghi Ch\xFA"};be(a,e,Object.values(n),n)})}trackByFn(t,e){return e.masp||e.id}calculateTotalPages(){this.totalPages=Math.ceil(this.totalItems/this.pageSize)}onPageSizeChange(t,e){let a=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham();t>a.length?(this.pageSize=a.length,this._snackBar.open(`S\u1ED1 l\u01B0\u1EE3ng t\u1ED1i \u0111a ${a.length}`,"",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})):this.pageSize=t,this.currentPage=1,this.calculateTotalPages(),this.updateDisplayData(),e.closeMenu()}onPreviousPage(){this.currentPage>1&&(this.currentPage--,this.updateDisplayData())}onNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updateDisplayData())}updateDisplayData(){let t=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham(),e=(this.currentPage-1)*this.pageSize,a=e+this.pageSize,n=t.slice(e,a);this.dataSource.data=n}getCurrentFilteredData(t){let e=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham(),a=new Map;return e.forEach(n=>{let i=n[t];a.has(i)||a.set(i,n)}),Array.from(a.values())}parseFloat(t){return parseFloat(t)||0}applyQuickFilter(t){this.quickFilter=t;let e=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham();switch(t){case"lowStock":e=e.filter(a=>(a.slton||0)<=10);break;case"needOrder":e=e.filter(a=>parseFloat(this.GetGoiy(a))>0);break;case"pendingDelivery":e=e.filter(a=>(a.slchogiao||0)>0);break;case"all":default:break}this.globalFilterValue&&(e=this.applyGlobalFilterToData(e,this.globalFilterValue)),this.dataSource.data=e,this.totalItems=e.length,this.calculateTotalPages(),this.currentPage=1,this.updateDisplayData()}applyGlobalFilter(t){let e=t.target.value;this.globalFilterValue=e;let a=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham();if(this.quickFilter!=="all"){this.applyQuickFilter(this.quickFilter);return}e&&(a=this.applyGlobalFilterToData(a,e)),this.dataSource.data=a,this.totalItems=a.length,this.calculateTotalPages(),this.currentPage=1,this.updateDisplayData()}applyGlobalFilterToData(t,e){let a=e.trim().toLowerCase();return t.filter(n=>n.title?.toLowerCase().includes(a)||n.masp?.toLowerCase().includes(a)||n.name?.toLowerCase().includes(a)||n.mancc?.toLowerCase().includes(a))}sortData(t){let e=this.dataSource.data.slice();if(!t.active||t.direction===""){this.dataSource.data=e;return}this.dataSource.data=e.sort((a,n)=>{let i=t.direction==="asc";switch(t.active){case"title":case"masp":return this.compareStrings(a[t.active],n[t.active],i);case"slton":case"slchogiao":case"slchonhap":case"SLDat":case"SLGiao":return this.compareNumbers(Number(a[t.active])||0,Number(n[t.active])||0,i);case"goiy":return this.compareNumbers(parseFloat(this.GetGoiy(a)),parseFloat(this.GetGoiy(n)),i);default:return this.compareStrings(a[t.active],n[t.active],i)}})}compareStrings(t,e,a){return(t<e?-1:1)*(a?1:-1)}compareNumbers(t,e,a){return(t-e)*(a?1:-1)}clearAllFilters(){this.quickFilter="all",this.globalFilterValue="",this.ListFilter=[];let t=this.TonghopsFinal.length>0?this.TonghopsFinal:this.Listsanpham();this.dataSource.data=t,this.totalItems=t.length,this.calculateTotalPages(),this.currentPage=1,this.updateDisplayData(),document.querySelectorAll('input[type="text"]').forEach(a=>{a.placeholder.includes("T\xECm ki\u1EBFm")&&(a.value="")})}toggleDateRangeFilter(){this.isDateRangeEnabled=!this.isDateRangeEnabled,this.hasUnappliedDateChanges=!1,this.isDateRangeEnabled?(this.batdau=new Date,this.ketthuc=new Date):this.loadDonhangWithRelations()}applyDateFilter(){this.isDateRangeEnabled&&(this.hasUnappliedDateChanges=!1,this.loadDonhangWithRelations())}onStartDateChange(t){this.batdau=t.value,this.batdau>this.ketthuc&&(this.ketthuc=new Date(this.batdau)),this.hasUnappliedDateChanges=!0}onEndDateChange(t){this.ketthuc=t.value,this.ketthuc<this.batdau&&(this.batdau=new Date(this.ketthuc)),this.hasUnappliedDateChanges=!0}setToday(){let t=new Date;this.batdau=new Date(t),this.ketthuc=new Date(t),this.applyDateFilter()}setThisWeek(){let t=new Date,e=new Date(t.setDate(t.getDate()-t.getDay())),a=new Date(t.setDate(t.getDate()-t.getDay()+6));this.batdau=new Date(e),this.ketthuc=new Date(a),this.applyDateFilter()}setThisMonth(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0);this.batdau=new Date(e),this.ketthuc=new Date(a),this.applyDateFilter()}clearDateFilter(){this.isDateRangeEnabled=!1,this.hasUnappliedDateChanges=!1,this.loadDonhangWithRelations()}formatDateForDisplay(t,e="DD/MM/YYYY"){return this._timezoneService.formatForDisplay(t,e)}convertFormDateToUTC(t){return this._timezoneService.formDateToUTC(t)}parseUserDateInput(t,e="YYYY-MM-DD"){try{return this._timezoneService.parseUserInputToUTC(t,e)}catch(a){return console.error("Invalid date format:",a),""}}static \u0275fac=function(e){return new(e||V)};static \u0275cmp=ct({type:V,selectors:[["app-nhucaudathang"]],viewQuery:function(e,a){if(e&1&&(K(oe,5),K(J,5),K(Ke,7)),e&2){let n;Q(n=W())&&(a.paginator=n.first),Q(n=W())&&(a.sort=n.first),Q(n=W())&&(a.drawer=n.first)}},decls:84,vars:25,consts:[["drawer",""],["dateMenu","matMenu"],["menu","matMenu"],["uploadfile",""],["menuTrigger","matMenuTrigger"],["menuHienthi","matMenu"],["DeleteDialog",""],["startPicker",""],["endPicker",""],["filterMenu","matMenu"],["autosize","",1,"w-full","h-full"],["mode","over",1,"flex","flex-col","lg:!w-1/2","!w-full","h-full",3,"position"],[1,"flex","flex-col","space-y-2","h-screen-16","w-full","p-2"],[1,"border","p-1","cursor-pointer","w-full","relative","flex","lg:flex-row","lg:space-y-2","space-y-0","flex-col","space-x-2","justify-between","items-center","bg-white","rounded-lg"],[1,"w-full","flex","flex-row","space-x-2","items-center"],[1,"relative"],["type","text","placeholder","T\xECm ki\u1EBFm s\u1EA3n ph\u1EA9m, m\xE3 s\u1EA3n ph\u1EA9m...",1,"block","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],["matTooltip","\u1EA8n hi\u1EC7n c\u1ED9t","mat-icon-button","","color","primary","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["matTooltip","L\u1ECDc theo ng\xE0y","mat-icon-button","","color","primary","aria-label","Date filter menu",3,"matMenuTriggerFor"],[1,"date-filter-menu"],[1,"p-4",3,"click"],[1,"flex","flex-col","space-y-4"],[1,"flex","items-center","justify-between"],[1,"font-semibold"],["color","primary",3,"ngModelChange","toggleChange","ngModel"],[1,"flex","flex-col","space-y-3"],[1,"p-4"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"input","click"],["matPrefix",""],[1,"flex","flex-col","max-h-80","overflow-auto"],["mat-menu-item",""],["matTooltip","T\u1EA3i file excel M\u1EABu","color","primary","mat-icon-button","",3,"click"],["type","file",1,"hidden",3,"change"],[1,"lg:flex","hidden","whitespace-nowrap","p-2","rounded-lg","bg-slate-200"],[1,"ml-2","px-2","py-1","bg-blue-100","text-blue-800","rounded","text-xs"],[1,"border","rounded-lg","w-full","h-full","overflow-auto"],["mat-table","","matSort","",1,"!border","w-full","cursor-pointer",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","","class","bg-gray-50",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","hover:bg-slate-100 transition-colors duration-200",3,"bg-slate-200","click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"cursor-pointer","border","rounded-lg","px-3","p-1","flex","flex-row","space-x-2","items-center","justify-between"],[1,"w-full","flex","lg:p-0","p-2","lg:flex-row","lg:space-x-2","lg:items-center","lg:justify-between","flex-col","justify-center"],[1,"w-full","text-center"],[1,"w-full","flex","flex-row","space-x-2","items-center","lg:justify-end","justify-center"],[1,"font-bold","text-blue-600",3,"matMenuTriggerFor"],[1,"w-full","flex","flex-col","space-y-2","p-4",3,"click"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp S\u1ED1 L\u01B0\u1EE3ng",3,"ngModelChange","ngModel","ngModelOptions"],["mat-flat-button","","color","primary",3,"click"],[1,"pagination-controls"],["mat-icon-button","","color","primary",3,"click","disabled"],["matInput","","readonly","",3,"ngModelChange","dateChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],[1,"flex","flex-wrap","gap-2"],["mat-stroked-button","","color","primary",1,"text-xs",3,"click"],["mat-stroked-button","","color","warn",1,"text-xs",3,"click"],[1,"flex","justify-center"],["mat-raised-button","",1,"w-full",3,"click","color"],[1,"text-xs","text-orange-600","bg-orange-50","p-2","rounded","text-center"],[1,"text-sm","text-gray-600","bg-gray-50","p-2","rounded"],["mat-menu-item","",3,"click"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","cursor-pointer",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],[1,"max-w-32","line-clamp-2","me-2"],[1,"z-10","material-symbols-outlined","text-gray-500","cursor-pointer",3,"matMenuTriggerFor","matTooltip"],[1,"filter-menu"],[1,"cursor-pointer","flex","flex-col","space-y-4","p-3",3,"click"],[1,"relative","w-full"],["type","text",1,"block","w-full","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup","placeholder"],[1,"flex","flex-row","space-x-2","items-center","justify-between"],[1,"flex","flex-row","space-x-2","items-center"],[1,"text-xs","text-blue-600","underline","cursor-pointer",3,"click"],[1,"w-full","flex","flex-col","space-y-2","max-h-44","overflow-auto"],["class","flex flex-row space-x-2 items-center p-2 rounded-lg hover:bg-slate-100 cursor-pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-row","space-x-2","items-end","justify-end"],["mat-flat-button","","color","warn",3,"click"],[1,"flex","flex-row","space-x-2","items-center","p-2","rounded-lg","hover:bg-slate-100","cursor-pointer",3,"click"],["class","material-symbols-outlined text-blue-600",4,"ngIf"],["class","w-6",4,"ngIf"],[1,"material-symbols-outlined","text-blue-600"],[1,"w-6"],["mat-cell","",1,"cursor-pointer"],[1,"max-w-16","line-clamp-1"],[1,"max-w-48","line-clamp-2",3,"matTooltip"],[1,"max-w-32","line-clamp-1","font-mono","text-sm"],[1,"max-w-20","line-clamp-1","text-end","font-semibold",3,"text-red-600","text-green-600"],[1,"max-w-20","line-clamp-1","text-end","text-orange-600","font-semibold"],[1,"max-w-20","line-clamp-1","text-end","text-blue-600","font-semibold"],[1,"max-w-20","line-clamp-1","text-end","text-purple-600","font-semibold"],[1,"max-w-20","line-clamp-1","text-end","text-indigo-600","font-semibold"],[1,"max-w-20","line-clamp-1","text-end","font-bold",3,"text-red-600","text-gray-400"],[1,"max-w-28","line-clamp-1","text-sm"],[1,"max-w-16","line-clamp-1","text-center"],[1,"max-w-32","line-clamp-2",3,"matTooltip"],[1,"max-w-20","line-clamp-1","text-end","font-semibold"],[1,"max-w-20","line-clamp-1","text-end","font-bold"],[1,"text-green-500"],[1,"text-red-500"],["mat-header-row","",1,"bg-gray-50"],["mat-row","",1,"hover:bg-slate-100","transition-colors","duration-200",3,"click"],[1,"mat-row"],[1,"mat-cell","p-8","text-center","text-gray-500"],[1,"flex","flex-col","items-center","space-y-2"],[1,"text-4xl","text-gray-300"],[1,"flex","flex-col","space-y-8","items-center","justify-center"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary","mat-dialog-close","true"],["mat-flat-button","","color","warn","mat-dialog-close","false"]],template:function(e,a){if(e&1){let n=R();l(0,"mat-drawer-container",10)(1,"mat-drawer",11,0),$(3,"router-outlet"),s(),l(4,"div",12)(5,"div",13)(6,"div",14)(7,"div",15)(8,"input",16),b("keyup",function(o){return x(n),C(a.applyGlobalFilter(o))}),s(),l(9,"div",17)(10,"span",18),u(11,"search"),s()()(),l(12,"button",19)(13,"mat-icon"),u(14,"tune"),s()(),l(15,"button",20)(16,"mat-icon"),u(17,"date_range"),s()(),l(18,"mat-menu",21,1)(20,"div",22),b("click",function(o){return x(n),C(o.stopPropagation())}),l(21,"div",23)(22,"div",24)(23,"span",25),u(24,"L\u1ECDc theo kho\u1EA3ng th\u1EDDi gian"),s(),l(25,"mat-slide-toggle",26),H("ngModelChange",function(o){return x(n),q(a.isDateRangeEnabled,o)||(a.isDateRangeEnabled=o),C(o)}),b("toggleChange",function(){return x(n),C(a.toggleDateRangeFilter())}),s()(),F(26,je,35,12,"div",27),s()()(),l(27,"mat-menu",null,2)(29,"div",28)(30,"mat-form-field",29)(31,"input",30),b("input",function(o){return x(n),C(a.doFilterColumns(o))})("click",function(o){return x(n),C(o.stopPropagation())}),s(),l(32,"mat-icon",31),u(33,"search"),s()()(),l(34,"div",32),tt(35,Xe,5,2,"button",33,We),s()(),l(37,"button",34),b("click",function(){return x(n),C(a.ExportExcel(a.dataSource.data,"Tonghop"))}),l(38,"mat-icon"),u(39,"file_download"),s()(),l(40,"input",35,3),b("change",function(o){return x(n),C(a.ImporExcel(o))}),s(),l(42,"span",36),u(43),F(44,Ze,2,2,"span",37),s()()(),l(45,"div",38)(46,"table",39),tt(47,Pa,3,1,"ng-container",40,ht),F(49,Aa,1,0,"tr",41)(50,Oa,1,2,"tr",42)(51,Na,7,1,"tr",43),s()(),l(52,"div",44)(53,"div",45)(54,"span",46),u(55,"\u0110ang Xem "),l(56,"strong"),u(57),s(),u(58," - "),l(59,"strong"),u(60),s(),u(61),s(),l(62,"div",47)(63,"span",48,4),u(65),s(),l(66,"mat-menu",null,5)(68,"div",49),b("click",function(o){return x(n),C(o.stopPropagation())}),l(69,"span"),u(70,"S\u1ED1 L\u01B0\u1EE3ng"),s(),l(71,"mat-form-field",50)(72,"input",51),H("ngModelChange",function(o){return x(n),q(a.pageSize,o)||(a.pageSize=o),C(o)}),s()(),l(73,"button",52),b("click",function(){x(n);let o=O(67);return C(a.onPageSizeChange(a.pageSize,o))}),u(74,"\xC1p D\u1EE5ng"),s()()(),l(75,"div",53)(76,"button",54),b("click",function(){return x(n),C(a.onPreviousPage())}),l(77,"mat-icon"),u(78,"keyboard_arrow_left"),s()(),l(79,"button",54),b("click",function(){return x(n),C(a.onNextPage())}),l(80,"mat-icon"),u(81,"keyboard_arrow_right"),s()()()()()()()(),F(82,La,11,0,"ng-template",null,6,ft)}if(e&2){let n=O(19),i=O(28),o=O(67);h(),T("position","end"),h(11),T("matMenuTriggerFor",i),h(3),T("matMenuTriggerFor",n),h(),U("text-blue-600",a.isDateRangeEnabled),h(9),z("ngModel",a.isDateRangeEnabled),h(),I(a.isDateRangeEnabled?26:-1),h(9),et(a.FilterColumns),h(8),D(" ",a.TonghopsFinal.length>0?a.TonghopsFinal.length:a.Listsanpham().length," S\u1EA3n Ph\u1EA9m "),h(),I(a.isDateRangeEnabled?44:-1),h(2),T("dataSource",a.dataSource),h(),et(a.displayedColumns),h(2),T("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),h(),T("matRowDefColumns",a.displayedColumns),h(7),S((a.currentPage-1)*a.pageSize+1),h(3),S(a.currentPage*a.pageSize>a.totalItems?a.totalItems:a.currentPage*a.pageSize),h(),pt(" trong s\u1ED1 ",a.totalItems," m\u1EE5c, ",a.currentPage,"/",a.totalPages," Trang"),h(2),T("matMenuTriggerFor",o),h(2),D("Hi\u1EC7n Th\u1ECB : ",a.pageSize," m\u1EE5c"),h(7),z("ngModel",a.pageSize),T("ngModelOptions",gt(24,Qe)),h(4),T("disabled",a.currentPage===1),h(3),T("disabled",a.currentPage===a.totalPages)}},dependencies:[Zt,Xt,Wt,Jt,jt,ee,te,we,ue,me,fe,de,he,_e,pe,ge,ye,xe,Ce,ce,J,se,le,Bt,Rt,$t,Vt,Nt,At,Ot,Tt,It,Lt,kt,Mt,Ft,ae,bt,xt,Ct,wt,Ht,Ut,zt,qt,re,ie,Qt,Yt,Kt,ve,De,Se,Ee,vt,Fe,Me],styles:[".mat-mdc-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.mat-mdc-header-cell[_ngcontent-%COMP%]{padding:8px 12px;position:sticky;top:0;background:#f8fafc;border-bottom:2px solid #e2e8f0;font-weight:600;z-index:10}.mat-mdc-cell[_ngcontent-%COMP%]{padding:8px 12px;border-bottom:1px solid #e2e8f0;vertical-align:middle}.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;transition:background-color .2s ease}.quick-filter-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;align-items:center}.quick-filter-button[_ngcontent-%COMP%]{padding:4px 12px;font-size:12px;min-height:32px;border-radius:16px}.quick-filter-button.active[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.filter-menu[_ngcontent-%COMP%]{max-width:400px}.date-filter-menu[_ngcontent-%COMP%]{max-width:350px}.date-filter-menu[_ngcontent-%COMP%]   .mat-mdc-menu-content[_ngcontent-%COMP%]{padding:0!important}.date-range-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 8px;background-color:#dbeafe;color:#1e40af;border-radius:12px;font-size:11px;font-weight:500;margin-left:8px}.mat-mdc-form-field.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:#fff}.date-range-status[_ngcontent-%COMP%]{background-color:#f1f5f9;border:1px solid #e2e8f0;border-radius:6px;padding:8px;font-size:12px;color:#475569}.quick-date-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.quick-date-buttons[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{font-size:11px;min-width:auto;padding:4px 8px;height:28px;line-height:20px}.filter-menu[_ngcontent-%COMP%]   .mat-mdc-menu-content[_ngcontent-%COMP%]{padding:0}.filter-search-input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px}.filter-search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f61a}.filter-options[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}.filter-option[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer;display:flex;align-items:center;gap:8px;border-radius:4px;margin:2px 4px}.filter-option[_ngcontent-%COMP%]:hover{background-color:#f1f5f9}.filter-option.selected[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1d4ed8}.column-filter-icon[_ngcontent-%COMP%]{opacity:.6;transition:opacity .2s ease;cursor:pointer}.column-filter-icon[_ngcontent-%COMP%]:hover{opacity:1;color:#3b82f6}@media (max-width: 768px){.mat-mdc-header-cell[_ngcontent-%COMP%], .mat-mdc-cell[_ngcontent-%COMP%]{padding:6px 8px;font-size:13px}.quick-filter-buttons[_ngcontent-%COMP%]{gap:4px}.quick-filter-button[_ngcontent-%COMP%]{padding:3px 8px;font-size:11px;min-height:28px}}.status-low-stock[_ngcontent-%COMP%]{color:#dc2626;font-weight:600}.status-normal-stock[_ngcontent-%COMP%]{color:#059669;font-weight:600}.status-pending[_ngcontent-%COMP%]{color:#d97706;font-weight:600}.status-suggestion[_ngcontent-%COMP%]{color:#7c3aed;font-weight:600}.mat-mdc-row[_ngcontent-%COMP%]{transition:all .2s ease}.mat-mdc-row.filtered-out[_ngcontent-%COMP%]{opacity:.5;transform:scale(.98)}.search-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#6b7280;z-index:1}.search-input[_ngcontent-%COMP%]{padding-left:40px}.pagination-info[_ngcontent-%COMP%]{font-size:14px;color:#6b7280}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 4px}.filter-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#dc2626;color:#fff;border-radius:50%;width:16px;height:16px;font-size:10px;display:flex;align-items:center;justify-content:center}.filter-options[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.filter-options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.filter-options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.filter-options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}"]})};Z([Ne(300)],V.prototype,"doFilterHederColumn",1),Z([Ne(300)],V.prototype,"applyAdvancedColumnFilter",1);var Oe=V;function Ne(r=300){return function(t,e,a){let n=a.value,i;return a.value=function(...o){clearTimeout(i),i=setTimeout(()=>{n.apply(this,o)},r)},a}}export{Oe as NhucaudathangComponent};

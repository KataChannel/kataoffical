import './polyfills.server.mjs';
import{f as xt,g as I}from"./chunk-CNX2TPQS.mjs";import{a as ft,b as bt,c as yt,k as vt}from"./chunk-373OL4N3.mjs";import{b as gt}from"./chunk-CO4TBSNZ.mjs";import{a as rt,b as it}from"./chunk-D776DHB4.mjs";import{b as nt,g as ot,j as dt,n as lt,p as st,s as ct,v as mt,w as ut,y as pt,z as ht}from"./chunk-NVMJVEK5.mjs";import"./chunk-HMBBPCPU.mjs";import"./chunk-ZRTJEH2K.mjs";import"./chunk-CCKYZQIJ.mjs";import{a as et,e as at}from"./chunk-M2WP2SQT.mjs";import{U as $,_ as tt}from"./chunk-22T3GPIV.mjs";import"./chunk-7T6LZHUD.mjs";import"./chunk-NNOEQPC7.mjs";import{n as Y,o as X,t as Z,v as J,w as U}from"./chunk-AVPEB3JK.mjs";import{$b as f,$c as S,Aa as g,Ab as z,Ec as _,Fc as k,Gc as A,Ib as P,Jb as q,Kc as R,Lc as i,Mc as b,Nc as E,Oc as K,Pb as M,Qc as N,Rc as L,Sc as j,_c as x,ad as O,ka as Q,la as H,lc as r,mc as a,nc as D,pa as G,rc as W,vb as s,w,wc as v,yc as V,za as h}from"./chunk-ZOODOZPX.mjs";import"./chunk-XAZRL6IZ.mjs";import"./chunk-RIAI3ORJ.mjs";var Dt=(()=>{class m{static \u0275fac=function(d){return new(d||m)};static \u0275mod=q({type:m});static \u0275inj=H({imports:[$,$]})}return m})();var St=I`
  query GetComprehensiveDashboard($batdau: String!, $ketthuc: String!) {
    donhangStats: aggregateDonhang(batdau: $batdau, ketthuc: $ketthuc) {
      _count {
        _all
      }
      _sum {
        tongtien
        tongvat
      }
    }
    
    dathangStats: aggregateDathang(batdau: $batdau, ketthuc: $ketthuc) {
      _count {
        _all
      }
      _sum {
        tongtien
      }
    }
    
    sanphamCount: aggregateSanpham {
      _count {
        _all
      }
    }
    
    khachhangCount: aggregateKhachhang {
      _count {
        _all
      }
    }
    
    nhacungcapCount: aggregateNhacungcap {
      _count {
        _all
      }
    }
  }
`,wt=I`
  query GetDailyMonthlyReport($batdau: String!, $ketthuc: String!, $groupBy: String!) {
    dailyMonthlyReport(batdau: $batdau, ketthuc: $ketthuc, groupBy: $groupBy) {
      period
      totalDonhang
      totalRevenue
      totalProfit
    }
  }
`,Mt=I`
  query GetTopProducts($batdau: String!, $ketthuc: String!, $limit: Int!) {
    topProductsByQuantity: topProductsByQuantity(
      batdau: $batdau
      ketthuc: $ketthuc
      limit: $limit
    ) {
      sanpham {
        id
        title
        masp
      }
      totalQuantity
      totalValue
    }
    
    topProductsByValue: topProductsByValue(
      batdau: $batdau
      ketthuc: $ketthuc
      limit: $limit
    ) {
      sanpham {
        id
        title
        masp
      }
      totalQuantity
      totalValue
    }
  }
`,T=class m{constructor(o){this.apollo=o}getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("token")||""}`,"Content-Type":"application/json"}}formatDate(o){return new Date(o).toISOString()}getComprehensiveDashboard(o,t){let d=this.formatDate(o),n=this.formatDate(t);return this.apollo.query({query:St,variables:{batdau:d,ketthuc:n},context:{headers:this.getHeaders()}}).pipe(w(l=>{let e=l.data;return{summary:{totalDonhang:e.donhangStats._count._all||0,totalDathang:e.dathangStats._count._all||0,totalSanpham:e.sanphamCount._count._all||0,totalKhachhang:e.khachhangCount._count._all||0,totalNhacungcap:e.nhacungcapCount._count._all||0,totalRevenue:e.donhangStats._sum.tongtien||0,totalProfit:(e.donhangStats._sum.tongtien||0)-(e.dathangStats._sum.tongtien||0)}}}))}getDailyMonthlyReport(o,t,d="day"){let n=this.formatDate(o),l=this.formatDate(t);return this.apollo.query({query:wt,variables:{batdau:n,ketthuc:l,groupBy:d},context:{headers:this.getHeaders()}}).pipe(w(e=>e.data.dailyMonthlyReport||[]))}getTopProducts(o,t,d=10){let n=this.formatDate(o),l=this.formatDate(t);return this.apollo.query({query:Mt,variables:{batdau:n,ketthuc:l,limit:d},context:{headers:this.getHeaders()}}).pipe(w(e=>({byQuantity:e.data.topProductsByQuantity||[],byValue:e.data.topProductsByValue||[]})))}getDashboardData(o,t){return this.getComprehensiveDashboard(o,t)}static \u0275fac=function(t){return new(t||m)(G(xt))};static \u0275prov=Q({token:m,factory:m.\u0275fac,providedIn:"root"})};var kt=["columnChart"],At=["donutChart"],It=["pieChart"];function Tt(m,o){m&1&&(r(0,"div",26)(1,"div",27),D(2,"div",28),r(3,"span",29),i(4,"\u0110ang t\u1EA3i d\u1EEF li\u1EC7u..."),a()()())}function Ft(m,o){if(m&1&&(r(0,"tr",80)(1,"td",81),i(2),a(),r(3,"td",82)(4,"div",83),i(5),a(),r(6,"div",84),i(7),a()(),r(8,"td",85)(9,"span",86),i(10),a()(),r(11,"td",85)(12,"span",87),i(13),a()()()),m&2){let t=o.$implicit,d=o.index,n=V(2);s(2),b(d+1),s(3),b(t.sanpham.title||"N/A"),s(2),b(t.sanpham.masp||"N/A"),s(3),E(" ",n.formatNumber(t.totalQuantity)," "),s(3),E(" ",n.formatCurrency(t.totalValue||0)," ")}}function Bt(m,o){m&1&&(r(0,"div",88)(1,"mat-icon",89),i(2,"inventory_2"),a(),r(3,"p",90),i(4,"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u s\u1EA3n ph\u1EA9m"),a()())}function Pt(m,o){if(m&1&&(r(0,"div",30)(1,"div",31)(2,"div",32)(3,"div")(4,"h2",33),i(5),x(6,"date"),x(7,"date"),a(),r(8,"p",34),i(9,"D\u1EEF li\u1EC7u t\u1ED5ng h\u1EE3p t\u1EEB t\u1EA5t c\u1EA3 h\u1EC7 th\u1ED1ng"),a()(),r(10,"div",35)(11,"p",36),i(12),a(),r(13,"p",37),i(14,"Kho\u1EA3ng th\u1EDDi gian"),a()()()(),r(15,"div",38)(16,"div",39)(17,"div",32)(18,"div")(19,"p",40),i(20,"T\u1ED5ng \u0110\u01A1n H\xE0ng"),a(),r(21,"p",41),i(22),x(23,"number"),a(),r(24,"p",42),i(25,"\u0110\u01A1n h\xE0ng kh\xE1ch"),a()(),r(26,"div",43)(27,"mat-icon",44),i(28,"shopping_cart"),a()()()(),r(29,"div",45)(30,"div",32)(31,"div")(32,"p",40),i(33,"T\u1ED5ng Ti\u1EC1n H\xE0ng"),a(),r(34,"p",46),i(35),a(),r(36,"p",42),i(37,"Gi\xE1 tr\u1ECB \u0111\u01A1n h\xE0ng"),a()(),r(38,"div",47)(39,"mat-icon",48),i(40,"attach_money"),a()()()(),r(41,"div",49)(42,"div",32)(43,"div")(44,"p",40),i(45,"L\u1EE3i Nhu\u1EADn"),a(),r(46,"p",46),i(47),a(),r(48,"p",42),i(49,"Doanh thu th\u1EF1c"),a()(),r(50,"div",50)(51,"mat-icon",51),i(52,"trending_up"),a()()()()(),r(53,"div",52)(54,"div",53)(55,"div",32)(56,"div")(57,"p",40),i(58,"T\u1ED5ng \u0110\u1EB7t H\xE0ng"),a(),r(59,"p",46),i(60),x(61,"number"),a()(),r(62,"div",54)(63,"mat-icon",55),i(64,"inventory"),a()()()(),r(65,"div",56)(66,"div",32)(67,"div")(68,"p",40),i(69,"S\u1EA3n Ph\u1EA9m"),a(),r(70,"p",46),i(71),x(72,"number"),a()(),r(73,"div",57)(74,"mat-icon",58),i(75,"category"),a()()()(),r(76,"div",59)(77,"div",32)(78,"div")(79,"p",40),i(80,"Kh\xE1ch H\xE0ng"),a(),r(81,"p",46),i(82),x(83,"number"),a()(),r(84,"div",60)(85,"mat-icon",61),i(86,"people"),a()()()(),r(87,"div",62)(88,"div",32)(89,"div")(90,"p",40),i(91,"Nh\xE0 Cung C\u1EA5p"),a(),r(92,"p",46),i(93),x(94,"number"),a()(),r(95,"div",63)(96,"mat-icon",64),i(97,"business"),a()()()()(),r(98,"div",11)(99,"div",65)(100,"h3",66),i(101),a(),r(102,"mat-icon",67),i(103,"bar_chart"),a()(),r(104,"div",68),D(105,"canvas",null,2),a()(),r(107,"div",69)(108,"div",11)(109,"div",65)(110,"h3",66),i(111,"Top 10 S\u1EA3n Ph\u1EA9m - S\u1ED1 L\u01B0\u1EE3ng B\xE1n"),a(),r(112,"mat-icon",67),i(113,"donut_large"),a()(),r(114,"div",70),D(115,"canvas",null,3),a()(),r(117,"div",11)(118,"div",65)(119,"h3",66),i(120,"Top 10 S\u1EA3n Ph\u1EA9m - Gi\xE1 Tr\u1ECB B\xE1n"),a(),r(121,"mat-icon",67),i(122,"pie_chart"),a()(),r(123,"div",70),D(124,"canvas",null,4),a()()(),r(126,"div",11)(127,"div",65)(128,"h3",66),i(129,"Chi Ti\u1EBFt Top S\u1EA3n Ph\u1EA9m"),a(),r(130,"span",71),i(131),a()(),r(132,"div",72)(133,"div",73)(134,"table",74)(135,"thead",75)(136,"tr")(137,"th",76),i(138,"#"),a(),r(139,"th",76),i(140,"S\u1EA3n Ph\u1EA9m"),a(),r(141,"th",76),i(142,"S\u1ED1 L\u01B0\u1EE3ng"),a(),r(143,"th",76),i(144,"Gi\xE1 Tr\u1ECB"),a()()(),r(145,"tbody",77),M(146,Ft,14,5,"tr",78),a()()()(),M(147,Bt,5,0,"div",79),a()()),m&2){let t=V();s(5),K("Th\u1ED1ng K\xEA T\u1EEB ",O(6,14,t.batdau,"dd/MM/yyyy")," \u0111\u1EBFn ",O(7,17,t.ketthuc,"dd/MM/yyyy"),""),s(7),E("",t.getDaysDifference()," ng\xE0y"),s(10),b(S(23,20,t.comprehensiveData.summary.totalDonhang)),s(13),b(t.formatCurrency(t.comprehensiveData.summary.totalRevenue||0)),s(12),b(t.formatCurrency(t.comprehensiveData.summary.totalProfit||0)),s(13),b(S(61,22,t.comprehensiveData.summary.totalDathang)),s(11),b(S(72,24,t.comprehensiveData.summary.totalSanpham)),s(11),b(S(83,26,t.comprehensiveData.summary.totalKhachhang)),s(11),b(S(94,28,t.comprehensiveData.summary.totalNhacungcap)),s(8),E("B\xE1o C\xE1o \u0110\u01A1n H\xE0ng ",t.getSelectedGroupLabel(),""),s(30),E(" ",(t.topProductsData==null||t.topProductsData.byQuantity==null?null:t.topProductsData.byQuantity.length)||0," s\u1EA3n ph\u1EA9m "),s(15),f("ngForOf",t.topProductsData==null?null:t.topProductsData.byQuantity),s(),f("ngIf",!(!(t.topProductsData==null||t.topProductsData.byQuantity==null)&&t.topProductsData.byQuantity.length))}}var Et=class m{constructor(o){this.dashboardService=o}columnChartCanvas;donutChartCanvas;pieChartCanvas;comprehensiveData=null;dailyMonthlyData=[];topProductsData=null;columnChart=null;donutChart=null;pieChart=null;isLoading=!1;dateMenuOpen=!1;batdau=new Date(new Date().getFullYear(),new Date().getMonth(),1);ketthuc=new Date;reportGroupBy="day";reportGroupOptions=[{value:"day",label:"Theo Ng\xE0y"},{value:"month",label:"Theo Th\xE1ng"},{value:"year",label:"Theo N\u0103m"}];subscriptions=[];ngOnInit(){this.loadAllData()}ngAfterViewInit(){}ngOnDestroy(){this.destroyCharts(),this.subscriptions.forEach(o=>o.unsubscribe())}loadAllData(){this.isLoading=!0;let o=this.batdau.toISOString(),t=this.ketthuc.toISOString(),d=this.dashboardService.getComprehensiveDashboard(o,t).subscribe({next:e=>{this.comprehensiveData=e,this.checkLoadingComplete()},error:e=>{console.error("Error loading comprehensive data:",e),this.isLoading=!1}}),n=this.dashboardService.getDailyMonthlyReport(o,t,this.reportGroupBy).subscribe({next:e=>{this.dailyMonthlyData=e,this.checkLoadingComplete()},error:e=>{console.error("Error loading daily/monthly data:",e),this.isLoading=!1}}),l=this.dashboardService.getTopProducts(o,t,10).subscribe({next:e=>{this.topProductsData=e,this.checkLoadingComplete()},error:e=>{console.error("Error loading top products:",e),this.isLoading=!1}});this.subscriptions.push(d,n,l)}checkLoadingComplete(){this.comprehensiveData&&this.dailyMonthlyData&&this.topProductsData&&(this.isLoading=!1,setTimeout(()=>{this.createAllCharts()},100))}createAllCharts(){try{this.createColumnChart(),this.createDonutChart(),this.createPieChart()}catch(o){console.error("Error creating charts:",o)}}createColumnChart(){if(!this.columnChartCanvas){console.warn("Column chart canvas not available");return}this.columnChart&&(this.columnChart.destroy(),this.columnChart=null);let o=this.columnChartCanvas.nativeElement.getContext("2d");if(!o){console.error("Failed to get 2D context for column chart");return}if(!this.dailyMonthlyData?.length){console.warn("No column chart data available");return}let t=this.dailyMonthlyData.filter(n=>n&&n.period&&typeof n.totalDonhang=="number"&&typeof n.totalRevenue=="number");if(!t.length){console.warn("No valid column chart data after filtering");return}let d={type:"bar",data:{labels:t.map(n=>n.period||"N/A"),datasets:[{label:"S\u1ED1 \u0110\u01A1n H\xE0ng",data:t.map(n=>n.totalDonhang||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1,yAxisID:"y",hoverBackgroundColor:"rgba(59, 130, 246, 0.9)",hoverBorderColor:"rgb(59, 130, 246)",hoverBorderWidth:2},{label:"Doanh Thu (tri\u1EC7u \u0111\u1ED3ng)",data:t.map(n=>(n.totalRevenue||0)/1e6),backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgb(16, 185, 129)",borderWidth:1,yAxisID:"y1",hoverBackgroundColor:"rgba(16, 185, 129, 0.9)",hoverBorderColor:"rgb(16, 185, 129)",hoverBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"S\u1ED1 \u0110\u01A1n H\xE0ng",font:{size:12,weight:"bold"}},ticks:{beginAtZero:!0,precision:0}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Doanh Thu (tri\u1EC7u \u0111\u1ED3ng)",font:{size:12,weight:"bold"}},ticks:{beginAtZero:!0,precision:1},grid:{drawOnChartArea:!1}}},plugins:{legend:{display:!0,position:"top",labels:{padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:n=>{let l=n.dataset.label||"",e=n.parsed.y||0;if(l.includes("Doanh Thu")){let c=e*1e6;return`${l}: ${this.formatCurrency(c)}`}else return`${l}: ${e.toLocaleString()} \u0111\u01A1n`}}}},animation:{duration:1e3,easing:"easeInOutQuart"},interaction:{intersect:!1,mode:"index"}}};try{this.columnChart=new Chart(o,d)}catch(n){console.error("Error creating column chart:",n)}}createDonutChart(){if(!this.donutChartCanvas)return;this.donutChart&&(this.donutChart.destroy(),this.donutChart=null);let o=this.donutChartCanvas.nativeElement.getContext("2d");if(!o)return;if(!this.topProductsData?.byQuantity?.length){console.warn("No donut chart data available");return}let t=this.topProductsData.byQuantity.filter(e=>e&&e.sanpham&&e.sanpham.title&&e.totalQuantity&&e.totalQuantity>0);if(!t.length){console.warn("No valid donut chart data after filtering");return}let n=(e=>{let c=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#C9CBCF","#4BC0C0","#36A2EB","#FF6384"],p=[];for(let u=0;u<e;u++)p.push(c[u%c.length]);return p})(t.length),l={type:"doughnut",data:{labels:t.map(e=>e.sanpham.title||"N/A"),datasets:[{data:t.map(e=>e.totalQuantity||0),backgroundColor:n,hoverBackgroundColor:n.map(e=>e+"CC"),borderWidth:2,borderColor:"#ffffff",hoverBorderWidth:3,hoverBorderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12},generateLabels:e=>{let c=e.data;return c.labels.length&&c.datasets.length?c.labels.map((p,u)=>{let y=c.datasets[0].data[u],C=this.formatNumber(y);return{text:`${p}: ${C}`,fillStyle:c.datasets[0].backgroundColor[u],hidden:!1,index:u}}):[]}}},tooltip:{callbacks:{label:e=>{let c=e.label||"",p=e.parsed||0,u=this.formatNumber(p),y=e.dataset.data.reduce((F,B)=>F+B,0),C=y>0?(p/y*100).toFixed(1):"0";return`${c}: ${u} (${C}%)`}}}},animation:{animateRotate:!0,animateScale:!0,duration:1e3},interaction:{intersect:!1,mode:"index"}}};try{this.donutChart=new Chart(o,l)}catch(e){console.error("Error creating donut chart:",e)}}createPieChart(){if(!this.pieChartCanvas)return;this.pieChart&&(this.pieChart.destroy(),this.pieChart=null);let o=this.pieChartCanvas.nativeElement.getContext("2d");if(!o)return;if(!this.topProductsData?.byValue?.length){console.warn("No pie chart data available");return}let t=this.topProductsData.byValue.filter(e=>e&&e.sanpham&&e.sanpham.title&&e.totalValue&&e.totalValue>0);if(!t.length){console.warn("No valid pie chart data after filtering");return}let n=(e=>{let c=["#8B5CF6","#06D6A0","#F59E0B","#EF4444","#3B82F6","#10B981","#F97316","#EC4899","#6366F1","#84CC16"],p=[];for(let u=0;u<e;u++)p.push(c[u%c.length]);return p})(t.length),l={type:"pie",data:{labels:t.map(e=>e.sanpham.title||"N/A"),datasets:[{data:t.map(e=>e.totalValue||0),backgroundColor:n,hoverBackgroundColor:n.map(e=>e+"CC"),borderWidth:2,borderColor:"#ffffff",hoverBorderWidth:3,hoverBorderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12},generateLabels:e=>{let c=e.data;return c.labels.length&&c.datasets.length?c.labels.map((p,u)=>{let y=c.datasets[0].data[u],C=this.formatCurrency(y);return{text:`${p}: ${C}`,fillStyle:c.datasets[0].backgroundColor[u],hidden:!1,index:u}}):[]}}},tooltip:{callbacks:{label:e=>{let c=e.label||"",p=e.parsed||0,u=this.formatCurrency(p),y=e.dataset.data.reduce((F,B)=>F+B,0),C=y>0?(p/y*100).toFixed(1):"0";return`${c}: ${u} (${C}%)`}}}},animation:{animateRotate:!0,animateScale:!0,duration:1e3},interaction:{intersect:!1,mode:"index"}}};try{this.pieChart=new Chart(o,l)}catch(e){console.error("Error creating pie chart:",e)}}destroyCharts(){this.columnChart&&(this.columnChart.destroy(),this.columnChart=null),this.donutChart&&(this.donutChart.destroy(),this.donutChart=null),this.pieChart&&(this.pieChart.destroy(),this.pieChart=null)}applyDateFilter(){this.dateMenuOpen=!1,this.loadAllData()}applyGroupByFilter(){let o=this.batdau.toISOString(),t=this.ketthuc.toISOString(),d=this.dashboardService.getDailyMonthlyReport(o,t,this.reportGroupBy).subscribe({next:n=>{this.dailyMonthlyData=n,this.createAllCharts()},error:n=>{console.error("Error loading daily/monthly data:",n)}});this.subscriptions.push(d)}loadAllDashboardData(){this.loadAllData()}setDateRange(o){let t=new Date,d=new Date(t);switch(d.setDate(d.getDate()-1),o){case"today":this.batdau=new Date(t),this.ketthuc=new Date(t);break;case"yesterday":this.batdau=new Date(d),this.ketthuc=new Date(d);break;case"last7days":this.batdau=new Date(t),this.batdau.setDate(this.batdau.getDate()-7),this.ketthuc=new Date(t);break;case"last30days":this.batdau=new Date(t),this.batdau.setDate(this.batdau.getDate()-30),this.ketthuc=new Date(t);break;case"thisMonth":this.batdau=new Date(t.getFullYear(),t.getMonth(),1),this.ketthuc=new Date(t);break;case"lastMonth":let n=new Date(t.getFullYear(),t.getMonth()-1,1),l=new Date(t.getFullYear(),t.getMonth(),0);this.batdau=n,this.ketthuc=l;break}this.loadAllData()}getSelectedGroupLabel(){let o=this.reportGroupOptions.find(t=>t.value===this.reportGroupBy);return o?o.label:"Theo Ng\xE0y"}getDaysDifference(){let o=this.ketthuc.getTime()-this.batdau.getTime();return Math.ceil(o/(1e3*3600*24))}formatCurrency(o){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(o)}formatNumber(o){return new Intl.NumberFormat("vi-VN").format(o)}static \u0275fac=function(t){return new(t||m)(z(T))};static \u0275cmp=P({type:m,selectors:[["app-dashboard"]],viewQuery:function(t,d){if(t&1&&(_(kt,5),_(At,5),_(It,5)),t&2){let n;k(n=A())&&(d.columnChartCanvas=n.first),k(n=A())&&(d.donutChartCanvas=n.first),k(n=A())&&(d.pieChartCanvas=n.first)}},decls:52,vars:10,consts:[["startPicker",""],["endPicker",""],["columnChart",""],["donutChart",""],["pieChart",""],[1,"w-full","flex","flex-col","space-y-6","py-4","items-center"],[1,"flex","flex-row","space-x-2","justify-center","items-center"],[1,"font-bold","text-2xl","text-gray-800"],[1,"material-symbols-outlined","text-blue-600"],[1,"w-full","lg:px-8","px-4","bg-gray-50","min-h-screen"],[1,"w-full","flex","flex-col","gap-6","mx-auto","max-w-7xl"],[1,"bg-white","rounded-xl","shadow-lg","p-6"],[1,"flex","flex-col","lg:flex-row","gap-4","items-center"],[1,"flex-1"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","readonly","",3,"ngModelChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],[1,"flex","gap-2","items-center","justify-center"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"mr-2"],["mat-raised-button","",3,"click","disabled"],[1,"flex","flex-wrap","items-center","gap-2","mt-4","pt-4","border-t","border-gray-200"],[1,"text-sm","text-gray-600","mr-2"],["mat-button","",1,"text-sm",3,"click"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"flex","justify-center","items-center","py-12"],[1,"flex","flex-col","items-center","gap-4"],[1,"animate-spin","rounded-full","h-16","w-16","border-b-4","border-blue-500"],[1,"text-gray-600","text-lg"],[1,"space-y-6"],[1,"bg-gradient-to-r","from-blue-500","to-purple-600","rounded-xl","shadow-lg","p-6","text-white"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-semibold"],[1,"text-blue-100","mt-1"],[1,"text-right"],[1,"text-2xl","font-bold"],[1,"text-blue-100"],[1,"grid","lg:grid-cols-3","md:grid-cols-2","grid-cols-1","gap-6"],[1,"bg-white","rounded-xl","shadow-lg","p-6","border-l-4","border-blue-500"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500","mt-2"],[1,"h-12","w-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],[1,"text-blue-600"],[1,"bg-white","rounded-xl","shadow-lg","p-6","border-l-4","border-green-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"h-12","w-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],[1,"text-green-600"],[1,"bg-white","rounded-xl","shadow-lg","p-6","border-l-4","border-purple-500"],[1,"h-12","w-12","bg-purple-100","rounded-lg","flex","items-center","justify-center"],[1,"text-purple-600"],[1,"grid","lg:grid-cols-4","md:grid-cols-2","grid-cols-1","gap-6"],[1,"bg-white","rounded-xl","shadow-lg","p-6","border-l-4","border-orange-500"],[1,"h-10","w-10","bg-orange-100","rounded-lg","flex","items-center","justify-center"],[1,"text-orange-600"],[1,"bg-white","rounded-xl","shadow-lg","p-6","border-l-4","border-teal-500"],[1,"h-10","w-10","bg-teal-100","rounded-lg","flex","items-center","justify-center"],[1,"text-teal-600"],[1,"bg-white","rounded-xl","shadow-lg","p-6","border-l-4","border-pink-500"],[1,"h-10","w-10","bg-pink-100","rounded-lg","flex","items-center","justify-center"],[1,"text-pink-600"],[1,"bg-white","rounded-xl","shadow-lg","p-6","border-l-4","border-indigo-500"],[1,"h-10","w-10","bg-indigo-100","rounded-lg","flex","items-center","justify-center"],[1,"text-indigo-600"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-gray-400"],[1,"h-96","w-full"],[1,"grid","lg:grid-cols-2","gap-6"],[1,"h-80","w-full"],[1,"bg-blue-100","text-blue-800","text-sm","font-medium","px-3","py-1","rounded-full"],[1,"overflow-x-auto"],[1,"max-h-96","overflow-y-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50","sticky","top-0"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],["class","text-center py-8",4,"ngIf"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"text-center","py-8"],[1,"text-gray-400","text-4xl"],[1,"text-gray-500","mt-2"]],template:function(t,d){if(t&1){let n=W();r(0,"div",5)(1,"div",6)(2,"span",7),i(3,"Dashboard T\u1ED5ng H\u1EE3p"),a(),r(4,"span",8),i(5,"dashboard"),a()(),r(6,"div",9)(7,"div",10)(8,"div",11)(9,"div",12)(10,"div",13)(11,"mat-form-field",14)(12,"mat-label"),i(13,"Ng\xE0y b\u1EAFt \u0111\u1EA7u"),a(),r(14,"input",15),j("ngModelChange",function(e){return h(n),L(d.batdau,e)||(d.batdau=e),g(e)}),a(),D(15,"mat-datepicker-toggle",16)(16,"mat-datepicker",null,0),a()(),r(18,"div",13)(19,"mat-form-field",14)(20,"mat-label"),i(21,"Ng\xE0y k\u1EBFt th\xFAc"),a(),r(22,"input",15),j("ngModelChange",function(e){return h(n),L(d.ketthuc,e)||(d.ketthuc=e),g(e)}),a(),D(23,"mat-datepicker-toggle",16)(24,"mat-datepicker",null,1),a()(),r(26,"div",17)(27,"button",18),v("click",function(){return h(n),g(d.applyDateFilter())}),r(28,"mat-icon",19),i(29,"search"),a(),i(30," \xC1p d\u1EE5ng "),a(),r(31,"button",20),v("click",function(){return h(n),g(d.loadAllDashboardData())}),r(32,"mat-icon",19),i(33,"refresh"),a(),i(34," L\xE0m m\u1EDBi "),a()()(),r(35,"div",21)(36,"span",22),i(37,"Ch\u1ECDn nhanh:"),a(),r(38,"button",23),v("click",function(){return h(n),g(d.setDateRange("today"))}),i(39," H\xF4m nay "),a(),r(40,"button",23),v("click",function(){return h(n),g(d.setDateRange("yesterday"))}),i(41," H\xF4m qua "),a(),r(42,"button",23),v("click",function(){return h(n),g(d.setDateRange("last7days"))}),i(43," 7 ng\xE0y qua "),a(),r(44,"button",23),v("click",function(){return h(n),g(d.setDateRange("last30days"))}),i(45," 30 ng\xE0y qua "),a(),r(46,"button",23),v("click",function(){return h(n),g(d.setDateRange("thisMonth"))}),i(47," Th\xE1ng n\xE0y "),a(),r(48,"button",23),v("click",function(){return h(n),g(d.setDateRange("lastMonth"))}),i(49," Th\xE1ng tr\u01B0\u1EDBc "),a()()(),M(50,Tt,5,0,"div",24)(51,Pt,148,30,"div",25),a()()()}if(t&2){let n=R(17),l=R(25);s(14),f("matDatepicker",n),N("ngModel",d.batdau),s(),f("for",n),s(7),f("matDatepicker",l),N("ngModel",d.ketthuc),s(),f("for",l),s(4),f("disabled",d.isLoading),s(4),f("disabled",d.isLoading),s(19),f("ngIf",d.isLoading),s(),f("ngIf",!d.isLoading&&d.comprehensiveData)}},dependencies:[U,Y,X,J,Z,gt,mt,st,ct,it,rt,at,et,Dt,vt,ft,bt,yt,ht,pt,ut,tt,lt,nt,ot,dt],encapsulation:2})};export{Et as DashboardComponent};

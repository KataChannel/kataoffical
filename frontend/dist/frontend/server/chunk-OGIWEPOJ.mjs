import './polyfills.server.mjs';
import{c as U}from"./chunk-KTNYPD7H.mjs";import{a as k}from"./chunk-2YJD2PCX.mjs";import"./chunk-K5R5S2XD.mjs";import"./chunk-GBWCUV22.mjs";import"./chunk-MGIVCIKU.mjs";import"./chunk-PC64KKV4.mjs";import"./chunk-KFOBXJYA.mjs";import"./chunk-IBCI4XBM.mjs";import"./chunk-73IBRO6I.mjs";import{c as E}from"./chunk-2WVZEUAT.mjs";import{k as D}from"./chunk-MENNXLFS.mjs";import{a as y}from"./chunk-TGQWJUV4.mjs";import{b,h as x}from"./chunk-HQVYZIQD.mjs";import"./chunk-GS6F3HBF.mjs";import"./chunk-6EFOJMAD.mjs";import{b as w}from"./chunk-SNL6NQRQ.mjs";import{c as F}from"./chunk-HXEL4YEF.mjs";import{C as M}from"./chunk-67NKMS7C.mjs";import"./chunk-SU2HN6EZ.mjs";import"./chunk-AKVYLSG6.mjs";import"./chunk-23D4RJ7E.mjs";import"./chunk-QY26ANMS.mjs";import"./chunk-LQWFEOWT.mjs";import{_ as S}from"./chunk-YS2PDZ6Q.mjs";import"./chunk-7T6LZHUD.mjs";import{p as h}from"./chunk-SYOYXCNA.mjs";import{z as v}from"./chunk-EYW3XZCQ.mjs";import{Fb as g,Gc as t,Ra as f,hc as r,ic as e,jc as s,pa as p,yb as u}from"./chunk-LL6B6DB7.mjs";import"./chunk-XAZRL6IZ.mjs";import{j as c}from"./chunk-RIAI3ORJ.mjs";var _=class m{constructor(o){this.sanitizer=o}isMenuOpen=!1;profileImageUrl="avatar.png";isLoading=!1;profile=f({});isEditAvatar=!1;files=[];_UserService=p(y);_uploadService=p(k);Menus=[{id:1,Title:"C\xE0i \u0111\u1EB7t t\xE0i kho\u1EA3n",Slug:"./account"},{id:2,Title:"\u0110\u1ED5i m\u1EADt kh\u1EA9u",Slug:"./password"},{id:3,Title:"K\u1EBFt n\u1ED1i",Slug:"./social"},{id:4,Title:"Ch\xEDnh s\xE1ch b\u1EA3o m\u1EADt",Slug:"./privacy"},{id:5,Title:"\u0110i\u1EC1u kho\u1EA3n & \u0110i\u1EC1u ki\u1EC7n",Slug:"./terms"}];ngOnInit(){return c(this,null,function*(){yield this._UserService.getProfile(),this.profile=this._UserService.profile})}getTrustUrl(o){return this.sanitizer.bypassSecurityTrustResourceUrl(o)}handlePaste(o){this.isLoading=!0;let i=o.clipboardData?.items;if(i)for(let l=0;l<i.length;l++){let a=i[l];if(a.type.indexOf("image")!==-1){let n=a.getAsFile();if(n){console.log("Pasted image:",n);let C=new File([n],`${this.profile().email.split("@")[0]}_${new Date().getTime()}.png`,{type:n.type});this._uploadService.uploadDriver(C).then(d=>{console.log(d),this.profile().Avatar=d.fileId,this.isLoading=!1,this.isEditAvatar=!1,this._UserService.updateUser(this.profile())})}}}}dropped(o){this.isLoading=!0,this.files=o;for(let i of o)i.fileEntry.isFile&&i.fileEntry.file(a=>{this._uploadService.uploadDriver(a).then(n=>{console.log(n),this.profile().Avatar=n.fileId,this.isLoading=!1,this.isEditAvatar=!1,this._UserService.updateUser(this.profile())})})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}openImageUploader(){}static \u0275fac=function(i){return new(i||m)(u(h))};static \u0275cmp=g({type:m,selectors:[["app-profile"]],decls:30,vars:0,consts:[[1,"flex","flex-col","space-y-4","p-4"],[1,"w-full","mx-auto","bg-[#F7E6E9]","rounded-lg","shadow","overflow-hidden"],[1,"relative","col-span-2"],["src","https://png.pngtree.com/thumb_back/fw800/background/20240103/pngtree-vibrant-foliage-a-green-textured-background-of-banana-tree-leaves-image_13865143.png","alt","cover",1,"w-full","h-48","object-cover"],[1,"absolute","bottom-4","left-4","flex","items-center"],["src","https://png.pngtree.com/thumb_back/fw800/background/20240103/pngtree-vibrant-foliage-a-green-textured-background-of-banana-tree-leaves-image_13865143.png","alt","avatar",1,"w-20","h-20","rounded-full","border-4","border-white","shadow-lg"],[1,"ml-4"],[1,"text-xl","font-bold","text-white"],[1,"text-sm","text-gray-200"],[1,"border-t","px-6","py-4","flex","items-center","justify-between"],[1,"flex","space-x-6"],[1,"flex","items-center","text-gray-700","font-medium","hover:text-black"],[1,"material-icons","mr-2"],[1,"flex","items-center","text-gray-500","hover:text-black"]],template:function(i,l){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),s(3,"img",3),r(4,"div",4),s(5,"img",5),r(6,"div",6)(7,"h2",7),t(8,"Jaydon Frankie"),e(),r(9,"p",8),t(10,"CTO"),e()()()(),r(11,"div",9)(12,"div",10)(13,"button",11)(14,"span",12),t(15,"account_circle"),e(),t(16," Profile "),e(),r(17,"button",13)(18,"span",12),t(19,"favorite"),e(),t(20," Followers "),e(),r(21,"button",13)(22,"span",12),t(23,"group"),e(),t(24," Friends "),e(),r(25,"button",13)(26,"span",12),t(27,"collections"),e(),t(28," Gallery "),e()()()(),s(29,"router-outlet"),e())},dependencies:[v,F,M,w,D,S,x,b,U,E],encapsulation:2})};export{_ as ProfileComponent};

{
  "version": 3,
  "sources": ["src/app/admin/donhang/detaildonhang/detaildonhang.component.ts", "src/app/admin/donhang/detaildonhang/detaildonhang.component.html"],
  "sourcesContent": ["import {\r\n  Component,\r\n  computed,\r\n  effect,\r\n  ElementRef,\r\n  inject,\r\n  QueryList,\r\n  signal,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewChildren,\r\n} from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { ActivatedRoute, Route, Router } from '@angular/router';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatDialog, MatDialogModule } from '@angular/material/dialog';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ListDonhangComponent } from '../listdonhang/listdonhang.component';\r\nimport { DonhangService } from '../donhang.service';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport {\r\n  ConvertDriveData,\r\n  GenId,\r\n  convertToSlug,\r\n} from '../../../shared/utils/shared.utils';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { KhachhangService } from '../../khachhang/khachhang.service';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { provideNativeDateAdapter } from '@angular/material/core';\r\nimport { BanggiaService } from '../../banggia/banggia.service';\r\nimport moment from 'moment';\r\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\r\nimport { GoogleSheetService } from '../../../shared/googlesheets/googlesheets.service';\r\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatSort, MatSortModule } from '@angular/material/sort';\r\nimport { SanphamService } from '../../sanpham/sanpham.service';\r\nimport html2canvas from 'html2canvas';\r\nimport { readExcelFile, writeExcelFile } from '../../../shared/utils/exceldrive.utils';\r\nimport { SearchService } from '../../../shared/services/search.service';\r\nimport { debounceTime, distinctUntilChanged, Subject, switchMap } from 'rxjs';\r\nimport { removeVietnameseAccents } from '../../../shared/utils/texttransfer.utils';\r\nimport { UserService } from '../../user/user.service';\r\nimport { Debounce } from '../../../shared/utils/decorators';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\n@Component({\r\n  selector: 'app-detaildonhang',\r\n  imports: [\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    FormsModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatSelectModule,\r\n    MatDialogModule,\r\n    CommonModule,\r\n    MatSlideToggleModule,\r\n    MatMenuModule,\r\n    MatDatepickerModule,\r\n    MatTableModule,\r\n    MatSortModule,\r\n    MatPaginatorModule,\r\n    MatProgressSpinnerModule\r\n  ],\r\n  // providers: [provideNativeDateAdapter()],\r\n  templateUrl: './detaildonhang.component.html',\r\n  styleUrl: './detaildonhang.component.scss',\r\n})\r\nexport class DetailDonhangComponent {\r\n  _ListdonhangComponent: ListDonhangComponent = inject(ListDonhangComponent);\r\n  _DonhangService: DonhangService = inject(DonhangService);\r\n  _KhachhangService: KhachhangService = inject(KhachhangService);\r\n  _BanggiaService: BanggiaService = inject(BanggiaService);\r\n  _SanphamService: SanphamService = inject(SanphamService);\r\n  _SearchService: SearchService = inject(SearchService);\r\n  _UserService: UserService = inject(UserService);\r\n  _route: ActivatedRoute = inject(ActivatedRoute);\r\n  _router: Router = inject(Router);\r\n  _snackBar: MatSnackBar = inject(MatSnackBar);\r\n  @ViewChild('BgHethanDialog') BgHethanDialog!: TemplateRef<any>;\r\n  ListFilter:any[] =[]\r\n  constructor() {\r\n    this._route.paramMap.subscribe(async (params) => {\r\n      const id = params.get('id');\r\n      this._DonhangService.setDonhangId(id);\r\n      // await this._BanggiaService.getAllBanggia();\r\n      // this.filterBanggia = this._BanggiaService.ListBanggia();\r\n      // await this._SanphamService.getAllSanpham();\r\n      // this.filterSanpham = this._SanphamService.ListSanpham();\r\n      // this.dataSource().data = this.DetailDonhang().sanpham;\r\n      // this.dataSource().data.sort((a, b) => a.order - b.order);\r\n    });\r\n\r\n    effect(async () => {\r\n      const id = this._DonhangService.donhangId();\r\n      if (!id) {\r\n        this._router.navigate(['/admin/donhang']);\r\n        this._ListdonhangComponent.drawer.close();\r\n      }\r\n      if (id === 'new') {\r\n        this.DetailDonhang.set({\r\n          title: GenId(8, false),\r\n          // madonhang: GenId(8, false),\r\n          ngaygiao: moment().add(1, 'days').format('YYYY-MM-DD'),\r\n          khachhang: {banggiaId:''},\r\n        });\r\n        this._ListdonhangComponent.drawer.open();\r\n        this.isEdit.update((value) => !value);\r\n        this.ListFilter = []\r\n        this._router.navigate(['/admin/donhang', 'new']);\r\n      } else {\r\n        await this._DonhangService.getDonhangByid(id);\r\n        this.ListFilter = this.DetailDonhang().sanpham\r\n        this.dataSource().data = this.DetailDonhang().sanpham;\r\n        this.dataSource().data.sort((a, b) => a.order - b.order);      \r\n        this._ListdonhangComponent.drawer.open();\r\n        this._router.navigate(['/admin/donhang', id]);\r\n      }\r\n      await this._KhachhangService.getKhachhangforselect();\r\n      this.filterKhachhang = this.ListKhachhang()\r\n      await this._SanphamService.getSanphamforselect();\r\n      this.filterSanpham = this.ListSanpham()\r\n    });\r\n  }\r\n  DetailDonhang: any = this._DonhangService.DetailDonhang;\r\n  ListKhachhang: any = this._KhachhangService.ListKhachhang;\r\n  ListSanpham: any = this._SanphamService.ListSanpham;\r\n  isEdit = signal(false);\r\n  isDelete = signal(false);\r\n  filterKhachhang: any = [];\r\n  filterBanggia: any[] = [];\r\n  filterSanpham: any[] = [];\r\n  donhangId: any = this._DonhangService.donhangId;\r\n  permissions: any = []\r\n  async ngOnInit() {\r\n     await this._UserService.getProfile();\r\n     this.permissions = this._UserService.profile().permissions.map((v:any)=>v.name);\r\n     await this._BanggiaService.getAllBanggia();\r\n     this.filterBanggia = this._BanggiaService.ListBanggia();\r\n  }\r\n\r\n\r\n  async handleDonhangAction() {\r\n    // Validate dữ liệu trước khi xử lý\r\n    const validationError = this.validateDonhang();\r\n    if (validationError) {\r\n      this._snackBar.open(validationError, '', {\r\n        duration: 2000,\r\n        horizontalPosition: 'end',\r\n        verticalPosition: 'top',\r\n        panelClass: ['snackbar-error'],\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (this.donhangId() === 'new') {\r\n      await this.createDonhang();\r\n    } else {\r\n      await this.updateDonhang();\r\n    }\r\n  }\r\n\r\n  private validateDonhang(): string | null {\r\n    const donhang = this.DetailDonhang();\r\n    \r\n    // Validate thông tin cơ bản\r\n    if (!donhang.title || donhang.title.trim() === '') {\r\n      return 'Vui lòng nhập tiêu đề đơn hàng';\r\n    }\r\n\r\n    if (!donhang.ngaygiao) {\r\n      return 'Vui lòng chọn ngày giao';\r\n    }\r\n\r\n    // Validate khách hàng\r\n    if (!donhang.khachhangId) {\r\n      return 'Vui lòng chọn khách hàng';\r\n    }\r\n\r\n    // Validate sản phẩm\r\n    if (!donhang.sanpham || donhang.sanpham.length === 0) {\r\n      return 'Vui lòng thêm ít nhất một sản phẩm';\r\n    }\r\n\r\n    // Validate số lượng sản phẩm\r\n    for (const sp of donhang.sanpham) {\r\n      if (!sp.sldat || sp.sldat <= 0) {\r\n        return `Số lượng đặt của sản phẩm \"${sp.title}\" phải lớn hơn 0`;\r\n      }\r\n      \r\n      if (sp.slgiao < sp.sldat) {\r\n        return `Số lượng giao của sản phẩm \"${sp.title}\" không được nhỏ hơn số lượng đặt`;\r\n      }\r\n    }\r\n\r\n    // Validate ngày giao không được trong quá khứ cho đơn hàng mới\r\n    if (this.donhangId() === 'new') {\r\n      const ngayGiao = moment(donhang.ngaygiao);\r\n      const today = moment().startOf('day');\r\n      if (ngayGiao.isBefore(today)) {\r\n        return 'Ngày giao không được trong quá khứ';\r\n      }\r\n    }\r\n\r\n    return null; // Không có lỗi\r\n  }\r\n\r\n\r\n\r\n  private async createDonhang() {\r\n    try {\r\n      this.DetailDonhang.update((v: any) => ({\r\n        ...v,\r\n        type: 'donsi',\r\n        status: 'dadat',\r\n      }));\r\n      await this._DonhangService.CreateDonhang(this.DetailDonhang()).then((data)=>{\r\n        console.log(data);  \r\n      })\r\n      this._snackBar.open('Tạo Mới Thành Công', '', {\r\n        duration: 1000,\r\n        horizontalPosition: 'end',\r\n        verticalPosition: 'top',\r\n        panelClass: ['snackbar-success'],\r\n      });\r\n      this.isEdit.update((value) => !value);\r\n    } catch (error) {\r\n      console.error('Lỗi khi tạo donhang:', error);\r\n    }\r\n  }\r\n\r\n  private async updateDonhang(status?: any) {\r\n    try {\r\n      this.DetailDonhang.update((v: any) => ({\r\n        ...v,\r\n        type: 'donsi',\r\n        status: status || v.status,\r\n      }));\r\n\r\n      await this._DonhangService.updateDonhang(this.DetailDonhang()).then((data)=>{\r\n        console.log(data);  \r\n      })\r\n      this._snackBar.open('Cập Nhật Thành Công', '', {\r\n        duration: 1000,\r\n        horizontalPosition: 'end',\r\n        verticalPosition: 'top',\r\n        panelClass: ['snackbar-success'],\r\n      });\r\n      this.isEdit.update((value) => !value);\r\n    } catch (error) {\r\n      console.error('Lỗi khi cập nhật donhang:', error);\r\n    }\r\n  }\r\n  UpdateStatus(status: any) {\r\n    this.updateDonhang(status);\r\n  }\r\n  async DeleteData() {\r\n    try {\r\n      await this._DonhangService.DeleteDonhang(this.DetailDonhang());\r\n\r\n      this._snackBar.open('Xóa Thành Công', '', {\r\n        duration: 1000,\r\n        horizontalPosition: 'end',\r\n        verticalPosition: 'top',\r\n        panelClass: ['snackbar-success'],\r\n      });\r\n\r\n      this._router.navigate(['/admin/donhang']);\r\n    } catch (error) {\r\n      console.error('Lỗi khi xóa donhang:', error);\r\n    }\r\n  }\r\n  goBack() {\r\n    this._router.navigate(['/admin/donhang']);\r\n    this._ListdonhangComponent.drawer.close();\r\n  }\r\n  trackByFn(index: number, item: any): any {\r\n    return item.id;\r\n  }\r\n  \r\n  // Method để auto-select text khi focus vào input - Same as detailphieugiaohang\r\n  onInputFocus(event: FocusEvent) {\r\n    const target = event.target as HTMLElement;\r\n    if (target && target.isContentEditable) {\r\n      // Delay để đảm bảo focus đã hoàn tất\r\n      setTimeout(() => {\r\n        if (document.createRange && window.getSelection) {\r\n          const range = document.createRange();\r\n          range.selectNodeContents(target);\r\n          const selection = window.getSelection();\r\n          selection?.removeAllRanges();\r\n          selection?.addRange(range);\r\n        }\r\n      }, 10);\r\n    }\r\n  }\r\n  \r\n  toggleEdit() {\r\n    this.isEdit.update((value) => !value);\r\n  }\r\n\r\n  toggleDelete() {\r\n    this.isDelete.update((value) => !value);\r\n  }\r\n  FillSlug() {\r\n    this.DetailDonhang.update((v: any) => {\r\n      v.slug = convertToSlug(v.title);\r\n      return v;\r\n    });\r\n  }\r\n  searchInput$ = new Subject<string>();\r\n  isLoadingKhachhang = signal(false);\r\n  async DoFindKhachhang(event: any) {\r\n    const value = event.target.value.trim().toLowerCase();\r\n   try {\r\n      this.isLoadingKhachhang.set(true);\r\n      \r\n    if(value.length < 2) {\r\n      this.filterKhachhang = this.ListKhachhang();\r\n      return;\r\n    }\r\n    this.filterKhachhang = this.ListKhachhang().filter((v: any) =>\r\n      v.makh.toLowerCase().includes(value) ||\r\n      v.name.toLowerCase().includes(value) ||\r\n      removeVietnameseAccents(v.makh.toLowerCase()).includes(value) ||\r\n      removeVietnameseAccents(v.name.toLowerCase()).includes(value)\r\n    );\r\n\r\n    } catch (error) {\r\n      console.error('Lỗi khi tìm kiếm khách hàng:', error);\r\n      this._snackBar.open('Lỗi khi tìm kiếm khách hàng', '', {\r\n        duration: 2000,\r\n        horizontalPosition: 'end',\r\n        verticalPosition: 'top',\r\n        panelClass: ['snackbar-error'],\r\n      });\r\n    } finally {\r\n      this.isLoadingKhachhang.set(false);\r\n    }\r\n  }\r\n\r\n\r\n  DoFindBanggia(event: any) {\r\n    const query = event.target.value.toLowerCase();\r\n    //  this.FilterBanggia = this.ListBanggia.filter(v => v.Title.toLowerCase().includes(query));\r\n  }\r\n  UpdateBangia() {\r\n    // const Banggia = this.ListBanggia.find(v => v.id === this.Detail.idBanggia)\r\n    // const valueMap = new Map(Banggia.ListSP.map(({ MaSP, giaban }:any) => [MaSP, giaban]));\r\n    // this.Detail.Giohangs = this.Detail.Giohangs\r\n    //     .filter(({ MaSP }:any) => valueMap.has(MaSP)) // Chỉ giữ lại phần tử có trong data2\r\n    //     .map((item:any) => ({\r\n    //         ...item,  // Giữ lại tất cả các thuộc tính từ data1\r\n    //         gia: valueMap.get(item.MaSP)?? item.gia, // Cập nhật giá trị value từ data2\r\n    //         Tongtien: valueMap.get(item.MaSP)?? item.gia // Cập nhật giá trị value từ data2\r\n    //     }));\r\n    //     this.UpdateListSanpham()\r\n    // console.log(this.Detail.Giohangs);\r\n  }\r\n  SelectBanggia(event: any) {\r\n    console.log(event.value);\r\n    // this.Detail.idBanggia = event.value\r\n    // this.UpdateBangia()\r\n    // const Banggia = this.ListBanggia.find(v => v.id === event.value)\r\n    // const valueMap = new Map(Banggia.ListSP.map(({ id, giaban }:any) => [id, giaban]));\r\n    // this.Detail.Giohangs = this.Detail.Giohangs\r\n    //     .filter(({ id }:any) => valueMap.has(id)) // Chỉ giữ lại phần tử có trong data2\r\n    //     .map((item:any) => ({\r\n    //         ...item,  // Giữ lại tất cả các thuộc tính từ data1\r\n    //         gia: valueMap.get(item.id)?? item.gia, // Cập nhật giá trị value từ data2\r\n    //         Tongtien: valueMap.get(item.id)?? item.gia // Cập nhật giá trị value từ data2\r\n    //     }));\r\n    // console.log(this.Detail.Giohangs);\r\n  }\r\n  Chonkhachhang(item: any) {\r\n    this.DetailDonhang.update((v: any) => {\r\n      v.khachhangId = item.id;\r\n      return v;\r\n    });\r\n  }\r\n  updateValue(event: Event,index: number | null,element: any,field: keyof any,type: 'number' | 'string') {\r\n    const target = event.target as HTMLElement;\r\n    let newValue: any;\r\n    \r\n    if (type === 'number') {\r\n      // Clean the text content and convert to number\r\n      const textContent = target.innerText.trim().replace(/,/g, '.'); // Replace comma with dot for decimal\r\n      newValue = Number(textContent) || 0;\r\n    } else {\r\n      newValue = target.innerText.trim();\r\n    }\r\n    \r\n    const keyboardEvent = event as KeyboardEvent;\r\n    if (keyboardEvent.key === \"Enter\" && !keyboardEvent.shiftKey) {\r\n      event.preventDefault();\r\n    }\r\n    if (type === \"number\") {\r\n      const allowedKeys = [\r\n        \"Backspace\", \"Delete\", \"ArrowLeft\", \"ArrowRight\", \"Tab\", \"Enter\",\r\n        \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", // Regular number keys\r\n        \".\", \",\", // Decimal separators\r\n        \"Home\", \"End\", \"PageUp\", \"PageDown\" // Navigation keys\r\n      ];\r\n      \r\n      // Allow regular digits, numpad digits, and control keys\r\n      const isDigit = /^[0-9]$/.test(keyboardEvent.key);\r\n      const isNumpadDigit = keyboardEvent.code && keyboardEvent.code.startsWith('Numpad') && /Numpad[0-9]/.test(keyboardEvent.code);\r\n      const isDecimal = keyboardEvent.key === '.' || keyboardEvent.key === ',';\r\n      const isControlKey = allowedKeys.includes(keyboardEvent.key);\r\n      \r\n      if (!isDigit && !isNumpadDigit && !isDecimal && !isControlKey) {\r\n        event.preventDefault();\r\n        return;\r\n      }\r\n    }\r\n    this.DetailDonhang.update((v: any) => {\r\n      if (index !== null) {\r\n        const itemIndex = v.sanpham.findIndex((v1: any) => v1.id === element.id);\r\n        if (field === 'sldat') {\r\n          v.sanpham[itemIndex]['sldat'] = v.sanpham[itemIndex]['slgiao'] = v.sanpham[itemIndex]['slnhan'] = newValue;\r\n          // Find the next input to focus on\r\n          const inputs = document.querySelectorAll('.sldat-input')as NodeListOf<HTMLInputElement>;\r\n              if (index < this.dataSource().filteredData.length - 1) {\r\n                const nextInput = inputs[index + 1]as HTMLInputElement\r\n                if (nextInput) {\r\n                  if (nextInput instanceof HTMLInputElement) {\r\n                    nextInput.focus();\r\n                    nextInput.select();\r\n                  }\r\n                  // Then select text using a different method that works on more element types\r\n                  setTimeout(() => {\r\n                    if (document.createRange && window.getSelection) {\r\n                      const range = document.createRange();\r\n                      range.selectNodeContents(nextInput);\r\n                      const selection = window.getSelection();\r\n                      selection?.removeAllRanges();\r\n                      selection?.addRange(range);\r\n                    }\r\n                  }, 10);\r\n                }\r\n              }\r\n\r\n        } \r\n        else if (field === 'ghichu') {\r\n          v.sanpham[itemIndex][field] = newValue;\r\n          // Find the next input to focus on\r\n          const inputs = document.querySelectorAll('.ghichu-input')as NodeListOf<HTMLInputElement>;\r\n              if (index < this.dataSource().filteredData.length - 1) {\r\n                const nextInput = inputs[index + 1]as HTMLInputElement\r\n                if (nextInput) {\r\n                  if (nextInput instanceof HTMLInputElement) {\r\n                    nextInput.focus();\r\n                    nextInput.select();\r\n                  }\r\n                  // Then select text using a different method that works on more element types\r\n                  setTimeout(() => {\r\n                    if (document.createRange && window.getSelection) {\r\n                      const range = document.createRange();\r\n                      range.selectNodeContents(nextInput);\r\n                      const selection = window.getSelection();\r\n                      selection?.removeAllRanges();\r\n                      selection?.addRange(range);\r\n                    }\r\n                  }, 10);\r\n                }\r\n              }\r\n        } \r\n        \r\n        else if (field === 'slgiao') {\r\n          const newGiao = newValue\r\n          if (newGiao < v.sanpham[itemIndex]['sldat']) {\r\n            // CẬP NHẬT GIÁ TRỊ TRƯỚC KHI HIỂN THỊ SNACKBAR\r\n            v.sanpham[itemIndex]['slgiao'] = v.sanpham[itemIndex]['sldat'];\r\n            this._snackBar.open('Số lượng giao phải lớn hơn số lượng đặt', '', {\r\n              duration: 1000,\r\n              horizontalPosition: \"end\",\r\n              verticalPosition: \"top\",\r\n              panelClass: ['snackbar-error'],\r\n            });\r\n          } else {\r\n            v.sanpham[itemIndex]['slgiao'] =  newGiao;\r\n          }\r\n        } else {\r\n          v.sanpham[itemIndex][field] = newValue;\r\n        }\r\n      } else {\r\n        v[field] = newValue;\r\n      }\r\n      return v;\r\n    });\r\n  }\r\n    updateBlurValue(\r\n    event: Event,\r\n    index: number | null,\r\n    element: any,\r\n    field: keyof any,\r\n    type: 'number' | 'string'\r\n  ) {\r\n    const target = event.target as HTMLElement;\r\n    let newValue: any;\r\n    \r\n    if (type === 'number') {\r\n      // Clean the text content and convert to number\r\n      const textContent = target.innerText.trim().replace(/,/g, '.'); // Replace comma with dot for decimal\r\n      newValue = Number(textContent) || 0;\r\n    } else {\r\n      newValue = target.innerText.trim();\r\n    }\r\n\r\n    this.DetailDonhang.update((v: any) => {\r\n      if (index !== null) {\r\n        const itemIndex = v.sanpham.findIndex((v1: any) => v1.id === element.id);\r\n        if (field === 'sldat') {\r\n          v.sanpham[itemIndex] = {\r\n            ...v.sanpham[itemIndex],\r\n            sldat: newValue,\r\n            slgiao: newValue,\r\n            slnhan: newValue\r\n          };\r\n        } else if (field === 'slgiao') {\r\n          if (newValue < v.sanpham[itemIndex]['sldat']) {\r\n            v.sanpham[itemIndex]['slgiao'] = v.sanpham[itemIndex]['sldat'];\r\n            this._snackBar.open('Số lượng giao phải lớn hơn số lượng đặt', '', {\r\n              duration: 1000,\r\n              horizontalPosition: 'end',\r\n              verticalPosition: 'top',\r\n              panelClass: ['snackbar-error'],\r\n            });\r\n          } else {\r\n            v.sanpham[itemIndex]['slgiao'] = newValue;\r\n          }\r\n        } else {\r\n          v.sanpham[itemIndex][field] = newValue;\r\n        }\r\n        console.log('v.sanpham[itemIndex]',v.sanpham[itemIndex]);\r\n        \r\n      } else {\r\n        v[field] = newValue;\r\n      }\r\n      return v;\r\n    });\r\n\r\n    // Update dataSource to reflect changes\r\n    this.dataSource.update(ds => {\r\n      ds.data = [...this.DetailDonhang().sanpham];\r\n      return ds;\r\n    });\r\n  }\r\n\r\n\r\n  \r\n\r\n  Tongcong: any = 0;\r\n  Tong: any = 0;\r\n  Tinhtongcong(value: any) {\r\n    this.Tongcong = value.Tongcong;\r\n    this.Tong = value.Tong;\r\n  }\r\n  TinhTong(items: any, fieldTong: any) {\r\n    return (\r\n      items?.reduce((sum: any, item: any) => sum + (item[fieldTong] || 0), 0) ||\r\n      0\r\n    );\r\n  }\r\n  private _dialog:MatDialog = inject(MatDialog);\r\n  SelectKhachhang(event: any) {\r\n    const selectedKhachhang = this.filterKhachhang.find(\r\n      (v: any) => v.id === event.value\r\n    );\r\n    console.log(selectedKhachhang);\r\n    if (selectedKhachhang) {\r\n\r\n        const isExpired = moment() > moment(selectedKhachhang?.banggia?.batdau) && moment() < moment(selectedKhachhang.banggia.ketthuc) ? true : false;\r\n        console.log(selectedKhachhang);\r\n        \r\n        console.log(isExpired);\r\n        \r\n        if (!isExpired) {          \r\n        const dialogRef = this._dialog.open(this.BgHethanDialog, {\r\n          hasBackdrop: true,\r\n          disableClose: true,\r\n        })\r\n        dialogRef.afterClosed().subscribe((result) => {\r\n          if (result===\"true\") {\r\n          this.DetailDonhang.update((v: any) => {\r\n            v.khachhang.banggiaId = selectedKhachhang?.banggia?.id;\r\n            console.log(v.khachhang.banggiaId);\r\n            return v;\r\n          });\r\n        }\r\n        });\r\n      }\r\n      else {\r\n        this.DetailDonhang.update((v: any) => {\r\n         v.khachhang.banggiaId = selectedKhachhang?.banggia?.id;\r\n          return v\r\n        });\r\n      }\r\n\r\n      this.DetailDonhang.update((v: any) => {\r\n        const khachhang = {\r\n          name: selectedKhachhang.name,\r\n          diachi: selectedKhachhang.diachi,\r\n          sdt: selectedKhachhang.sdt,\r\n          ghichu: selectedKhachhang.ghichu,\r\n          banggiaId: selectedKhachhang?.banggia?.id\r\n        };\r\n        v.khachhangId = selectedKhachhang.id;\r\n        v.khachhang = khachhang;\r\n        return v;\r\n      });\r\n    }\r\n    console.log(this.DetailDonhang());\r\n  }\r\n\r\n  displayedColumns: string[] = [\r\n    'STT',\r\n    'title',\r\n    'masp',\r\n    'dvt',\r\n    'sldat',\r\n    'slgiao',\r\n    'slnhan',\r\n    'ghichu'\r\n  ];\r\n  ColumnName: any = {\r\n    STT: 'STT',\r\n    title: 'Tiêu Đề',\r\n    masp: 'Mã SP',\r\n    dvt: 'Đơn Vị Tính',\r\n    sldat: 'SL Đặt',\r\n    slgiao: 'SL Giao',\r\n    slnhan: 'SL Nhận',\r\n    ghichu: 'Ghi Chú'\r\n  };\r\n  dataSource = signal(new MatTableDataSource<any>([]));\r\n  CountItem = computed(() => this.dataSource().data.length);\r\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\r\n  @ViewChild(MatSort) sort!: MatSort;\r\n  _GoogleSheetService: GoogleSheetService = inject(GoogleSheetService);\r\n  async LoadDrive() {\r\n    const DriveInfo = {\r\n      IdSheet: '15npo25qyH5FmfcEjl1uyqqyFMS_vdFnmxM_kt0KYmZk',\r\n      SheetName: 'GHImport',\r\n      ApiKey: 'AIzaSyD33kgZJKdFpv1JrKHacjCQccL_O0a2Eao',\r\n    };\r\n    const result: any = await this._GoogleSheetService.getDrive(DriveInfo);\r\n    const data = ConvertDriveData(result.values);\r\n    console.log(data);\r\n    this.DetailDonhang.update((v:any)=>{\r\n      v.sanpham = data.map((v1:any) => {\r\n        v1.sldat = Number(v1.sldat)||0;\r\n        v1.slgiao = Number(v1.slgiao)||0;\r\n        v1.slnhan = Number(v1.slnhan)||0;\r\n        v1.ttdat = Number(v1.ttdat)||0;\r\n        v1.ttgiao = Number(v1.ttgiao)||0;\r\n        v1.ttnhan = Number(v1.ttnhan)||0;\r\n        const item = this.ListSanpham().find((v2:any) => v2.masp === v1.masp);\r\n        console.log(item); \r\n        if (item) {\r\n          return { ...item, ...v1 };\r\n        }\r\n        return v1;\r\n      });\r\n      return v;\r\n    });\r\n    console.log(this.DetailDonhang());\r\n        \r\n    //  this.DetailBanggia.update((v:any)=>{\r\n    //   const listdata = data.map((item:any) => {\r\n    //     item.masp = item.masp?.trim()||'';\r\n    //     item.giaban = Number(item.giaban)||0;\r\n    //     const item1 = this._SanphamService.ListSanpham().find((v1) => v1.masp === item.masp);\r\n    //     if (item1) {\r\n    //       return { ...item1, ...item };\r\n    //     }\r\n    //     return item;\r\n    //   });\r\n    //   v.sanpham = listdata\r\n    //   return v;\r\n    // })\r\n    this.dataSource().data = this.DetailDonhang().sanpham;\r\n\r\n    this.reloadfilter();\r\n  }\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.dataSource().filter = filterValue.trim().toLowerCase();\r\n  }\r\n  EmptyCart()\r\n  {\r\n    this.DetailDonhang.update((v:any)=>{\r\n      v.sanpham = []\r\n      return v;\r\n    })\r\n    this.dataSource().data = this.DetailDonhang().sanpham;\r\n    this.ListFilter = [];\r\n    this.reloadfilter();\r\n  }\r\n  getName(id:any)\r\n  {\r\n    return this.ListKhachhang().find((v:any)=>v.id===id);\r\n  }\r\n\r\n\r\n  reloadfilter(){\r\n    this.filterSanpham = this.ListSanpham().filter((v:any) => !this.DetailDonhang().sanpham.some((v2:any) => v2.id === v.id));\r\n  }\r\n  // RemoveSanpham(item:any){\r\n  //   this.DetailBanggia.update((v:any)=>{\r\n  //     v.sanpham = v.sanpham.filter((v1:any) => v1.id !== item.id);\r\n  //     this.reloadfilter();\r\n  //     return v;\r\n  //   })\r\n  //   this.dataSource().data = this.DetailBanggia().sanpham;\r\n  //   \r\n  //   this.dataSource().sort = this.sort;\r\n  // }\r\n\r\n  // SelectSanpham(event:any){\r\n  //   const value = event.value;\r\n  //   const item = this.ListSanpham().find((v:any) => v.id === value);\r\n  //   this.DetailDonhang.update((v:any)=>{\r\n  //     if(!v.sanpham){\r\n  //       v.sanpham = [];\r\n  //       item.sldat = item.slgiao = item.slnhan = 1;\r\n  //       v.sanpham.push(item);\r\n  //     }\r\n  //     else{\r\n  //         item.sldat = item.slgiao = item.slnhan = 1;\r\n  //         v.sanpham.push(item);\r\n  //     }\r\n  //     this.reloadfilter();\r\n  //     return v;\r\n  //   })\r\n  //   this.dataSource().data = this.DetailDonhang().sanpham;\r\n    \r\n    \r\n  // }\r\n  RemoveSanpham(item:any){\r\n    this.DetailDonhang.update((v:any)=>{\r\n      v.sanpham = v.sanpham.filter((v1:any) => v1.id !== item.id);\r\n      this.reloadfilter();\r\n      return v;\r\n    })\r\n    this.ListFilter = this.dataSource().data = this.DetailDonhang().sanpham;\r\n    \r\n\r\n  }\r\n\r\n  CoppyDon()\r\n  {\r\n    this._snackBar.open('Đang Coppy Đơn Hàng', '', {\r\n      duration: 1000,\r\n      horizontalPosition: \"end\",\r\n      verticalPosition: \"top\",\r\n      panelClass: ['snackbar-warning'],\r\n    });\r\n      this.DetailDonhang.update((v:any)=>{\r\n        delete v.id;\r\n        v.title = `${v.title} - Coppy`;\r\n        v.madonhang = GenId(8, false);\r\n        return v;\r\n      })\r\n      console.log(this.DetailDonhang());\r\n      \r\n      this._DonhangService.CreateDonhang(this.DetailDonhang()).then((data:any)=>{  \r\n        if(data)\r\n          {\r\n            this._snackBar.open('Coppy Đơn Hàng Thành Công', '', {\r\n              duration: 1000,\r\n              horizontalPosition: \"end\",\r\n              verticalPosition: \"top\",\r\n              panelClass: ['snackbar-success'],\r\n            });\r\n            this._router.navigate(['/admin/donhang',data.id]);\r\n          }    \r\n          else{\r\n            this._snackBar.open('Coppy Đơn Hàng Thất Bại', '', {\r\n              duration: 1000,\r\n              horizontalPosition: \"end\",\r\n              verticalPosition: \"top\",\r\n              panelClass: ['snackbar-error'],\r\n            });\r\n          }\r\n      //  setTimeout(() => {\r\n      //   window.location.href = `admin/donhang/donsi/${data.id}`;\r\n      //  }, 1000);\r\n  \r\n      })\r\n  }\r\n\r\n  printContent()\r\n  {\r\n    const printContent = document.getElementById('printContent');\r\n    if (printContent) {\r\n      const newWindow = window.open('', '_blank');\r\n    const tailwindCSS =  `\r\n    <script src=\"https://cdn.tailwindcss.com\"></script>\r\n    <script>\r\n      tailwind.config = {\r\n        theme: { extend: {} }\r\n      };\r\n    </script>\r\n  `\r\n      if (newWindow) {\r\n        newWindow.document.write(`\r\n          <html>\r\n          <head>\r\n            <title>In Bảng</title>\r\n             ${tailwindCSS}\r\n            <style>\r\n              body { font-size: 12px; font-family: Arial, sans-serif; }\r\n              table { width: 100%; border-collapse: collapse; }\r\n              th, td { border: 1px solid #000; padding: 4px; text-align: left; }\r\n              @media print { \r\n              body { margin: 0; } \r\n              img {height:80px}\r\n              }\r\n            </style>\r\n          </head>\r\n          <body>\r\n            ${printContent.outerHTML}\r\n            <script>\r\n              window.onload = function() { window.print(); window.close(); }\r\n            </script>\r\n          </body>\r\n          </html>\r\n        `);\r\n        newWindow.document.close();\r\n          this.DetailDonhang.update((v:any)=>{\r\n            v.printCount= v.printCount+1;\r\n            return v;\r\n          })\r\n          console.log(this.DetailDonhang());\r\n          \r\n          this._DonhangService.updateDonhang(this.DetailDonhang());\r\n      } else {\r\n        console.error('Không thể mở cửa sổ in');\r\n      }\r\n    } else {\r\n      console.error('Không tìm thấy phần tử printContent');\r\n    }\r\n  }\r\n  GetGoiy(item:any){\r\n   return parseFloat(((item.soluongkho - item.soluong) * (1 + (item.haohut / 100))).toString()).toFixed(2);\r\n  }\r\n\r\n  async doFilterSanpham(event: any): Promise<void> {\r\n    const value = event.target.value.trim().toLowerCase();\r\n\r\n    if (value.length < 2) {\r\n      this.filterSanpham = [...this.ListSanpham()];\r\n      return;\r\n    }\r\n\r\n    const normalizedValue = removeVietnameseAccents(value);\r\n    \r\n    this.filterSanpham = this.ListSanpham()\r\n      .filter((product: any) => {\r\n      const normalizedTitle = removeVietnameseAccents(product.title?.toLowerCase() || '');\r\n      const normalizedMasp = removeVietnameseAccents(product.masp?.toLowerCase() || '');\r\n      \r\n      return normalizedTitle.includes(normalizedValue) || \r\n           normalizedMasp.includes(normalizedValue) ||\r\n           product.title?.toLowerCase().includes(value) ||\r\n           product.masp?.toLowerCase().includes(value);\r\n      })\r\n      .sort((a: any, b: any) => {\r\n      // Prioritize exact matches\r\n      const aExactMatch = a.masp?.toLowerCase() === value || a.title?.toLowerCase() === value;\r\n      const bExactMatch = b.masp?.toLowerCase() === value || b.title?.toLowerCase() === value;\r\n      \r\n      if (aExactMatch && !bExactMatch) return -1;\r\n      if (!aExactMatch && bExactMatch) return 1;\r\n      \r\n      // Then sort alphabetically by title\r\n      const titleA = removeVietnameseAccents(a.title || '').toLowerCase();\r\n      const titleB = removeVietnameseAccents(b.title || '').toLowerCase();\r\n      return titleA.localeCompare(titleB);\r\n      });\r\n\r\n    if (event.key === 'Enter') {\r\n      if (this.filterSanpham.length > 0) {\r\n        this.ChosenItem(this.filterSanpham[0]);\r\n        // this.filterSanpham = [...this._SanphamService.ListSanpham()];\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n  ChosenItem(item:any)\r\n  {\r\n    const CheckItem = this.filterSanpham.find((v:any)=>v.id===item.id);\r\n    const CheckItem1 = this.ListFilter.find((v:any)=>v.id===item.id);\r\n    if(CheckItem1)\r\n    {\r\n      this.ListFilter = this.ListFilter.filter((v) => v.id !== item.id);\r\n    }\r\n    else{\r\n      CheckItem.order = this.ListFilter.length+1\r\n      this.ListFilter.push(CheckItem)\r\n    }    \r\n  }\r\n  ChosenAll(list:any)\r\n  {\r\n    this.ListFilter =list\r\n  }\r\n  ResetFilter()\r\n  {\r\n    this.ListFilter = this.ListSanpham();\r\n    this.dataSource().data = this.filterSanpham;\r\n  }\r\n  EmptyFiter()\r\n  {\r\n    this.ListFilter = [];\r\n  }\r\n  CheckItem(item:any)\r\n  {\r\n    return this.ListFilter.find((v)=>v.id===item.id)?true:false;\r\n  }\r\n  ApplyFilterColum(menu:any)\r\n  {    \r\n\r\n    this.ListFilter.forEach((v) => {\r\n      const exists = this.dataSource().data.find((d: any) => d.id === v.id);\r\n       v.sldat = exists?.sldat || 1;\r\n       v.slgiao = exists?.slgiao || 1;\r\n       v.slnhan = exists?.slnhan || 1;\r\n    });\r\n    this.DetailDonhang.update((v:any)=>{\r\n      v.sanpham =  this.ListFilter\r\n      return v\r\n    })  \r\n    this.dataSource().data = this.ListFilter;\r\n    this.dataSource().data.sort((a, b) => a.order - b.order);\r\n    menu.closeMenu();\r\n  }\r\n\r\nasync ImporExcel(event: any) {\r\n          const data = await readExcelFile(event)\r\n          this.DoImportData(data);\r\n         }   \r\n        ExportExcel(data:any,title:any) {\r\n            const transformedData = data.map((v: any) => ({\r\n              masp: v.masp?.trim()||'',\r\n              giaban: Number(v.giaban)||0,\r\n              sldat: Number(v.sldat)||0,\r\n              slgiao: Number(v.slgiao)||0,\r\n              slnhan: Number(v.slnhan)||0,\r\n              ttdat: Number(v.ttdat)||0,\r\n              ttgiao: Number(v.ttgiao)||0,\r\n              ttnhan: Number(v.ttnhan)||0,\r\n              ghichu: v.ghichu?.trim()||'',\r\n           }));\r\n            writeExcelFile(transformedData,title);\r\n          }\r\n          DoImportData(data:any)\r\n          {\r\n            const transformedData = data.map((v: any) => ({\r\n              masp: v.masp?.trim()||'',\r\n              giaban: Number(v.giaban)||0,\r\n              sldat: Number(v.sldat)||0,\r\n              slgiao: Number(v.slgiao)||0,\r\n              slnhan: Number(v.slnhan)||0,\r\n              ttdat: Number(v.ttdat)||0,\r\n              ttgiao: Number(v.ttgiao)||0,\r\n              ttnhan: Number(v.ttnhan)||0,\r\n              ghichu: v.ghichu?.trim()||'',\r\n           }));\r\n           this.ListFilter = transformedData.map((item:any) => {\r\n            const item1 = this.ListSanpham().find((v1:any) => v1.masp === item.masp);\r\n            if (item1) {\r\n              return { ...item1, ...item };\r\n            }\r\n            return item;\r\n          });\r\n           this.dataSource().data = this.ListFilter\r\n           this.DetailDonhang.update((v:any)=>{\r\n             v.sanpham = this.ListFilter\r\n             return v\r\n           })  \r\n           \r\n           this._snackBar.open('Cập Nhật Thành Công', '', {\r\n                  duration: 1000,\r\n                  horizontalPosition: 'end',\r\n                  verticalPosition: 'top',\r\n                  panelClass: ['snackbar-success'],\r\n            });\r\n        }\r\n}\r\n", "<div class=\"flex flex-row justify-between items-center space-x-2 p-2\">\r\n  <button mat-icon-button color=\"primary\" (click)=\"goBack()\">\r\n    <mat-icon>arrow_back</mat-icon>\r\n  </button>\r\n  <div class=\"p-2 font-bold truncate\">{{ DetailDonhang()?.madonhang || 'Không có dữ liệu' }}</div>\r\n  <div class=\"flex flex-row space-x-2 items-center\">\r\n    <!-- <mat-slide-toggle [(ngModel)]=\"DetailDonhang().isActive\" [disabled]=\"!isEdit()\">{{DetailDonhang().isActive?'Hiển Thị':'Ẩn'}}</mat-slide-toggle> -->\r\n    <button mat-icon-button color=\"primary\" (click)=\"CoppyDon()\">\r\n      <mat-icon>content_copy</mat-icon>\r\n    </button>\r\n\r\n    <!-- <button mat-icon-button color=\"primary\" (click)=\"printContent()\">\r\n      <mat-icon>print</mat-icon>\r\n    </button> -->\r\n    @if(!DetailDonhang().status || DetailDonhang().status === 'dadat') {\r\n    <button mat-icon-button color=\"primary\" *ngIf=\"isEdit()\" (click)=\"handleDonhangAction()\">\r\n      <mat-icon>save</mat-icon>\r\n    </button>\r\n    <button mat-icon-button color=\"primary\" *ngIf=\"!isEdit()\" (click)=\"toggleEdit()\">\r\n      <mat-icon>edit</mat-icon>\r\n    </button>\r\n    <!-- <button mat-icon-button color=\"warn\" *ngIf=\"!isEdit()\" (click)=\"toggleDelete()\">\r\n      <mat-icon>delete</mat-icon>\r\n    </button> -->\r\n    }\r\n  </div>\r\n</div>\r\n\r\n<div class=\"relative flex flex-col w-full p-4 overflow-auto\">\r\n  <ng-container *ngIf=\"isDelete()\">\r\n    <div class=\"flex flex-col space-y-4 items-center justify-center\">\r\n      <div class=\"font-bold text-2xl\">Bạn chắc chắn muốn xoá không?</div>\r\n      <div class=\"flex flex-row space-x-2 items-center justify-center\">\r\n        <button mat-flat-button color=\"primary\" (click)=\"DeleteData()\">Đồng Ý</button>\r\n        <button mat-flat-button color=\"warn\" (click)=\"toggleDelete()\">Huỷ Bỏ</button>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n  <ng-container *ngIf=\"!isDelete()\">\r\n    <div id=\"printContent\" class=\"min-w-[800px] flex flex-col space-y-6 items-center p-2 border rounded-lg\">\r\n      <div class=\"w-full flex flex-col space-y-4 items-center justify-center\">\r\n        <div *ngIf=\"!isEdit()\" class=\"w-full flex flex-row space-x-2 items-center justify-between\">\r\n          <img src=\"/images/logo-full.png\" class=\"h-20 mx-auto\">\r\n          <div class=\"w-2/3 flex flex-col space-y-2\">\r\n            <div class=\"font-bold text-[18px]\">CÔNG TY TNHH NÔNG SẢN THỰC PHẨM TRẦN GIA</div>\r\n            <div>Hợp tác xã: Ấp Lộc Tiến, Xã Mỹ Lộc, Huyện Cần Giuộc, Tỉnh Long An</div>\r\n            <div>Văn phòng: Tòa nhà An Phú Plaza, 117-119 Lý Chính Thắng, P.7, Q.3, TP.HCM</div>\r\n            <div>Kho sơ chế: 30 Kha Vạn Cân, P. Hiệp Bình Chánh, TP. Thủ Đức, TP.HCM</div>\r\n            <div>Website: http://rausachtrangia.com - Hotline: 090.245.8081</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"font-bold text-[18px] uppercase\">Bảng Sao Kê Hàng Ngày</div>\r\n        <div class=\"font-bold text-[18px] uppercase {{DetailDonhang()?.khachhangId?'':'text-red-700 italic'}}\">\r\n          {{DetailDonhang()?.khachhang?.name||\"Chưa Chọn Khách Hàng\"}}</div>\r\n        <div *ngIf=\"isEdit() && DetailDonhang()?.khachhang?.ghichu\" class=\"p-2 rounded-lg border text-red-600\"\r\n          [innerHTML]=\"DetailDonhang().khachhang.ghichu\"></div>\r\n        <div *ngIf=\"isEdit()\" class=\"grid lg:grid-cols-3 grid-cols-1 gap-4\">\r\n          <mat-form-field appearance=\"outline\" subscriptSizing=\"dynamic\">\r\n            <mat-label>Khách Hàng</mat-label>\r\n            <mat-select [(ngModel)]=\"DetailDonhang().khachhangId\" [ngModelOptions]=\"{ standalone: true }\"\r\n              (selectionChange)=\"SelectKhachhang($event)\">\r\n              <div class=\"w-full flex flex-col\">\r\n                <mat-form-field appearance=\"outline\" class=\"w-full p-2\" subscriptSizing=\"dynamic\">\r\n                  <input matInput (input)=\"DoFindKhachhang($event)\" placeholder=\"Tìm Kiếm\"\r\n                    [disabled]=\"isLoadingKhachhang()\" />\r\n                </mat-form-field>\r\n                <div class=\"overflow-y-auto max-h-44\" *ngIf=\"!isLoadingKhachhang()\">\r\n                  @for (item of filterKhachhang; track item.id) {\r\n                  <mat-option [value]=\"item.id\">{{item.name}}</mat-option>\r\n                  }\r\n                  @empty {\r\n                  <mat-option disabled>Không có dữ liệu</mat-option>\r\n                  }\r\n                </div>\r\n              </div>\r\n            </mat-select>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"outline\" subscriptSizing=\"dynamic\">\r\n            <mat-label>Bảng Giá</mat-label>\r\n            <mat-select [(ngModel)]=\"DetailDonhang().khachhang.banggiaId\" [ngModelOptions]=\"{ standalone: true }\"\r\n              (selectionChange)=\"SelectBanggia($event)\">\r\n              <div class=\"w-full flex flex-col\">\r\n                <mat-form-field appearance=\"outline\" class=\"w-full p-2\" subscriptSizing=\"dynamic\">\r\n                  <input matInput (input)=\"DoFindBanggia($event)\" placeholder=\"Tìm Kiếm\" />\r\n                </mat-form-field>\r\n                <div class=\"overflow-y-auto max-h-44\">\r\n                  @for (item of filterBanggia; track item.id) {\r\n                  <mat-option [value]=\"item.id\">\r\n                    {{item.title}}\r\n                  </mat-option>\r\n                  }\r\n                </div>\r\n              </div>\r\n            </mat-select>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field [appearance]=\"'outline'\" [subscriptSizing]=\"'dynamic'\">\r\n            <mat-label>Ngày Giao Hàng</mat-label>\r\n            <input matInput [matDatepicker]=\"datepicker\" [(ngModel)]=\"DetailDonhang().ngaygiao\"\r\n              [ngModelOptions]=\"{ standalone: true }\" />\r\n            <mat-datepicker-toggle matIconSuffix [for]=\"datepicker\"></mat-datepicker-toggle>\r\n            <mat-datepicker #datepicker></mat-datepicker>\r\n          </mat-form-field>\r\n\r\n          <mat-form-field appearance=\"outline\" class=\"w-full lg:col-span-3\" subscriptSizing=\"dynamic\">\r\n            <mat-label>Ghi Chú Đơn Hàng</mat-label>\r\n            <textarea matInput [(ngModel)]=\"DetailDonhang().ghichu\" [ngModelOptions]=\"{ standalone: true }\"\r\n              placeholder=\"Vui lòng Nhập Ghi Chú\"></textarea>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div class=\"w-full flex items-start\"><strong>Địa Chỉ : </strong> {{DetailDonhang()?.khachhang?.diachi}}</div>\r\n        <div class=\"w-full flex items-start\"><strong>Ghi Chú : </strong> {{DetailDonhang()?.ghichu}}</div>\r\n        <div class=\"w-full flex items-start\"><strong>Số Điện Thoại : </strong> {{DetailDonhang()?.khachhang?.sdt}}</div>\r\n        <div class=\"w-full flex items-start\"><strong>Tổng khối lượng :\r\n            {{TinhTong(DetailDonhang().sanpham,'slgiao')|number:'1.0-2'}}</strong> </div>\r\n\r\n        <div *ngIf=\"isEdit()\" class=\"w-full flex flex-col overflow-y-auto\">\r\n          @defer () {\r\n          <div\r\n            class=\"cursor-pointer w-full relative flex lg:flex-row lg:space-y-2 space-y-0 flex-col space-x-2 justify-between items-center p-2 bg-white rounded-lg\">\r\n            <div class=\"w-full flex flex-row space-x-2 items-center\">\r\n              <button mat-flat-button color=\"primary\" [disabled]=\"!isEdit()\" [matMenuTriggerFor]=\"menu\"\r\n                #menuTrigger=\"matMenuTrigger\">\r\n                {{ListFilter.length}} Sản Phẩm\r\n              </button>\r\n              <mat-menu #menu=\"matMenu\">\r\n                <div (click)=\"$event.stopPropagation()\" class=\"cursor-pointer flex flex-col space-y-4 p-3\">\r\n                  <div class=\"relative w-full\">\r\n                    <input type=\"text\" placeholder=\"Tìm Kiếm...\" (keyup)=\"doFilterSanpham($event)\" #searchInput\r\n                      class=\"block w-full pl-10 pr-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40\">\r\n                    <div class=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\r\n                      <span class=\"material-symbols-outlined text-gray-500\">search</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"flex flex-row space-x-2 items-center justify-between\">\r\n                    <div class=\"flex flex-row space-x-2 items-center\">\r\n                      <span class=\"text-xs text-blue-600 underline\" (click)=\"ChosenAll(filterSanpham)\">Chọn Tất Cả\r\n                        {{ListFilter.length}}</span>\r\n                      <span class=\"text-xs text-blue-600 underline\" (click)=\"EmptyFiter()\">Xoá</span>\r\n                    </div>\r\n\r\n                    <span class=\"text-xs text-blue-600 underline\" (click)=\"ResetFilter()\">Reset</span>\r\n                  </div>\r\n                  <div class=\"w-full flex flex-col space-y-2 max-h-44 overflow-auto\">\r\n                    <div *ngFor=\"let item of filterSanpham; trackBy:trackByFn\" (click)=\"ChosenItem(item)\"\r\n                      class=\"flex flex-row space-x-2 items-center p-2 rounded-lg hover:bg-slate-100\">\r\n                      <span *ngIf=\"CheckItem(item)\" class=\"material-symbols-outlined text-blue-600\">check</span>\r\n                      {{item.title ||'Chưa Có Tên'}}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"flex flex-row space-x-2 items-end justify-end\">\r\n                    <button mat-flat-button color=\"warn\" (click)=\"menuTrigger.closeMenu()\">Đóng</button>\r\n                    <button mat-flat-button color=\"primary\" (click)=\"ApplyFilterColum(menuTrigger)\">Áp Dụng</button>\r\n                  </div>\r\n                </div>\r\n              </mat-menu>\r\n              <mat-form-field appearance=\"outline\" subscriptSizing=\"dynamic\">\r\n                <mat-label>Tìm Kiếm</mat-label>\r\n                <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"Tìm Kiếm\" />\r\n              </mat-form-field>\r\n              <button [disabled]=\"!isEdit()\" matTooltip=\"Làm Trống Giỏ Hàng\" (click)=\"EmptyCart()\" color=\"warn\"\r\n                mat-icon-button>\r\n                <mat-icon>delete</mat-icon>\r\n              </button>\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"w-full overflow-auto\">\r\n            <table class=\"!border w-full cursor-pointer\" mat-table [dataSource]=\"dataSource()\">\r\n              @for (column of displayedColumns; track column) {\r\n              <ng-container [matColumnDef]=\"column\">\r\n                <th class=\"whitespace-nowrap\" mat-header-cell *matHeaderCellDef>\r\n                  <span class=\"line-clamp-4 me-4\">\r\n                    {{ ColumnName[column] }}\r\n                  </span>\r\n                </th>\r\n                <td mat-cell *matCellDef=\"let row; let idx = index\">\r\n                  @switch (column) {\r\n                  @case ('STT') {\r\n                  <span class=\"max-w-20 line-clamp-4 flex flex-row items-center\">\r\n                    <span>{{ idx + 1 }} </span>\r\n                    <button mat-icon-button color=\"warn\"\r\n                      (click)=\"RemoveSanpham(row)\"><mat-icon>delete</mat-icon></button>\r\n                  </span>\r\n                  }\r\n                  @case ('sldat') {                  @if(permissions?.includes('donhang.sldat')) {\r\n                  <div [contentEditable]=\"true\" \r\n                       (focus)=\"onInputFocus($event)\"\r\n                       (blur)=\"updateBlurValue($event,idx, row, 'sldat','number')\"\r\n                       (keydown.enter)=\"updateValue($event,idx, row, 'sldat','number')\"\r\n                       class=\"sldat-input p-2 min-w-28 text-end bg-slate-200 focus:border rounded-lg focus:border-blue-600 focus:bg-slate-100 focus:outline-none\">\r\n                    {{ row[column]||0|number:'1.0-2' }}\r\n                  </div>\r\n                  } @else {\r\n                  <div class=\"text-end\">{{ row[column]||0|number:'1.0-2' }}</div>\r\n                  }\r\n                  }\r\n                  @case ('slgiao') {\r\n                  <div class=\"text-end\">{{ row[column]||0|number:'1.0-2' }}</div>\r\n                  }\r\n                  @case ('slnhan') {\r\n                  <div class=\"text-end\">{{ row[column]||0|number:'1.0-2' }}</div>\r\n                  }\r\n                  @case ('ghichu') {                  <div [contentEditable]=\"true\"\r\n                       (focus)=\"onInputFocus($event)\" \r\n                       (blur)=\"updateBlurValue($event,idx, row, 'ghichu','string')\"\r\n                       (keydown.enter)=\"updateValue($event,idx, row, 'ghichu','string')\"\r\n                       class=\"ghichu-input p-2 min-w-28 bg-slate-200 focus:border rounded-lg focus:border-blue-600 focus:bg-slate-100 focus:outline-none\">\r\n                    {{ row[column]||'' }}\r\n                  </div>\r\n                  }\r\n                  @default {\r\n                  <span class=\"max-w-40 line-clamp-4\">\r\n                    {{ row[column] }}\r\n                  </span>\r\n                  }\r\n                  }\r\n                </td>\r\n              </ng-container>\r\n              }\r\n              <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n              <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n              <tr class=\"mat-row\" *matNoDataRow>\r\n                <td class=\"mat-cell p-4\" colspan=\"4\">Không tìm thấy</td>\r\n              </tr>\r\n            </table>\r\n            <!-- <mat-paginator [pageSizeOptions]=\"[5, 10, 25, 100,dataSource().data.length]\" [pageSize]=\"dataSource().data.length\"></mat-paginator> -->\r\n          </div>\r\n          }\r\n        </div>\r\n\r\n        <table *ngIf=\"!isEdit()\" class=\"w-full border-collapse border mt-4\">\r\n          <thead>\r\n            <tr class=\"border\">\r\n              <th class=\"border p-2\">STT</th>\r\n              <th class=\"border p-2\">Tên sản phẩm</th>\r\n              <th class=\"border p-2\">ĐVT</th>\r\n              <th class=\"border p-2 max-w-10\">SL Đặt</th>\r\n              <th class=\"border p-2 max-w-10\">SL Giao</th>\r\n              <th class=\"border p-2 max-w-10\">SL Nhận</th>\r\n              <th class=\"border p-2\">Ghi chú</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            @for (item of DetailDonhang().sanpham; track item.id; let idx = $index) {\r\n            <tr class=\"border\">\r\n              <td class=\"border p-2 text-center\">{{idx+1}}</td>\r\n              <td class=\"border p-2\">{{item.title}}</td>\r\n              <td class=\"border p-2 text-center\">{{item.dvt}}</td>\r\n              <td class=\"border p-2 text-end max-w-10\">{{item.sldat|number:'1.0-2'}}</td>\r\n              <td class=\"border p-2 text-end max-w-\">{{item.slgiao|number:'1.0-2'}}</td>\r\n              <td class=\"border p-2 text-end max-w-10\">{{item.slnhan|number:'1.0-2'}}</td>\r\n              <td class=\"border p-2\">{{item.ghichu}}</td>\r\n            </tr>\r\n            }\r\n            <tr class=\"border\">\r\n              <td colspan=\"3\" class=\"border p-2 text-start\">Tổng:</td>\r\n              <td class=\"border p-2 text-end font-bold\">{{TinhTong(DetailDonhang().sanpham,'sldat')|number:'1.0-2'}}\r\n              </td>\r\n              <td class=\"border p-2 text-end font-bold\">{{TinhTong(DetailDonhang().sanpham,'slgiao')|number:'1.0-2'}}\r\n              </td>\r\n              <td class=\"border p-2 text-end font-bold\">{{TinhTong(DetailDonhang().sanpham,'slnhan')|number:'1.0-2'}}\r\n              </td>\r\n              <td class=\"border p-2 text-end\"></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div *ngIf=\"!isEdit()\" class=\"w-full text-end font-bold p-2\">Ngày In:</div>\r\n        <div *ngIf=\"!isEdit()\" class=\"w-full flex justify-between items-center text-center mt-6 p-2\">\r\n          <p><strong>Người vận chuyển</strong></p>\r\n          <p><strong>Người nhận hàng</strong></p>\r\n          <p><strong>Thủ kho</strong></p>\r\n          <p><strong>Người lập</strong></p>\r\n        </div>\r\n        <!-- <div class=\"w-full flex justify-between items-center text-center !mt-20 p-2\">\r\n        <p><strong>Nguyễn Văn A</strong></p>\r\n        <p><strong>Nguyễn Thị B</strong></p>\r\n        <p><strong>Lê Văn C</strong></p>\r\n        <p><strong>Ngô Thị D</strong></p>\r\n      </div> -->\r\n\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n</div>\r\n\r\n\r\n<ng-template #BgHethanDialog>\r\n  <mat-dialog-content class=\"!relative !flex flex-col space-y-8 items-center justify-center\">\r\n    <div class=\"relative flex flex-row space-x-2 items-center\">\r\n      <div class=\"text-red-600 italic\">Bảng giá này đã hết hạn, tiếp tục sử dụng</div>\r\n    </div>\r\n    <div class=\"relative flex flex-row space-x-2 items-center justify-center\">\r\n      <button mat-flat-button color=\"primary\" mat-dialog-close=\"true\">Đồng Ý</button>\r\n      <button mat-flat-button color=\"warn\" mat-dialog-close=\"false\">Huỷ Bỏ</button>\r\n    </div>\r\n  </mat-dialog-content>\r\n</ng-template>"],
  "mappings": "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",
  "names": ["moment"]
}

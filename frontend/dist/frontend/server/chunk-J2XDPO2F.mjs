import './polyfills.server.mjs';
import{a as Et}from"./chunk-XQUJIYMH.mjs";import{a as xt,b as vt,c as St,d as yt,e as Pt}from"./chunk-JE2A5Y3K.mjs";import"./chunk-RDKSMX2T.mjs";import{a as Mt}from"./chunk-24MZALMS.mjs";import{a as Ct}from"./chunk-KRT375CA.mjs";import"./chunk-7BHYQM75.mjs";import"./chunk-73IBRO6I.mjs";import{a as H,b as Y}from"./chunk-TSQ4X23A.mjs";import{a as z}from"./chunk-UCBMPSBV.mjs";import{b as pt}from"./chunk-IQIBQJQD.mjs";import"./chunk-6JZS72IP.mjs";import"./chunk-5BBGYI5R.mjs";import"./chunk-BRACC4JN.mjs";import{a as ct,b as dt}from"./chunk-QHN5TGS3.mjs";import{a as st,b as gt,c as ut,d as ht,e as ft}from"./chunk-4IFLAKZY.mjs";import{a as _t}from"./chunk-QQXKCOSP.mjs";import{k as mt}from"./chunk-EZYOKNQH.mjs";import{a as wt}from"./chunk-MGIVCIKU.mjs";import"./chunk-7TOIZ2AP.mjs";import{a as U,b as V}from"./chunk-5M63TDDJ.mjs";import{A as rt,b as j,g as q,h as R,i as X,j as J,k as Q,l as Z,n as $,o as tt,q as et,r as nt,t as it,w as ot,x as at,z as lt}from"./chunk-GS6CKRHG.mjs";import"./chunk-LLHDMVDC.mjs";import"./chunk-7ZQLLCLM.mjs";import"./chunk-GQMUTPQ3.mjs";import{a as N}from"./chunk-CG43H366.mjs";import"./chunk-ZNMWBP6O.mjs";import{a as F,c as G,e as W}from"./chunk-NORDYRBX.mjs";import"./chunk-IUNZBB2E.mjs";import{ja as A}from"./chunk-O3DAWGN3.mjs";import"./chunk-7T6LZHUD.mjs";import{a as K,d as B}from"./chunk-7FNXQ3TW.mjs";import"./chunk-3SL5GKZI.mjs";import{n as L,o as I,w as k}from"./chunk-NOPYZMUE.mjs";import{$b as E,Gb as D,Jc as o,Kc as p,Lc as x,Mc as P,Nb as f,Oc as s,Pc as g,Qc as u,Ra as y,Zb as m,jc as n,kc as t,lc as w,oa as h,pc as T,tb as r,uc as _,wc as C,xa as O,ya as b}from"./chunk-UIMG47TQ.mjs";import"./chunk-KB5IWD3E.mjs";import{a as v,b as S,g as Dt,j as M}from"./chunk-RIAI3ORJ.mjs";var bt=Dt(wt());function Tt(c,l){if(c&1&&(n(0,"mat-option",31)(1,"div",32)(2,"mat-icon",33),o(3),t(),n(4,"span"),o(5),t()()()),c&2){let i=l.$implicit;m("value",i.value),r(2),m("color",i.color),r(),p(i.icon),r(2),p(i.label)}}function Lt(c,l){if(c&1&&(n(0,"mat-option",31)(1,"div",34)(2,"span",35),o(3),t(),n(4,"span",36),o(5),t(),n(6,"span",37),o(7),t()()()),c&2){let i=l.$implicit,e=C();m("value",i.id),r(3),p(i.masp),r(2),p(i.title),r(2),p(e.formatCurrency(i.giaban))}}function It(c,l){if(c&1&&(n(0,"mat-option",31),o(1),t()),c&2){let i=l.$implicit;m("value",i.id),r(),P(" ",i.maphieu," - ",i.loaiphieu," ")}}function kt(c,l){if(c&1&&(n(0,"mat-option",31),o(1),t()),c&2){let i=l.$implicit,e=C();m("value",i.id),r(),P(" ",i.madonhang," - ",e.formatCurrency(i.tongtien)," ")}}function Kt(c,l){if(c&1&&(n(0,"mat-option",31),o(1),t()),c&2){let i=l.$implicit,e=C();m("value",i.id),r(),x(" ",e.getUserName(i.id)," ")}}function Bt(c,l){if(c&1&&(n(0,"div",40)(1,"div",41),o(2,"S\u1EA3n ph\u1EA9m:"),t(),n(3,"div",42),o(4),t()()),c&2){let i=C(2);r(4),p(i.getSanphamName(i.detail().sanphamId))}}function At(c,l){if(c&1&&(n(0,"mat-card",38)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),o(4,"preview"),t(),o(5," Xem tr\u01B0\u1EDBc giao d\u1ECBch "),t()(),n(6,"mat-card-content")(7,"div",39)(8,"div",40)(9,"div",41),o(10,"Lo\u1EA1i giao d\u1ECBch:"),t(),n(11,"div",42)(12,"mat-chip-listbox")(13,"mat-chip",43)(14,"mat-icon",44),o(15),t(),o(16),t()()()(),f(17,Bt,5,1,"div",45),n(18,"div",40)(19,"div",41),o(20,"S\u1ED1 l\u01B0\u1EE3ng thay \u0111\u1ED5i:"),t(),n(21,"div",42),o(22),t()(),n(23,"div",40)(24,"div",41),o(25,"Th\xE0nh ti\u1EC1n:"),t(),n(26,"div",46),o(27),t()()()()()),c&2){let i,e,d,a=C();r(13),m("color",(i=a.getLoaiGiaoDichOption(a.detail().loaiGiaoDich))==null?null:i.color),r(2),p((e=a.getLoaiGiaoDichOption(a.detail().loaiGiaoDich))==null?null:e.icon),r(),x(" ",(d=a.getLoaiGiaoDichOption(a.detail().loaiGiaoDich))==null?null:d.label," "),r(),m("ngIf",a.detail().sanphamId),r(4),E("positive",a.detail().soLuongThayDoi>0)("negative",a.detail().soLuongThayDoi<0),r(),P(" ",a.detail().soLuongThayDoi>0?"+":"","",a.detail().soLuongThayDoi," "),r(5),p(a.formatCurrency(a.calculateThanhTien()))}}function Ft(c,l){if(c&1){let i=T();n(0,"button",47),_("click",function(){O(i);let d=C();return b(d.saveData())}),n(1,"mat-icon"),o(2),t(),o(3),t()}if(c&2){let i=C();m("disabled",i.isLoading()||!i.isEdit()),r(2),p(i.isLoading()?"hourglass_empty":"save"),r(),x(" ",i.isLoading()?"\u0110ang l\u01B0u...":"L\u01B0u giao d\u1ECBch"," ")}}function Gt(c,l){c&1&&(n(0,"div",48)(1,"mat-icon",49),o(2,"hourglass_empty"),t(),n(3,"p"),o(4,"\u0110ang x\u1EED l\xFD..."),t()())}var Ot=class c{_listComponent=h(Et);_lichSuTonKhoService=h(Pt);_sanphamService=h(Ct);_userService=h(z);_phieukhoService=h(Mt);_donhangService=h(_t);_route=h(K);_router=h(B);_snackBar=h(N);detail=y({sanphamId:"",loaiGiaoDich:"",soLuongThayDoi:0,donGia:0,phieuKhoId:"",donhangId:"",userId:"",lyDo:"",ghichu:"",soChungTu:""});isEdit=y(!1);isLoading=y(!1);lichSuId=y("");filterSanpham=[];filterUsers=[];filterPhieuKho=[];filterDonhang=[];loaiGiaoDichOptions=[{value:"NHAP",label:"Nh\u1EADp kho",icon:"add_circle",color:"primary"},{value:"XUAT",label:"Xu\u1EA5t kho",icon:"remove_circle",color:"warn"},{value:"KIEM_KE",label:"Ki\u1EC3m k\xEA",icon:"fact_check",color:"accent"},{value:"DIEU_CHINH",label:"\u0110i\u1EC1u ch\u1EC9nh",icon:"tune",color:"primary"},{value:"CHUYEN_KHO",label:"Chuy\u1EC3n kho",icon:"swap_horiz",color:"accent"},{value:"HUY_HANG",label:"H\u1EE7y h\xE0ng",icon:"cancel",color:"warn"}];constructor(){this._route.paramMap.subscribe(l=>M(this,null,function*(){let i=l.get("id");this.lichSuId.set(i||""),this.isEdit.set(i==="0"),i&&i!=="0"?yield this.loadLichSuDetail(i):this.resetForm(),this._listComponent.drawer.open()}))}ngOnInit(){return M(this,null,function*(){yield this.loadInitialData()})}loadInitialData(){return M(this,null,function*(){try{yield this._sanphamService.getAllSanpham(),this.filterSanpham=this._sanphamService.ListSanpham().filter(l=>l.isActive),yield this._userService.getAllUser(),this.filterUsers=this._userService.ListUser().filter(l=>l.isActive),yield this._phieukhoService.getAllPhieukho(),this.filterPhieuKho=this._phieukhoService.ListPhieukho().filter(l=>l.isActive),yield this._donhangService.getAllDonhang(),this.filterDonhang=this._donhangService.ListDonhang().filter(l=>l.isActive)}catch(l){console.error("Error loading initial data:",l),this._snackBar.open("L\u1ED7i t\u1EA3i d\u1EEF li\u1EC7u ban \u0111\u1EA7u","\u0110\xF3ng",{duration:3e3})}})}loadLichSuDetail(l){return M(this,null,function*(){try{this.isLoading.set(!0),this._snackBar.open("\u0110ang xem chi ti\u1EBFt l\u1ECBch s\u1EED t\u1ED3n kho","\u0110\xF3ng",{duration:2e3})}catch(i){console.error("Error loading lich su detail:",i),this._snackBar.open("L\u1ED7i t\u1EA3i chi ti\u1EBFt l\u1ECBch s\u1EED","\u0110\xF3ng",{duration:3e3})}finally{this.isLoading.set(!1)}})}resetForm(){this.detail.set({sanphamId:"",loaiGiaoDich:"",soLuongThayDoi:0,donGia:0,phieuKhoId:"",donhangId:"",userId:"",lyDo:"",ghichu:"",soChungTu:this.generateSoChungTu()})}generateSoChungTu(){return`CT${(0,bt.default)().format("YYYYMMDD")}${this.genId()}`}genId(){return Math.random().toString(36).substr(2,9).toUpperCase()}saveData(){return M(this,null,function*(){try{if(!this.validateForm())return;this.isLoading.set(!0);let l=this.detail();if(this.isEdit()&&this.lichSuId()==="0")yield this._lichSuTonKhoService.createLichSuTonKho(l),this._snackBar.open("T\u1EA1o l\u1ECBch s\u1EED giao d\u1ECBch th\xE0nh c\xF4ng","\u0110\xF3ng",{duration:3e3});else{this._snackBar.open("C\u1EADp nh\u1EADt kh\xF4ng \u0111\u01B0\u1EE3c h\u1ED7 tr\u1EE3 cho l\u1ECBch s\u1EED t\u1ED3n kho","\u0110\xF3ng",{duration:3e3});return}this.closeDrawer(),yield this._listComponent.loadLichSuTonKho()}catch(l){console.error("Error saving data:",l),this._snackBar.open(l.message||"L\u1ED7i l\u01B0u d\u1EEF li\u1EC7u","\u0110\xF3ng",{duration:3e3})}finally{this.isLoading.set(!1)}})}validateForm(){let l=this.detail();return l.sanphamId?l.loaiGiaoDich?!l.soLuongThayDoi||l.soLuongThayDoi===0?(this._snackBar.open("Vui l\xF2ng nh\u1EADp s\u1ED1 l\u01B0\u1EE3ng thay \u0111\u1ED5i","\u0110\xF3ng",{duration:3e3}),!1):!0:(this._snackBar.open("Vui l\xF2ng ch\u1ECDn lo\u1EA1i giao d\u1ECBch","\u0110\xF3ng",{duration:3e3}),!1):(this._snackBar.open("Vui l\xF2ng ch\u1ECDn s\u1EA3n ph\u1EA9m","\u0110\xF3ng",{duration:3e3}),!1)}closeDrawer(){this._listComponent.drawer.close(),this._router.navigate(["/admin/lichsu-tonkho"])}getLoaiGiaoDichOption(l){return this.loaiGiaoDichOptions.find(i=>i.value===l)}getSanphamName(l){let i=this.filterSanpham.find(e=>e.id===l);return i?`${i.masp} - ${i.title}`:""}getUserName(l){let i=this.filterUsers.find(e=>e.id===l);return i?i.profile?.name||i.email:""}formatCurrency(l){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l||0)}onSanphamChange(l){this.detail.update(e=>S(v({},e),{sanphamId:l}));let i=this.filterSanpham.find(e=>e.id===l);i&&this.detail.update(e=>S(v({},e),{donGia:i.giaban||0}))}onLoaiGiaoDichChange(l){this.detail.update(i=>S(v({},i),{loaiGiaoDich:l}))}onSoLuongChange(l){this.detail.update(i=>{let e=S(v({},i),{soLuongThayDoi:l});return i.donGia,e})}calculateThanhTien(){let l=this.detail();return Math.abs(l.soLuongThayDoi)*(l.donGia||0)}static \u0275fac=function(i){return new(i||c)};static \u0275cmp=D({type:c,selectors:[["app-detail-lichsu-tonkho"]],decls:131,vars:23,consts:[[1,"detail-container"],[1,"detail-header"],[1,"detail-title"],["mat-icon-button","",1,"close-button",3,"click"],[1,"detail-content"],[1,"detail-form",3,"ngSubmit"],[1,"form-section"],[1,"form-row"],["appearance","outline",1,"form-field"],["matInput","","name","soChungTu","readonly","",3,"ngModelChange","ngModel"],["matSuffix",""],["name","loaiGiaoDich","required","",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"form-field-full"],["name","sanphamId","required","",3,"ngModelChange","selectionChange","ngModel"],["matInput","","type","number","name","soLuongThayDoi","required","",3,"ngModelChange","ngModel"],["matInput","","type","number","name","donGia",3,"ngModelChange","ngModel"],[1,"calculated-field"],[1,"calculated-label"],[1,"calculated-value"],["name","phieuKhoId",3,"ngModelChange","ngModel"],["value",""],["name","donhangId",3,"ngModelChange","ngModel"],["name","userId",3,"ngModelChange","ngModel"],["matInput","","name","lyDo","placeholder","Nh\u1EADp l\xFD do th\u1EF1c hi\u1EC7n giao d\u1ECBch",3,"ngModelChange","ngModel"],["matInput","","rows","3","name","ghichu","placeholder","Nh\u1EADp ghi ch\xFA th\xEAm...",3,"ngModelChange","ngModel"],["class","form-section preview-section",4,"ngIf"],[1,"detail-actions"],["mat-button","","type","button",1,"cancel-button",3,"click"],["mat-raised-button","","color","primary","type","button","class","save-button",3,"disabled","click",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[3,"value"],[1,"transaction-option"],[3,"color"],[1,"product-option"],[1,"product-code"],[1,"product-name"],[1,"product-price"],[1,"form-section","preview-section"],[1,"preview-grid"],[1,"preview-item"],[1,"preview-label"],[1,"preview-value"],["selected","",3,"color"],["matChipAvatar",""],["class","preview-item",4,"ngIf"],[1,"preview-value","money"],["mat-raised-button","","color","primary","type","button",1,"save-button",3,"click","disabled"],[1,"loading-overlay"],[1,"spinning"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon"),o(4),t(),o(5),t(),n(6,"button",3),_("click",function(){return e.closeDrawer()}),n(7,"mat-icon"),o(8,"close"),t()()(),w(9,"mat-divider"),n(10,"div",4)(11,"form",5),_("ngSubmit",function(){return e.saveData()}),n(12,"mat-card",6)(13,"mat-card-header")(14,"mat-card-title")(15,"mat-icon"),o(16,"info"),t(),o(17," Th\xF4ng tin c\u01A1 b\u1EA3n "),t()(),n(18,"mat-card-content")(19,"div",7)(20,"mat-form-field",8)(21,"mat-label"),o(22,"S\u1ED1 ch\u1EE9ng t\u1EEB"),t(),n(23,"input",9),u("ngModelChange",function(a){return g(e.detail().soChungTu,a)||(e.detail().soChungTu=a),a}),t(),n(24,"mat-icon",10),o(25,"receipt"),t()(),n(26,"mat-form-field",8)(27,"mat-label"),o(28,"Lo\u1EA1i giao d\u1ECBch"),t(),n(29,"mat-select",11),u("ngModelChange",function(a){return g(e.detail().loaiGiaoDich,a)||(e.detail().loaiGiaoDich=a),a}),_("selectionChange",function(a){return e.onLoaiGiaoDichChange(a.value)}),f(30,Tt,6,4,"mat-option",12),t(),n(31,"mat-icon",10),o(32,"swap_horiz"),t()()(),n(33,"mat-form-field",13)(34,"mat-label"),o(35,"S\u1EA3n ph\u1EA9m"),t(),n(36,"mat-select",14),u("ngModelChange",function(a){return g(e.detail().sanphamId,a)||(e.detail().sanphamId=a),a}),_("selectionChange",function(a){return e.onSanphamChange(a.value)}),f(37,Lt,8,4,"mat-option",12),t(),n(38,"mat-icon",10),o(39,"inventory_2"),t()()()(),n(40,"mat-card",6)(41,"mat-card-header")(42,"mat-card-title")(43,"mat-icon"),o(44,"calculate"),t(),o(45," Chi ti\u1EBFt giao d\u1ECBch "),t()(),n(46,"mat-card-content")(47,"div",7)(48,"mat-form-field",8)(49,"mat-label"),o(50,"S\u1ED1 l\u01B0\u1EE3ng thay \u0111\u1ED5i"),t(),n(51,"input",15),u("ngModelChange",function(a){return g(e.detail().soLuongThayDoi,a)||(e.detail().soLuongThayDoi=a),a}),_("ngModelChange",function(a){return e.onSoLuongChange(a)}),t(),n(52,"mat-icon",10),o(53,"plus_minus"),t(),n(54,"mat-hint"),o(55,"S\u1ED1 d\u01B0\u01A1ng: t\u0103ng t\u1ED3n kho, s\u1ED1 \xE2m: gi\u1EA3m t\u1ED3n kho"),t()(),n(56,"mat-form-field",8)(57,"mat-label"),o(58,"\u0110\u01A1n gi\xE1"),t(),n(59,"input",16),u("ngModelChange",function(a){return g(e.detail().donGia,a)||(e.detail().donGia=a),a}),t(),n(60,"mat-icon",10),o(61,"attach_money"),t()()(),n(62,"div",17)(63,"div",18)(64,"mat-icon"),o(65,"calculate"),t(),o(66," Th\xE0nh ti\u1EC1n "),t(),n(67,"div",19),o(68),t()()()(),n(69,"mat-card",6)(70,"mat-card-header")(71,"mat-card-title")(72,"mat-icon"),o(73,"description"),t(),o(74," Ch\u1EE9ng t\u1EEB li\xEAn quan "),t()(),n(75,"mat-card-content")(76,"div",7)(77,"mat-form-field",8)(78,"mat-label"),o(79,"Phi\u1EBFu kho"),t(),n(80,"mat-select",20),u("ngModelChange",function(a){return g(e.detail().phieuKhoId,a)||(e.detail().phieuKhoId=a),a}),n(81,"mat-option",21),o(82,"-- Kh\xF4ng ch\u1ECDn --"),t(),f(83,It,2,3,"mat-option",12),t(),n(84,"mat-icon",10),o(85,"receipt_long"),t()(),n(86,"mat-form-field",8)(87,"mat-label"),o(88,"\u0110\u01A1n h\xE0ng"),t(),n(89,"mat-select",22),u("ngModelChange",function(a){return g(e.detail().donhangId,a)||(e.detail().donhangId=a),a}),n(90,"mat-option",21),o(91,"-- Kh\xF4ng ch\u1ECDn --"),t(),f(92,kt,2,3,"mat-option",12),t(),n(93,"mat-icon",10),o(94,"shopping_cart"),t()()(),n(95,"mat-form-field",13)(96,"mat-label"),o(97,"Ng\u01B0\u1EDDi th\u1EF1c hi\u1EC7n"),t(),n(98,"mat-select",23),u("ngModelChange",function(a){return g(e.detail().userId,a)||(e.detail().userId=a),a}),n(99,"mat-option",21),o(100,"-- Kh\xF4ng ch\u1ECDn --"),t(),f(101,Kt,2,2,"mat-option",12),t(),n(102,"mat-icon",10),o(103,"person"),t()()()(),n(104,"mat-card",6)(105,"mat-card-header")(106,"mat-card-title")(107,"mat-icon"),o(108,"note"),t(),o(109," Th\xF4ng tin b\u1ED5 sung "),t()(),n(110,"mat-card-content")(111,"mat-form-field",13)(112,"mat-label"),o(113,"L\xFD do"),t(),n(114,"input",24),u("ngModelChange",function(a){return g(e.detail().lyDo,a)||(e.detail().lyDo=a),a}),t(),n(115,"mat-icon",10),o(116,"help"),t()(),n(117,"mat-form-field",13)(118,"mat-label"),o(119,"Ghi ch\xFA"),t(),n(120,"textarea",25),u("ngModelChange",function(a){return g(e.detail().ghichu,a)||(e.detail().ghichu=a),a}),t(),n(121,"mat-icon",10),o(122,"notes"),t()()()(),f(123,At,28,11,"mat-card",26),t()(),n(124,"div",27)(125,"button",28),_("click",function(){return e.closeDrawer()}),n(126,"mat-icon"),o(127,"cancel"),t(),o(128," H\u1EE7y "),t(),f(129,Ft,4,3,"button",29),t(),f(130,Gt,5,0,"div",30),t()),i&2&&(r(4),p(e.isEdit()?"add":"visibility"),r(),x(" ",e.isEdit()?"T\u1EA1o giao d\u1ECBch t\u1ED3n kho":"Chi ti\u1EBFt l\u1ECBch s\u1EED t\u1ED3n kho"," "),r(5),E("loading",e.isLoading()),r(13),s("ngModel",e.detail().soChungTu),r(6),s("ngModel",e.detail().loaiGiaoDich),r(),m("ngForOf",e.loaiGiaoDichOptions),r(6),s("ngModel",e.detail().sanphamId),r(),m("ngForOf",e.filterSanpham),r(14),s("ngModel",e.detail().soLuongThayDoi),r(8),s("ngModel",e.detail().donGia),r(9),x(" ",e.formatCurrency(e.calculateThanhTien())," "),r(12),s("ngModel",e.detail().phieuKhoId),r(3),m("ngForOf",e.filterPhieuKho),r(6),s("ngModel",e.detail().donhangId),r(3),m("ngForOf",e.filterDonhang),r(6),s("ngModel",e.detail().userId),r(3),m("ngForOf",e.filterUsers),r(13),s("ngModel",e.detail().lyDo),r(6),s("ngModel",e.detail().ghichu),r(3),m("ngIf",e.isEdit()&&e.detail().loaiGiaoDich),r(6),m("ngIf",e.isEdit()),r(),m("ngIf",e.isLoading()))},dependencies:[at,ot,et,nt,it,rt,lt,tt,Q,j,Z,q,R,$,J,X,V,U,W,F,G,dt,ct,A,mt,pt,k,L,I,ft,st,ut,ht,gt,Y,H,yt,vt,xt,St],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background-color:#fafafa}.detail-container.loading[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}.detail-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:24px;background:#fff;border-bottom:1px solid #e0e0e0;position:sticky;top:0;z-index:100}.detail-header[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0;font-size:20px;font-weight:500;color:#333}.detail-header[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:24px;height:24px;width:24px}.detail-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#666}.detail-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#333;background-color:#0000000a}.detail-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.detail-content[_ngcontent-%COMP%]   .detail-form[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.form-section[_ngcontent-%COMP%]{margin-bottom:24px;box-shadow:0 2px 4px #0000001a;border-radius:8px}.form-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:500;color:#1976d2}.form-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px}.form-section[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:16px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}}.form-field[_ngcontent-%COMP%]{width:100%}.form-field[_ngcontent-%COMP%]   mat-icon[matSuffix][_ngcontent-%COMP%]{color:#666}.form-field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form-field-full[_ngcontent-%COMP%]   mat-icon[matSuffix][_ngcontent-%COMP%]{color:#666}.transaction-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.transaction-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px}.product-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.product-option[_ngcontent-%COMP%]   .product-code[_ngcontent-%COMP%]{font-weight:500;color:#1976d2}.product-option[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{color:#333}.product-option[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{color:#666;font-size:12px}.calculated-field[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;background:linear-gradient(135deg,#f5f5f5,#e3f2fd);border-radius:8px;border-left:4px solid #1976d2;margin-top:16px}.calculated-field[_ngcontent-%COMP%]   .calculated-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:500;color:#1976d2}.calculated-field[_ngcontent-%COMP%]   .calculated-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px}.calculated-field[_ngcontent-%COMP%]   .calculated-value[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#2e7d32}.preview-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3e0,#f3e5f5);border:2px solid #ff9800}.preview-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#f57c00}.preview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.preview-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.preview-item[_ngcontent-%COMP%]   .preview-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#666;text-transform:uppercase}.preview-item[_ngcontent-%COMP%]   .preview-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.preview-item[_ngcontent-%COMP%]   .preview-value.positive[_ngcontent-%COMP%]{color:#2e7d32}.preview-item[_ngcontent-%COMP%]   .preview-value.negative[_ngcontent-%COMP%]{color:#d32f2f}.preview-item[_ngcontent-%COMP%]   .preview-value.money[_ngcontent-%COMP%]{color:#1976d2;font-weight:600}.preview-item[_ngcontent-%COMP%]   .preview-value[_ngcontent-%COMP%]   mat-chip-listbox[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{pointer-events:none}.detail-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:12px;padding:24px;background:#fff;border-top:1px solid #e0e0e0;position:sticky;bottom:0}.detail-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666}.detail-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{background-color:#0000000a}.detail-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:150px}.detail-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;color:#666}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffc;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000}.loading-overlay[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;color:#1976d2;margin-bottom:16px}.loading-overlay[_ngcontent-%COMP%]   mat-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.mat-mdc-form-field.ng-invalid.ng-touched[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%]{color:#f44336}.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{font-size:16px;line-height:24px}.mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]{min-height:56px;line-height:1.2}@media (max-width: 1200px){.detail-content[_ngcontent-%COMP%]{padding:16px}.detail-content[_ngcontent-%COMP%]   .detail-form[_ngcontent-%COMP%]{max-width:100%}.form-section[_ngcontent-%COMP%]{margin-bottom:16px}}@media (max-width: 768px){.detail-header[_ngcontent-%COMP%]{padding:16px}.detail-header[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]{font-size:18px}.detail-actions[_ngcontent-%COMP%]{padding:16px;flex-direction:column-reverse}.detail-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%], .detail-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:100%;justify-content:center}.preview-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.calculated-field[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}}@media (max-width: 480px){.detail-header[_ngcontent-%COMP%], .detail-content[_ngcontent-%COMP%], .detail-actions[_ngcontent-%COMP%]{padding:12px}.form-section[_ngcontent-%COMP%]{margin-bottom:12px}}@media (prefers-color-scheme: dark){.detail-container[_ngcontent-%COMP%]{background-color:#303030}.detail-header[_ngcontent-%COMP%]{background:#424242;border-bottom-color:#616161}.detail-header[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]{color:#fff}.detail-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{color:#ccc}.detail-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff1a}.form-section[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{background:#424242}.calculated-field[_ngcontent-%COMP%]{background:linear-gradient(135deg,#424242,#1e3a8a);border-left-color:#64b5f6}.calculated-field[_ngcontent-%COMP%]   .calculated-label[_ngcontent-%COMP%]{color:#64b5f6}.calculated-field[_ngcontent-%COMP%]   .calculated-value[_ngcontent-%COMP%]{color:#81c784}.detail-actions[_ngcontent-%COMP%]{background:#424242;border-top-color:#616161}}.form-section[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.form-section[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.mat-mdc-raised-button[_ngcontent-%COMP%]{transition:all .2s ease}.mat-mdc-raised-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 8px #0003}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%]{border-width:2px}.detail-container[_ngcontent-%COMP%]:focus-within   .detail-header[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 2px #1976d2}@media print{.detail-actions[_ngcontent-%COMP%], .close-button[_ngcontent-%COMP%]{display:none}.detail-container[_ngcontent-%COMP%]{height:auto;background:#fff}.form-section[_ngcontent-%COMP%]{break-inside:avoid;box-shadow:none;border:1px solid #ccc}}"]})};export{Ot as DetailLichSuTonKhoComponent};

import './polyfills.server.mjs';
import{a as pe}from"./chunk-O4PAWILV.mjs";import{c as _,d as J,e as C,f as U,g as W,h as X,i as Y,j as Z,l as ee,m as te,o as ie,p as ae,r as re,s as oe,u as ne,v as le,w as se,x as me}from"./chunk-X6IKIMW6.mjs";import{a as Q,b as A,c as j}from"./chunk-VW5LHHQG.mjs";import{b as T,c as K}from"./chunk-ZXWUWK7D.mjs";import{d as G}from"./chunk-ORWV4BGB.mjs";import{b as z}from"./chunk-RL7L6P7Q.mjs";import{v as $,y as q}from"./chunk-DXSBLPBS.mjs";import{e as O}from"./chunk-FDHKPA24.mjs";import{y as N,z as H}from"./chunk-F5IGDJ4O.mjs";import{b as P,d as F}from"./chunk-F5FU55DC.mjs";import{Cc as v,Dc as h,Ec as g,Gb as x,Ic as V,Jc as p,Lc as w,Nb as S,Sc as B,Zb as s,gc as L,hc as k,ic as R,jc as l,kc as o,lc as d,mc as E,nc as I,oa as D,pc as M,tb as n,uc as f,wc as m,xa as c,ya as u,yb as y}from"./chunk-UIMG47TQ.mjs";var de=["drawer"],fe=()=>[5,10,25,100];function ve(a,i){if(a&1&&(l(0,"th",22)(1,"span",23),p(2),o()()),a&2){let e=m().$implicit,t=m();n(2),w(" ",t.ColumnName[e]," ")}}function he(a,i){if(a&1&&(l(0,"td",24)(1,"span",23),p(2),o()()),a&2){let e=i.$implicit,t=i.index,r=m().$implicit;n(2),w(" ",r==="STT"?t+1:e[r]," ")}}function ge(a,i){if(a&1&&(E(0,15),S(1,ve,3,1,"th",20)(2,he,3,1,"td",21),I()),a&2){let e=i.$implicit;s("matColumnDef",e)}}function we(a,i){a&1&&d(0,"tr",25)}function _e(a,i){if(a&1){let e=M();l(0,"tr",26),f("click",function(){let r=c(e).$implicit,b=m();return u(b.goToDetail(r))}),o()}}function Ce(a,i){if(a&1&&(l(0,"tr",27)(1,"td",28),p(2),o()()),a&2){m();let e=V(10);n(2),w('Kh\xF4ng t\xECm th\u1EA5y "',e.value,'"')}}var ce=class a{constructor(i,e){this._breakpointObserver=i;this._router=e}Detail={};dataSource;displayedColumns=["STT","Title","author","category","createdAt","status"];ColumnName={STT:"STT",Title:"Ti\xEAu \u0110\u1EC1",author:"T\xE1c Gi\u1EA3",category:"Danh M\u1EE5c",createdAt:"Ng\xE0y T\u1EA1o",status:"Tr\u1EA1ng Th\xE1i"};paginator;sort;drawer;_GoogleSheetService=D(pe);ListBaiviet=[];ngOnInit(){let i=JSON.parse(localStorage.getItem("ListSheets")||"[]");if(console.log(i),i.length>0){let e=i.find(t=>t.SheetName==="Baiviet");e&&this._GoogleSheetService.getDrive(e).then(t=>{t.values.length>0&&(this.displayedColumns=t.values[0].map(r=>r),this.ColumnName=K(t.values),this.dataSource=new me(T(t.values)),this.ListBaiviet=T(t.values),console.log(this.ListBaiviet),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}this.Detail.id?this.drawer.open():this.drawer.close(),this._breakpointObserver.observe([H.Handset]).subscribe(e=>{e.matches?(this.drawer.mode="over",this.paginator.hidePageSize=!0):this.drawer.mode="side"})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.paginator._intl.itemsPerPageLabel="S\u1ED1 l\u01B0\u1EE3ng 1 trang",this.paginator._intl.nextPageLabel="Ti\u1EBFp Theo",this.paginator._intl.previousPageLabel="V\u1EC1 Tr\u01B0\u1EDBc",this.paginator._intl.firstPageLabel="Trang \u0110\u1EA7u",this.paginator._intl.lastPageLabel="Trang Cu\u1ED1i",this.paginator.pageSize=30}applyFilter(i){let e=i.target.value;this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}Create(){this.drawer.open(),this._router.navigate(["admin/baiviet",0])}goToDetail(i){this.drawer.open(),this.Detail=i,this._router.navigate(["admin/baiviet",i.id])}static \u0275fac=function(e){return new(e||a)(y(N),y(F))};static \u0275cmp=x({type:a,selectors:[["app-listbaiviet"]],viewQuery:function(e,t){if(e&1&&(v(_,5),v(C,5),v(de,7)),e&2){let r;h(r=g())&&(t.paginator=r.first),h(r=g())&&(t.sort=r.first),h(r=g())&&(t.drawer=r.first)}},decls:24,vars:7,consts:[["drawer",""],["input",""],["autosize","",1,"w-full","h-screen-16"],[1,"flex","flex-col","!w-full","h-full",3,"position"],[1,"flex","flex-col","space-y-2","h-full","w-full","justify-between","p-2"],[1,"flex","flex-col","space-y-2","w-full","p-2"],[1,"cursor-pointer","w-full","relative","grid","lg:grid-cols-2","gap-2","justify-between","items-center"],[1,"w-full","flex","flex-row","space-x-2","items-center"],[1,"relative"],["type","text","placeholder","T\xECm Ki\u1EBFm...",1,"block","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],[1,"cursor-pointer","material-symbols-outlined","p-2","rounded-lg","hover:bg-slate-100",3,"click"],[1,"w-full"],["mat-table","","matSort","",1,"!border","w-full","cursor-pointer",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of baiviets",3,"pageSizeOptions"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","","mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],[1,"max-w-40","line-clamp-4"],["mat-cell","",1,""],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){if(e&1){let r=M();l(0,"mat-drawer-container",2)(1,"mat-drawer",3,0),d(3,"router-outlet"),o(),l(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"input",9,1),f("keyup",function(ue){return c(r),u(t.applyFilter(ue))}),o(),l(11,"div",10)(12,"span",11),p(13,"search"),o()()(),l(14,"span",12),f("click",function(){return c(r),u(t.Create())}),p(15,"add_circle"),o()()(),l(16,"div",13)(17,"table",14),k(18,ge,3,1,"ng-container",15,L),S(20,we,1,0,"tr",16)(21,_e,1,0,"tr",17)(22,Ce,3,1,"tr",18),o(),d(23,"mat-paginator",19),o()()()()}e&2&&(s("@.disabled",!0),n(),s("position","end"),n(16),s("dataSource",t.dataSource),n(),R(t.displayedColumns),n(2),s("matHeaderRowDef",t.displayedColumns),n(),s("matRowDefColumns",t.displayedColumns),n(2),s("pageSizeOptions",B(6,fe)))},dependencies:[$,q,se,X,Z,ae,ee,Y,re,te,ie,oe,ne,le,W,C,U,J,_,G,j,Q,A,P,z,O],encapsulation:2})};export{ce as a};

import './polyfills.server.mjs';
import{a as $,b as ee}from"./chunk-3JKOBBLV.mjs";import"./chunk-C4XWPE4N.mjs";import"./chunk-DMGGUUBV.mjs";import"./chunk-FSTJ6JSA.mjs";import{a as Y,b as Z}from"./chunk-KYUCYOKG.mjs";import"./chunk-JA5FUANC.mjs";import{h as H}from"./chunk-WW242WY6.mjs";import{d as Q,e as M}from"./chunk-SWDJOT3A.mjs";import"./chunk-E4UQHXLJ.mjs";import{a as z}from"./chunk-N7XIKENO.mjs";import"./chunk-LAITRYTJ.mjs";import"./chunk-V7YBM5HH.mjs";import{h as J}from"./chunk-KRS63GVX.mjs";import"./chunk-SZJOKNG6.mjs";import"./chunk-BN6XI5AM.mjs";import{a as L,b as P}from"./chunk-TAON4PQZ.mjs";import{B as X,C as q,a as V,b as F,d as A,f as W,k as N,n as R,r as j,t as G,y as K,z as O}from"./chunk-XIST6WNA.mjs";import"./chunk-7AT6GB45.mjs";import"./chunk-7ZQLLCLM.mjs";import"./chunk-YYXDCV4S.mjs";import{a as I,d as B}from"./chunk-5LHJPPOW.mjs";import"./chunk-OFGMSNZN.mjs";import"./chunk-P5ZL7ANQ.mjs";import{o as k,s as T}from"./chunk-NAZY24PF.mjs";import{Bb as b,Cc as a,Dc as y,Hc as C,Ib as x,Ic as D,Jc as U,Na as E,Ub as u,dc as n,ec as o,gc as S,hc as w,jc as h,la as f,oc as g,od as v,pb as l,qc as m,ua as p,va as _}from"./chunk-5E4SNDDT.mjs";import"./chunk-KB5IWD3E.mjs";import{i as d}from"./chunk-AFOT676I.mjs";function ie(s,e){if(s&1){let t=h();n(0,"button",1),g("click",function(){p(t);let i=m();return _(i.handleUserAction())}),n(1,"mat-icon"),a(2,"save"),o()()}}function ne(s,e){if(s&1){let t=h();n(0,"button",1),g("click",function(){p(t);let i=m();return _(i.toggleEdit())}),n(1,"mat-icon"),a(2,"edit"),o()()}}function re(s,e){if(s&1){let t=h();S(0),n(1,"div",9)(2,"div",10),a(3,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),o(),n(4,"div",11)(5,"button",12),g("click",function(){p(t);let i=m();return _(i.DeleteData())}),a(6,"\u0110\u1ED3ng \xDD"),o(),n(7,"button",13),g("click",function(){p(t);let i=m();return _(i.toggleDelete())}),a(8,"Hu\u1EF7 B\u1ECF"),o()()(),w()}}function oe(s,e){if(s&1){let t=h();S(0),n(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),a(4,"Email"),o(),n(5,"input",16),U("ngModelChange",function(i){p(t);let c=m();return D(c.DetailUser().email,i)||(c.DetailUser().email=i),_(i)}),o()(),n(6,"mat-form-field",15)(7,"mat-label"),a(8,"S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i"),o(),n(9,"input",17),U("ngModelChange",function(i){p(t);let c=m();return D(c.DetailUser().SDT,i)||(c.DetailUser().SDT=i),_(i)}),o()()(),w()}if(s&2){let t=m();l(5),C("ngModel",t.DetailUser().email),u("disabled",!t.isEdit()),l(4),C("ngModel",t.DetailUser().SDT),u("disabled",!t.isEdit())}}var te=class s{_ListuserComponent=f(ee);_UserService=f($);_route=f(I);_router=f(B);_snackBar=f(z);constructor(){this._route.paramMap.subscribe(e=>{let t=e.get("id");this._UserService.setUserId(t)}),v(()=>d(this,null,function*(){let e=this._UserService.userId();e||(this._router.navigate(["/admin/user"]),this._ListuserComponent.drawer.close()),e==="0"?(this.DetailUser.set({title:M(8,!1),slug:M(8,!1)}),this._ListuserComponent.drawer.open(),this.isEdit.update(t=>!t),this._router.navigate(["/admin/user","0"])):(yield this._UserService.getUserByid(e),this._ListuserComponent.drawer.open(),this._router.navigate(["/admin/user",e]))}))}DetailUser=this._UserService.DetailUser;isEdit=E(!1);isDelete=E(!1);userId=this._UserService.userId;ngOnInit(){return d(this,null,function*(){})}handleUserAction(){return d(this,null,function*(){this.userId()==="0"?yield this.createUser():yield this.updateUser()})}createUser(){return d(this,null,function*(){try{yield this._UserService.CreateUser(this.DetailUser()),this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(e=>!e)}catch(e){console.error("L\u1ED7i khi t\u1EA1o user:",e)}})}updateUser(){return d(this,null,function*(){try{yield this._UserService.updateUser(this.DetailUser()),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(e=>!e)}catch(e){console.error("L\u1ED7i khi c\u1EADp nh\u1EADt user:",e)}})}DeleteData(){return d(this,null,function*(){try{yield this._UserService.DeleteUser(this.DetailUser()),this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/user"])}catch(e){console.error("L\u1ED7i khi x\xF3a user:",e)}})}goBack(){this._router.navigate(["/admin/user"]),this._ListuserComponent.drawer.close()}trackByFn(e,t){return t.id}toggleEdit(){this.isEdit.update(e=>!e)}toggleDelete(){this.isDelete.update(e=>!e)}FillSlug(){this.DetailUser.update(e=>(e.slug=Q(e.title),e))}static \u0275fac=function(t){return new(t||s)};static \u0275cmp=b({type:s,selectors:[["app-detailuser"]],decls:17,vars:8,consts:[[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],[3,"ngModelChange","ngModel","disabled"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[4,"ngIf"],[1,"flex","flex-col","space-y-4","items-center","justify-center"],[1,"font-bold","text-2xl"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"w-full","flex","flex-col","space-y-2"],["appearance","outline"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Email",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i",3,"ngModelChange","ngModel","disabled"]],template:function(t,r){if(t&1&&(n(0,"div",0)(1,"button",1),g("click",function(){return r.goBack()}),n(2,"mat-icon"),a(3,"arrow_back"),o()(),n(4,"div",2),a(5),o(),n(6,"div",3)(7,"mat-slide-toggle",4),U("ngModelChange",function(c){return D(r.DetailUser().isActive,c)||(r.DetailUser().isActive=c),c}),a(8),o(),x(9,ie,3,0,"button",5)(10,ne,3,0,"button",5),n(11,"button",6),g("click",function(){return r.toggleDelete()}),n(12,"mat-icon"),a(13,"delete"),o()()()(),n(14,"div",7),x(15,re,9,0,"ng-container",8)(16,oe,10,4,"ng-container",8),o()),t&2){let i;l(5),y(((i=r.DetailUser())==null?null:i.email)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),l(2),C("ngModel",r.DetailUser().isActive),u("disabled",!r.isEdit()),l(),y(r.DetailUser().isActive?"Hi\u1EC3n Th\u1ECB":"\u1EA8n"),l(),u("ngIf",r.isEdit()),l(),u("ngIf",!r.isEdit()),l(5),u("ngIf",r.isDelete()),l(),u("ngIf",!r.isDelete())}},dependencies:[O,K,G,q,X,j,W,N,R,P,L,A,V,F,J,H,T,k,Z,Y],encapsulation:2})};export{te as DetailUserComponent};

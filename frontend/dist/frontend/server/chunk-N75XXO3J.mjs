import './polyfills.server.mjs';
import{b as Et}from"./chunk-DKTXSSGW.mjs";import{a as wt}from"./chunk-PNFTAZUM.mjs";import{a as yt}from"./chunk-FMDRTRUK.mjs";import{a as vt,b as St}from"./chunk-PDYHWB5Z.mjs";import{a as rt,b as ot,c as at,d as st,e as j,f as lt,g as ct,h as mt,i as ht,j as pt,l as dt,m as ut,o as _t,p as gt,r as ft,s as kt,u as Ct,v as bt,w as xt,x as Q}from"./chunk-X6IKIMW6.mjs";import{c as Je,d as We,f as Ge,h as Ke}from"./chunk-4LVN7SW6.mjs";import{a as Fe,b as De,c as Re}from"./chunk-VW5LHHQG.mjs";import{a as it,b as nt}from"./chunk-XXX4GZPH.mjs";import{a as Ve,b as $e,c as Oe,d as je}from"./chunk-ORWV4BGB.mjs";import{a as Ae,b as ze}from"./chunk-ZLSCS2G7.mjs";import{b as Ne,g as Ue,j as He,n as Xe,p as qe,q as Qe,u as Ze,v as Ye,x as et,y as tt}from"./chunk-DXSBLPBS.mjs";import{a as f}from"./chunk-7ZQLLCLM.mjs";import{a as O,b as Me}from"./chunk-GX3T7A5D.mjs";import{a as Le,c as Ie,e as Be}from"./chunk-FDHKPA24.mjs";import{U as Pe,ia as Te,y as we,z as Ee}from"./chunk-F5IGDJ4O.mjs";import{b as ve,d as Se}from"./chunk-7FNXQ3TW.mjs";import{m as Ce,o as be,t as xe,w as ye}from"./chunk-NOPYZMUE.mjs";import{$b as ce,Cc as z,Dc as V,Ec as $,Gb as A,Hb as ae,Ic as L,Ja as te,Jc as s,Ka as ie,Kc as w,Lc as C,Mb as se,Mc as _e,Nb as k,Oa as ne,Oc as M,Pc as F,Qc as D,Ra as y,Sc as ge,Xa as re,Yb as le,Yc as G,Zb as _,_b as X,_c as K,ac as me,ad as I,bc as he,ec as E,gc as pe,hc as J,ia as Z,ic as W,ja as Y,jc as r,kc as o,kd as fe,la as ee,lc as S,mc as de,na as H,nc as ue,oa as b,pc as x,sd as q,tb as c,uc as g,wc as m,xa as d,xb as oe,xd as ke,ya as u}from"./chunk-UIMG47TQ.mjs";import{a as v,b as T,h as U,j as h}from"./chunk-RIAI3ORJ.mjs";var N=class a{constructor(t,e){this._StorageService=t;this._sharedSocketService=e;this.socket=this._sharedSocketService.getSocket(),this.listenChotkhoUpdates()}socket;CACHE_DURATION=5*60*1e3;_snackBar=b(O);ListChotkho=y([]);DetailChotkho=y({});page=y(1);totalPages=y(1);total=y(0);pageSize=y(50);chotkhoId=y(null);isLoading=y(!1);isRefreshing=y(!1);lastUpdated=y(null);setChotkhoId(t){this.chotkhoId.set(t)}CreateChotkho(t){return h(this,null,function*(){this.isLoading.set(!0);try{let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`,"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},body:JSON.stringify(v({},t))},i=yield fetch(`${f.APIURL}/chotkho/create`,e);if(!i.ok)return this.handleError(i.status),null;let n=yield i.json();return yield this.getAllChotkho({},!0),this.chotkhoId.set(n.id),this.lastUpdated.set(new Date),this._snackBar.open("T\u1EA1o ch\u1ED1t kho th\xE0nh c\xF4ng","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),n}catch(e){return console.error("L\u1ED7i t\u1EA1o ch\u1ED1t kho:",e),this.handleError(500),null}finally{this.isLoading.set(!1)}})}getAllChotkho(){return h(this,arguments,function*(t={},e=!1){e&&this.isRefreshing.set(!0);try{let i={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`,"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}};t=v({page:this.page().toString(),pageSize:this.pageSize().toString()},t);let n=new URLSearchParams;Object.entries(t).forEach(([P,R])=>{R!=null&&R!==""&&n.append(P,String(R))});let l=yield fetch(`${f.APIURL}/chotkho?${n}`,i);if(!l.ok)return this.handleError(l.status),[];let p=yield l.json();return this.ListChotkho.set(p.data||[]),this.page.set(p.page||1),this.totalPages.set(p.totalPages||1),this.total.set(p.total||0),this.pageSize.set(p.pageSize||this.pageSize()),this.lastUpdated.set(new Date),p.data||[]}catch(i){return console.error("L\u1ED7i t\u1EA3i d\u1EEF li\u1EC7u ch\u1ED1t kho:",i),this.handleError(500),[]}finally{this.isRefreshing.set(!1)}})}getUpdatedCodeIds(){return h(this,null,function*(){try{let t={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`}},e=yield fetch(`${f.APIURL}/chotkho/updateCodeIds`,t);e.ok||this.handleError(e.status);let i=yield e.json();return this.getAllChotkho(this.pageSize()),i.data}catch(t){console.error(t)}})}listenChotkhoUpdates(){this.socket.off("chotkho-updated"),this.socket.on("chotkho-updated",()=>h(this,null,function*(){console.log("\u{1F504} D\u1EEF li\u1EC7u ch\u1ED1t kho thay \u0111\u1ED5i, c\u1EADp nh\u1EADt l\u1EA1i..."),yield this.getAllChotkho({},!0)}))}getChotkhoBy(i){return h(this,arguments,function*(t,e=this.pageSize()){this.pageSize.set(e);try{let n={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`,"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},body:JSON.stringify(T(v({},t),{page:this.page(),limit:e}))},l=yield fetch(`${f.APIURL}/chotkho/findby`,n);if(!l.ok){this.handleError(l.status);return}let p=yield l.json();t.isOne===!0?this.DetailChotkho.set(p):(this.ListChotkho.set(p.data||[]),this.page.set(p.page||1),this.totalPages.set(p.totalPages||1),this.total.set(p.total||0),this.pageSize.set(e))}catch(n){console.error("L\u1ED7i t\xECm ki\u1EBFm ch\u1ED1t kho:",n),this.handleError(500)}})}updateChotkho(t){return h(this,null,function*(){try{let e={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`,"Cache-Control":"no-cache"},body:JSON.stringify(v({},t))},i=yield fetch(`${f.APIURL}/chotkho/update/${t.id}`,e);if(!i.ok)return this.handleError(i.status),null;let n=yield i.json();return yield this.getAllChotkho({},!0),n?.id&&(yield this.getChotkhoBy({id:n.id,isOne:!0})),n}catch(e){return console.error("L\u1ED7i c\u1EADp nh\u1EADt ch\u1ED1t kho:",e),this.handleError(500),null}})}DeleteChotkho(t){return h(this,null,function*(){try{let e={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`,"Cache-Control":"no-cache"}},i=yield fetch(`${f.APIURL}/chotkho/delete/${t.id}`,e);return i.ok?(yield this.getAllChotkho({},!0),!0):(this.handleError(i.status),!1)}catch(e){return console.error("L\u1ED7i x\xF3a ch\u1ED1t kho:",e),this.handleError(500),!1}})}generateReport(){return h(this,arguments,function*(t={}){try{let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:JSON.stringify(t)},i=yield fetch(`${f.APIURL}/chotkho/report`,e);return i.ok?yield i.json():(this.handleError(i.status),null)}catch(e){return console.error("L\u1ED7i t\u1EA1o b\xE1o c\xE1o:",e),null}})}bulkUpdateStatus(t,e){return h(this,null,function*(){try{let i={method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:JSON.stringify({ids:t,status:e})},n=yield fetch(`${f.APIURL}/chotkho/bulk-update-status`,i);return n.ok?(yield this.getAllChotkho({},!0),!0):(this.handleError(n.status),!1)}catch(i){return console.error("L\u1ED7i c\u1EADp nh\u1EADt h\xE0ng lo\u1EA1t:",i),!1}})}getStatistics(){return h(this,null,function*(){try{let t={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`}},e=yield fetch(`${f.APIURL}/chotkho/statistics`,t);return e.ok?yield e.json():(this.handleError(e.status),null)}catch(t){return console.error("L\u1ED7i l\u1EA5y th\u1ED1ng k\xEA:",t),null}})}findBySanpham(t,e=1,i=20){return h(this,null,function*(){try{let n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`}},l=yield fetch(`${f.APIURL}/chotkho/by-sanpham/${t}?page=${e}&limit=${i}`,n);return l.ok?yield l.json():(this.handleError(l.status),null)}catch(n){return console.error("L\u1ED7i t\xECm ch\u1ED1t kho theo s\u1EA3n ph\u1EA9m:",n),null}})}findByKho(t,e=1,i=20){return h(this,null,function*(){try{let n={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`}},l=yield fetch(`${f.APIURL}/chotkho/by-kho/${t}?page=${e}&limit=${i}`,n);return l.ok?yield l.json():(this.handleError(l.status),null)}catch(n){return console.error("L\u1ED7i t\xECm ch\u1ED1t kho theo kho:",n),null}})}advancedSearch(t){return h(this,null,function*(){try{let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`,"Cache-Control":"no-cache"},body:JSON.stringify(v({},t))},i=yield fetch(`${f.APIURL}/chotkho/advanced-search`,e);if(!i.ok)return this.handleError(i.status),[];let n=yield i.json();return this.ListChotkho.set(n.data||[]),this.page.set(n.page||1),this.totalPages.set(n.totalPages||1),this.total.set(n.total||0),n.data||[]}catch(e){return console.error("L\u1ED7i t\xECm ki\u1EBFm n\xE2ng cao:",e),[]}})}quickRefresh(){return h(this,null,function*(){try{yield this.getAllChotkho({},!0),this._snackBar.open("D\u1EEF li\u1EC7u \u0111\xE3 \u0111\u01B0\u1EE3c c\u1EADp nh\u1EADt","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}catch(t){console.error("L\u1ED7i refresh:",t)}})}validateChotkhoData(t){let e=[];return(!t.title||t.title.trim()==="")&&e.push("Ti\xEAu \u0111\u1EC1 kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"),t.ngayChot||e.push("Ng\xE0y ch\u1ED1t kho kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng"),t.slThucTe&&t.slThucTe<0&&e.push("S\u1ED1 l\u01B0\u1EE3ng th\u1EF1c t\u1EBF kh\xF4ng \u0111\u01B0\u1EE3c \xE2m"),{isValid:e.length===0,errors:e}}calculateChenhLech(t,e){return(e||0)-(t||0)}exportData(){return h(this,arguments,function*(t="excel",e={}){try{let i={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:JSON.stringify({format:t,filters:e})},n=yield fetch(`${f.APIURL}/chotkho/export`,i);if(!n.ok)return this.handleError(n.status),null;let l=yield n.blob(),p=window.URL.createObjectURL(l),P=document.createElement("a");return P.href=p,P.download=`chot-kho-${new Date().toISOString().split("T")[0]}.${t}`,P.click(),window.URL.revokeObjectURL(p),!0}catch(i){return console.error("L\u1ED7i export d\u1EEF li\u1EC7u:",i),!1}})}smartCheckChenhLech(t){return h(this,null,function*(){try{let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:JSON.stringify({chotKhoId:t,autoCorrect:!0})},i=yield fetch(`${f.APIURL}/chotkho/smart-check-chenhlech`,e);return i.ok?yield i.json():(this.handleError(i.status),null)}catch(e){return console.error("L\u1ED7i ki\u1EC3m tra ch\xEAnh l\u1EC7ch th\xF4ng minh:",e),null}})}generateImportTemplate(t="standard"){return h(this,null,function*(){try{let e=yield fetch(`${f.APIURL}/chotkho/import-template?type=${t}`,{method:"GET",headers:{Authorization:`Bearer ${this._StorageService.getItem("token")}`}});if(!e.ok)return this.handleError(e.status),!1;let i=yield e.blob(),n=window.URL.createObjectURL(i),l=document.createElement("a");return l.href=n,l.download=`mau-import-chot-kho-${t}.xlsx`,l.click(),window.URL.revokeObjectURL(n),!0}catch(e){return console.error("L\u1ED7i t\u1EA1o m\u1EABu import:",e),!1}})}importFromExcel(i){return h(this,arguments,function*(t,e={}){try{let n=new FormData;n.append("file",t),n.append("options",JSON.stringify(e));let l=yield fetch(`${f.APIURL}/chotkho/import`,{method:"POST",headers:{Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:n});if(!l.ok)return this.handleError(l.status),null;let p=yield l.json();return yield this.getAllChotkho({},!0),this._snackBar.open(`Import th\xE0nh c\xF4ng ${p.successCount} m\u1EE5c`,"",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),p}catch(n){return console.error("L\u1ED7i import:",n),null}})}backupData(t="full"){return h(this,null,function*(){try{let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:JSON.stringify({type:t})},i=yield fetch(`${f.APIURL}/chotkho/backup`,e);if(!i.ok)return this.handleError(i.status),!1;let n=yield i.blob(),l=window.URL.createObjectURL(n),p=document.createElement("a");return p.href=l,p.download=`backup-chot-kho-${t}-${new Date().toISOString().split("T")[0]}.zip`,p.click(),window.URL.revokeObjectURL(l),!0}catch(e){return console.error("L\u1ED7i sao l\u01B0u:",e),!1}})}restoreFromBackup(t){return h(this,null,function*(){try{let e=new FormData;e.append("backup",t);let i=yield fetch(`${f.APIURL}/chotkho/restore`,{method:"POST",headers:{Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:e});return i.ok?(yield this.getAllChotkho({},!0),this._snackBar.open("Ph\u1EE5c h\u1ED3i d\u1EEF li\u1EC7u th\xE0nh c\xF4ng","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),!0):(this.handleError(i.status),!1)}catch(e){return console.error("L\u1ED7i ph\u1EE5c h\u1ED3i:",e),!1}})}checkDuplicates(t){return h(this,null,function*(){try{let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:JSON.stringify(t)},i=yield fetch(`${f.APIURL}/chotkho/check-duplicates`,e);return i.ok?yield i.json():(this.handleError(i.status),null)}catch(e){return console.error("L\u1ED7i ki\u1EC3m tra tr\xF9ng l\u1EB7p:",e),null}})}optimizePerformance(){return h(this,null,function*(){try{let t={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:JSON.stringify({action:"optimize"})},e=yield fetch(`${f.APIURL}/chotkho/optimize`,t);if(!e.ok)return this.handleError(e.status),!1;let i=yield e.json();return this._snackBar.open("T\u1ED1i \u01B0u h\xF3a th\xE0nh c\xF4ng","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),i}catch(t){return console.error("L\u1ED7i t\u1ED1i \u01B0u h\xF3a:",t),!1}})}getSystemHealth(){return h(this,null,function*(){try{let t=yield fetch(`${f.APIURL}/chotkho/health`,{method:"GET",headers:{Authorization:`Bearer ${this._StorageService.getItem("token")}`}});return t.ok?yield t.json():(this.handleError(t.status),null)}catch(t){return console.error("L\u1ED7i ki\u1EC3m tra s\u1EE9c kh\u1ECFe h\u1EC7 th\u1ED1ng:",t),null}})}handleError(t){let e="L\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh",i="snackbar-error";switch(t){case 400:e="Th\xF4ng tin \u0111\xE3 t\u1ED3n t\u1EA1i ho\u1EB7c kh\xF4ng h\u1EE3p l\u1EC7";break;case 401:e="Phi\xEAn \u0111\u0103ng nh\u1EADp \u0111\xE3 h\u1EBFt h\u1EA1n, vui l\xF2ng \u0111\u0103ng nh\u1EADp l\u1EA1i";break;case 403:e="B\u1EA1n kh\xF4ng c\xF3 quy\u1EC1n th\u1EF1c hi\u1EC7n thao t\xE1c n\xE0y";break;case 404:e="Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u y\xEAu c\u1EA7u";break;case 422:e="D\u1EEF li\u1EC7u kh\xF4ng h\u1EE3p l\u1EC7";break;case 500:e="L\u1ED7i m\xE1y ch\u1EE7, vui l\xF2ng th\u1EED l\u1EA1i sau";break;case 503:e="D\u1ECBch v\u1EE5 t\u1EA1m th\u1EDDi kh\xF4ng kh\u1EA3 d\u1EE5ng";break;default:e=`L\u1ED7i HTTP ${t}`}this._snackBar.open(e,"\u0110\xF3ng",{duration:4e3,horizontalPosition:"end",verticalPosition:"top",panelClass:[i]})}static \u0275fac=function(e){return new(e||a)(H(Me),H(wt))};static \u0275prov=Z({token:a,factory:a.\u0275fac,providedIn:"root"})};function Mt(a,t){a&1&&S(0,"div",2)}var Ft=new ee("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Lt=(()=>{class a{_elementRef=b(ne);_ngZone=b(ie);_changeDetectorRef=b(fe);_renderer=b(oe);_cleanupTransitionEnd;_animationMode=b(re,{optional:!0});constructor(){let e=b(Ft,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=Tt(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=Tt(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new te;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||a)};static \u0275cmp=A({type:a,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,n){i&2&&(le("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),me("mat-"+n.color),ce("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",q],bufferValue:[2,"bufferValue","bufferValue",q],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[se],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,n){i&1&&(r(0,"div",0),S(1,"div",1),k(2,Mt,1,0,"div",2),o(),r(3,"div",3),S(4,"span",4),o(),r(5,"div",5),S(6,"span",4),o()),i&2&&(c(),X("flex-basis",n._getBufferBarFlexBasis()),c(),E(n.mode==="buffer"?2:-1),c(),X("transform",n._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return a})();function Tt(a,t=0,e=100){return Math.max(t,Math.min(e,a))}var It=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=ae({type:a});static \u0275inj=Y({imports:[Pe]})}return a})();var Rt=["drawer"],At=()=>({standalone:!0}),zt=(a,t)=>t.key;function Vt(a,t){if(a&1){let e=x();r(0,"button",46),g("click",function(){d(e);let n=m(),l=L(118);return u(n.openDeleteDialog(l))}),r(1,"mat-icon"),s(2,"delete"),o(),r(3,"span",21),s(4,"Xo\xE1"),o()()}}function $t(a,t){if(a&1){let e=x();r(0,"button",59),g("click",function(n){d(e);let l=m().$implicit;return m(4).toggleColumn(l),u(n.stopPropagation())}),r(1,"mat-icon"),s(2),o(),r(3,"span"),s(4),o()()}if(a&2){let e=m().$implicit;_("disabled",!0),c(2),w(e.isShow?"check_box":"check_box_outline_blank"),c(2),w(e.value)}}function Ot(a,t){if(a&1){let e=x();r(0,"button",27),g("click",function(n){d(e);let l=m().$implicit;return m(4).toggleColumn(l),u(n.stopPropagation())}),r(1,"mat-icon"),s(2),o(),r(3,"span"),s(4),o()()}if(a&2){let e=m().$implicit;c(2),w(e.isShow?"check_box":"check_box_outline_blank"),c(2),w(e.value)}}function jt(a,t){if(a&1&&k(0,$t,5,3,"button",57)(1,Ot,5,2,"button",58),a&2){let e=t.$implicit;E(e.key=="stt"?0:1)}}function Nt(a,t){if(a&1){let e=x();r(0,"th",47)(1,"button",51)(2,"mat-icon"),s(3,"tune"),o()(),r(4,"mat-menu",null,9)(6,"div",52)(7,"mat-form-field",53)(8,"input",54),g("input",function(n){d(e);let l=m(3);return u(l.doFilterColumns(n))})("click",function(n){return d(e),u(n.stopPropagation())}),o(),r(9,"mat-icon",55),s(10,"search"),o()(),r(11,"button",37),g("click",function(){d(e);let n=m(3);return u(n.updateDisplayedColumns())}),r(12,"mat-icon"),s(13,"check_circle"),o()()(),r(14,"div",56),J(15,jt,2,1,null,null,zt),o()()()}if(a&2){let e=L(5),i=m(3);c(),_("matMenuTriggerFor",e),c(14),W(i.FilterColumns)}}function Ut(a,t){a&1&&k(0,Nt,17,1,"th",50)}function Ht(a,t){if(a&1){let e=x();r(0,"th",48)(1,"span",61),s(2),o(),r(3,"app-searchfilter",62),g("OutFilter",function(n){d(e);let l=m(3);return u(l.onOutFilter(n))}),o()()}if(a&2){let e=m(2).$implicit,i=m();c(2),C(" ",i.ColumnName[e]," "),c(),_("icon","filter_alt")("ListItem",i.Listchotkho())("fieldsearch",e)("ListFilter",i.ListFilter)("filterItem",i.FilterHederColumn(i.dataSource.filteredData,e))}}function Xt(a,t){a&1&&k(0,Ht,4,6,"th",60)}function Jt(a,t){if(a&1){let e=x();r(0,"span",67),g("click",function(){d(e);let n=m().$implicit,l=m(2);return u(l.goToDetail(n))}),s(1),o()}if(a&2){let e=m().$implicit,i=m().$implicit;c(),C(" ",e[i]," ")}}function Wt(a,t){a&1&&(r(0,"mat-icon"),s(1,"check"),o())}function Gt(a,t){if(a&1&&(r(0,"span"),s(1),o()),a&2){let e=m(2).index;c(),w(e+1)}}function Kt(a,t){if(a&1){let e=x();r(0,"span",68),g("click",function(){d(e);let n=m().$implicit,l=m(2);return u(l.AddToEdit(n))}),k(1,Wt,2,0,"mat-icon")(2,Gt,2,1,"span"),o()}if(a&2){let e=m().$implicit,i=m(2);c(),E(i.CheckSelect(e)?1:2)}}function qt(a,t){if(a&1&&(r(0,"span",66),s(1),G(2,"date"),o()),a&2){let e=m().$implicit,i=m().$implicit;c(),C(" ",K(2,1,e[i],"dd/MM/yyyy")," ")}}function Qt(a,t){a&1&&(r(0,"mat-icon",69),s(1,"check_circle"),o())}function Zt(a,t){a&1&&(r(0,"mat-icon",70),s(1,"cancel"),o())}function Yt(a,t){if(a&1&&(r(0,"span",66),k(1,Qt,2,0,"mat-icon",69)(2,Zt,2,0,"mat-icon",70),o()),a&2){let e=m().$implicit,i=m().$implicit;c(),E(e[i]?1:2)}}function ei(a,t){if(a&1&&(r(0,"span",66),s(1),o()),a&2){let e=m().$implicit,i=m().$implicit;c(),C(" ",e[i]," ")}}function ti(a,t){if(a&1&&(r(0,"td",63),k(1,Jt,2,1,"span",64)(2,Kt,3,1,"span",65)(3,qt,3,4,"span",66)(4,Yt,3,1,"span",66)(5,ei,2,1,"span",66),o()),a&2){let e,i=m().$implicit;c(),E((e=i)==="codeId"?1:e==="stt"?2:e==="createdAt"?3:e==="isActive"?4:5)}}function ii(a,t){if(a&1&&(de(0,42),k(1,Ut,1,0,"th",47)(2,Xt,1,0,"th",48)(3,ti,6,1,"td",49),ue()),a&2){let e=t.$implicit;_("matColumnDef",e),c(),E(e=="stt"?1:2)}}function ni(a,t){a&1&&S(0,"tr",71)}function ri(a,t){if(a&1&&S(0,"tr",72),a&2){let e=t.$implicit,i=m();he("hover:bg-slate-50 ",i.CheckItemInEdit(e)?"!bg-blue-50":"","")}}function oi(a,t){a&1&&(r(0,"tr",73)(1,"td",74),s(2,"Kh\xF4ng t\xECm th\u1EA5y"),o()())}function ai(a,t){a&1&&(r(0,"mat-dialog-content")(1,"div",75)(2,"div",76),s(3,"X\xE1c Nh\u1EADn"),o(),r(4,"div"),s(5,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),o(),r(6,"div",77)(7,"button",78),s(8,"\u0110\u1ED3ng \xDD"),o(),r(9,"button",79),s(10,"Hu\u1EF7 B\u1ECF"),o()()()())}function si(a,t){if(a&1&&(r(0,"div",82),S(1,"mat-progress-bar",88),r(2,"div",89),s(3),o()()),a&2){let e=m(2);c(),_("value",e.importProgress),c(2),C("",e.importProgress,"% Complete")}}function li(a,t){if(a&1){let e=x();r(0,"mat-dialog-content")(1,"div",80)(2,"div",81),s(3,"Import Excel File"),o(),r(4,"div",82)(5,"input",83),g("change",function(n){d(e);let l=m();return u(l.onFileSelected(n))}),o()(),k(6,si,4,2,"div",84),r(7,"div",85)(8,"button",86),g("click",function(){d(e);let n=m();return u(n.startImport())}),s(9," Start Import "),o(),r(10,"button",87),s(11,"Cancel"),o()()()()}if(a&2){let e=m();c(6),_("ngIf",e.importProgress>0),c(2),_("disabled",!e.selectedFile||e.importProgress>0)}}function ci(a,t){if(a&1&&(r(0,"div",82),S(1,"mat-progress-bar",88),r(2,"div",89),s(3),o()()),a&2){let e=m(2);c(),_("value",e.exportProgress),c(2),C("",e.exportProgress,"% Complete")}}function mi(a,t){if(a&1){let e=x();r(0,"mat-dialog-content")(1,"div",80)(2,"div",81),s(3,"Export to Excel"),o(),r(4,"div",82)(5,"mat-form-field",90)(6,"mat-label"),s(7,"Export Type"),o(),r(8,"mat-select",91),D("valueChange",function(n){d(e);let l=m();return F(l.exportType,n)||(l.exportType=n),u(n)}),r(9,"mat-option",92),s(10,"All Data"),o(),r(11,"mat-option",93),s(12,"Filtered Data"),o(),r(13,"mat-option",94),s(14,"Selected Items"),o()()()(),k(15,ci,4,2,"div",84),r(16,"div",85)(17,"button",86),g("click",function(){d(e);let n=m();return u(n.startExport())}),s(18," Start Export "),o(),r(19,"button",87),s(20,"Cancel"),o()()()()}if(a&2){let e=m();c(8),M("value",e.exportType),c(7),_("ngIf",e.exportProgress>0),c(2),_("disabled",e.exportProgress>0)}}function hi(a,t){if(a&1){let e=x();r(0,"div",82)(1,"mat-form-field",90)(2,"mat-label"),s(3,"Backup Type"),o(),r(4,"mat-select",91),D("valueChange",function(n){d(e);let l=m(2);return F(l.backupType,n)||(l.backupType=n),u(n)}),r(5,"mat-option",95),s(6,"Full Backup"),o(),r(7,"mat-option",96),s(8,"Incremental Backup"),o()()(),r(9,"mat-form-field",90)(10,"mat-label"),s(11,"Backup Name"),o(),r(12,"input",97),D("ngModelChange",function(n){d(e);let l=m(2);return F(l.backupName,n)||(l.backupName=n),u(n)}),o()()()}if(a&2){let e=m(2);c(4),M("value",e.backupType),c(8),M("ngModel",e.backupName)}}function pi(a,t){if(a&1){let e=x();r(0,"div",82)(1,"input",98),g("change",function(n){d(e);let l=m(2);return u(l.onBackupFileSelected(n))}),o()()}}function di(a,t){if(a&1&&(r(0,"div",82),S(1,"mat-progress-bar",88),r(2,"div",89),s(3),o()()),a&2){let e=m(2);c(),_("value",e.backupProgress),c(2),C("",e.backupProgress,"% Complete")}}function ui(a,t){if(a&1){let e=x();r(0,"mat-dialog-content")(1,"div",80)(2,"div",81),s(3),o(),k(4,hi,13,2,"div",84)(5,pi,2,0,"div",84)(6,di,4,2,"div",84),r(7,"div",85)(8,"button",86),g("click",function(){d(e);let n=m();return u(n.isRestoreMode?n.startRestore():n.startBackup())}),s(9),o(),r(10,"button",87),s(11,"Cancel"),o()()()()}if(a&2){let e=m();c(3),w(e.isRestoreMode?"Restore Data":"Create Backup"),c(),_("ngIf",!e.isRestoreMode),c(),_("ngIf",e.isRestoreMode),c(),_("ngIf",e.backupProgress>0),c(2),_("disabled",e.backupProgress>0||e.isRestoreMode&&!e.selectedBackupFile||!e.isRestoreMode&&!e.backupName),c(),C(" ",e.isRestoreMode?"Start Restore":"Start Backup"," ")}}function _i(a,t){if(a&1&&(r(0,"div",102)(1,"div",103)(2,"span",104),s(3,"Database"),o(),r(4,"div",105)(5,"mat-icon",106),s(6),o(),r(7,"span",107),s(8),o()()(),r(9,"div",103)(10,"span",104),s(11,"API Server"),o(),r(12,"div",105)(13,"mat-icon",106),s(14),o(),r(15,"span",107),s(16),o()()(),r(17,"div",103)(18,"span",104),s(19,"Memory Usage"),o(),r(20,"div",105)(21,"mat-icon",106),s(22),o(),r(23,"span",107),s(24),o()()(),r(25,"div",108)(26,"span",104),s(27,"Last Check"),o(),r(28,"span",107),s(29),G(30,"date"),o()()()),a&2){let e=m(2);c(),_("ngClass",e.healthCheck.database.status==="healthy"?"bg-green-50":"bg-red-50"),c(4),_("ngClass",e.healthCheck.database.status==="healthy"?"text-green-500":"text-red-500"),c(),C(" ",e.healthCheck.database.status==="healthy"?"check_circle":"error"," "),c(2),C("",e.healthCheck.database.responseTime,"ms"),c(),_("ngClass",e.healthCheck.api.status==="healthy"?"bg-green-50":"bg-red-50"),c(4),_("ngClass",e.healthCheck.api.status==="healthy"?"text-green-500":"text-red-500"),c(),C(" ",e.healthCheck.api.status==="healthy"?"check_circle":"error"," "),c(2),C("",e.healthCheck.api.responseTime,"ms"),c(),_("ngClass",e.healthCheck.memory.status==="healthy"?"bg-green-50":"bg-yellow-50"),c(4),_("ngClass",e.healthCheck.memory.status==="healthy"?"text-green-500":"text-yellow-500"),c(),C(" ",e.healthCheck.memory.status==="healthy"?"check_circle":"warning"," "),c(2),C("",e.healthCheck.memory.usage,"%"),c(5),w(K(30,13,e.healthCheck.timestamp,"dd/MM/yyyy HH:mm:ss"))}}function gi(a,t){if(a&1){let e=x();r(0,"mat-dialog-content")(1,"div",99)(2,"div",81),s(3,"System Health Status"),o(),k(4,_i,31,16,"div",100),r(5,"div",85)(6,"button",101),g("click",function(){d(e);let n=m();return u(n.checkSystemHealth())}),s(7," Refresh Status "),o(),r(8,"button",87),s(9,"Close"),o()()()()}if(a&2){let e=m();c(4),_("ngIf",e.healthCheck)}}var B=class B{displayedColumns=[];ColumnName={stt:"#",codeId:"Code",title:"Ti\xEAu \u0110\u1EC1",description:"M\xF4 T\u1EA3",status:"Tr\u1EA1ng Th\xE1i",order:"Th\u1EE9 T\u1EF1",createdAt:"Ng\xE0y T\u1EA1o"};FilterColumns=JSON.parse(localStorage.getItem("ChotkhoColFilter")||"[]");Columns=[];paginator;sort;drawer;_ChotkhoService=b(N);_breakpointObserver=b(we);_router=b(Se);_dialog=b(Je);_snackBar=b(O);Listchotkho=this._ChotkhoService.ListChotkho;page=this._ChotkhoService.page;totalPages=this._ChotkhoService.totalPages;total=this._ChotkhoService.total;pageSize=this._ChotkhoService.pageSize;chotkhoId=this._ChotkhoService.chotkhoId;isLoading=this._ChotkhoService.isLoading;isRefreshing=this._ChotkhoService.isRefreshing;lastUpdated=this._ChotkhoService.lastUpdated;dataSource=new Q([]);EditList=[];isSearch=y(!1);searchParam={};performanceMetrics=y({loadTime:0,renderTime:0,totalItems:0,lastRefresh:null});selectedFile=null;selectedBackupFile=null;exportType="all";backupType="full";backupName="";isRestoreMode=!1;importProgress=0;exportProgress=0;backupProgress=0;healthCheck=null;constructor(){ke(()=>{let t=performance.now();this.dataSource.data=this.Listchotkho(),this.dataSource.sort=this.sort,this.paginator&&(this.paginator.pageIndex=this.page()-1,this.paginator.pageSize=this.pageSize(),this.paginator.length=this.total());let e=performance.now();this.performanceMetrics.update(i=>T(v({},i),{renderTime:e-t,totalItems:this.Listchotkho().length,lastRefresh:new Date}))})}ngOnInit(){return h(this,null,function*(){let t=performance.now();this._ChotkhoService.listenChotkhoUpdates(),yield this._ChotkhoService.getAllChotkho(this.searchParam),this.displayedColumns=Object.keys(this.ColumnName),this.dataSource=new Q(this.Listchotkho()),this.dataSource.sort=this.sort,this.initializeColumns(),this.setupDrawer();let e=performance.now();this.performanceMetrics.update(i=>T(v({},i),{loadTime:e-t}))})}initializeColumns(){this.Columns=Object.entries(this.ColumnName).map(([t,e])=>({key:t,value:e,isShow:!0})),this.FilterColumns=this.FilterColumns.length?this.FilterColumns:this.Columns,localStorage.setItem("ChotkhoColFilter",JSON.stringify(this.FilterColumns)),this.displayedColumns=this.FilterColumns.filter(t=>t.isShow).map(t=>t.key),this.ColumnName=this.FilterColumns.reduce((t,{key:e,value:i,isShow:n})=>n?T(v({},t),{[e]:i}):t,{})}applyFilter(t){let e=t.target.value;this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getUpdatedCodeIds(){return h(this,null,function*(){yield this._ChotkhoService.getUpdatedCodeIds()})}setupDrawer(){this._breakpointObserver.observe([Ee.Handset]).subscribe(t=>{t.matches?this.drawer.mode="over":this.drawer.mode="over"})}toggleColumn(t){let e=this.FilterColumns.find(i=>i.key===t.key);e&&(e.isShow=!e.isShow)}FilterHederColumn(t,e){return t.filter((n,l,p)=>l===p.findIndex(P=>P[e]===n[e]))}ListFilter=[];onOutFilter(t){this.dataSource.data=t,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}updateDisplayedColumns(){this.displayedColumns=this.FilterColumns.filter(t=>t.isShow).map(t=>t.key),this.ColumnName=this.FilterColumns.reduce((t,e)=>(e.isShow&&(t[e.key]=e.value),t),{}),localStorage.setItem("ChotkhoColFilter",JSON.stringify(this.FilterColumns))}doFilterColumns(t){let e=t.target.value.toLowerCase();this.FilterColumns=this.Columns.filter(i=>i.value.toLowerCase().includes(e))}create(){this.drawer.open(),this._router.navigate(["admin/chotkho","new"])}CheckSelect(t){return!!this.EditList.some(e=>e.id===t.id)}openDeleteDialog(t){this._dialog.open(t,{hasBackdrop:!0,disableClose:!0}).afterClosed().subscribe(i=>{i==="true"&&this.DeleteListItem()})}DeleteListItem(){this.EditList.forEach(t=>{this._ChotkhoService.DeleteChotkho(t)}),this.EditList=[],this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}AddToEdit(t){this.EditList.find(i=>i.id===t.id)?this.EditList=this.EditList.filter(i=>i.id!==t.id):this.EditList.push(t)}CheckItemInEdit(t){return this.EditList.some(e=>e.id===t.id)}goToDetail(t){this.drawer.open(),this._ChotkhoService.setChotkhoId(t.id),this._router.navigate(["admin/chotkho",t.id])}trackByFn(t,e){return e.id}generateReport(){return h(this,null,function*(){if(yield this._ChotkhoService.getStatistics()){let e=yield this._ChotkhoService.generateReport({dateFrom:new Date(Date.now()-2592e6).toISOString(),dateTo:new Date().toISOString(),format:"json"});if(e){this._snackBar.open("B\xE1o c\xE1o \u0111\xE3 \u0111\u01B0\u1EE3c t\u1EA1o th\xE0nh c\xF4ng","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]});let i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=window.URL.createObjectURL(i),l=document.createElement("a");l.href=n,l.download=`bao-cao-chot-kho-${new Date().toISOString().split("T")[0]}.json`,l.click(),window.URL.revokeObjectURL(n)}}})}bulkUpdateStatus(t){return h(this,null,function*(){if(this.EditList.length===0){this._snackBar.open("Vui l\xF2ng ch\u1ECDn \xEDt nh\u1EA5t m\u1ED9t m\u1EE5c","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-warning"]});return}let e=this.EditList.map(n=>n.id);(yield this._ChotkhoService.bulkUpdateStatus(e,t))&&(this.EditList=[],this._snackBar.open(`C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i th\xE0nh c\xF4ng cho ${e.length} m\u1EE5c`,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}))})}showStatistics(){return h(this,null,function*(){let t=yield this._ChotkhoService.getStatistics();if(t){let e=`
        T\u1ED5ng s\u1ED1: ${t.total}
        \u0110ang ho\u1EA1t \u0111\u1ED9ng: ${t.active}
        Kh\xF4ng ho\u1EA1t \u0111\u1ED9ng: ${t.inactive}
        Ch\xEAnh l\u1EC7ch trung b\xECnh: ${t.averageChenhLech?.toFixed(2)||0}
      `;this._snackBar.open(e,"\u0110\xF3ng",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]})}})}advancedSearch(t){return h(this,null,function*(){this.searchParam=v(v({},this.searchParam),t),yield this._ChotkhoService.getAllChotkho(this.searchParam,!0)})}refreshData(){return h(this,null,function*(){this.isSearch.set(!1),this.searchParam={},this.EditList=[],yield this._ChotkhoService.getAllChotkho({},!0),this._snackBar.open("D\u1EEF li\u1EC7u \u0111\xE3 \u0111\u01B0\u1EE3c l\xE0m m\u1EDBi","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})})}smartRefresh(){return h(this,null,function*(){this.isSearch.set(!1),this.searchParam={},this.EditList=[];let t=this._snackBar.open("\u0110ang c\u1EADp nh\u1EADt d\u1EEF li\u1EC7u...","",{duration:0,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]});try{yield this._ChotkhoService.getAllChotkho({},!0),t.dismiss(),this._snackBar.open("D\u1EEF li\u1EC7u \u0111\xE3 \u0111\u01B0\u1EE3c c\u1EADp nh\u1EADt","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}catch{t.dismiss(),this._snackBar.open("L\u1ED7i c\u1EADp nh\u1EADt d\u1EEF li\u1EC7u","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}importExcel(t){return h(this,null,function*(){let e=t.target.files[0];if(!e)return;let i=this._snackBar.open("\u0110ang import d\u1EEF li\u1EC7u...","",{duration:0,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]});try{let n=yield this._ChotkhoService.importFromExcel(e,{validateData:!0,skipDuplicates:!0});i.dismiss(),n&&this._snackBar.open(`Import th\xE0nh c\xF4ng ${n.successCount}/${n.totalCount} b\u1EA3n ghi`,"",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}catch{i.dismiss(),this._snackBar.open("L\u1ED7i import file","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}t.target.value=""})}createBackup(t="full"){return h(this,null,function*(){let e=this._snackBar.open("\u0110ang t\u1EA1o backup...","",{duration:0,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]});try{let i=yield this._ChotkhoService.backupData(t);e.dismiss(),i&&this._snackBar.open("Backup th\xE0nh c\xF4ng","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}catch{e.dismiss(),this._snackBar.open("L\u1ED7i t\u1EA1o backup","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}optimizeSystem(){return h(this,null,function*(){let t=this._snackBar.open("\u0110ang t\u1ED1i \u01B0u h\xF3a h\u1EC7 th\u1ED1ng...","",{duration:0,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]});try{let e=yield this._ChotkhoService.optimizePerformance();t.dismiss(),e&&this._snackBar.open("T\u1ED1i \u01B0u h\xF3a th\xE0nh c\xF4ng! C\u1EA3i thi\u1EC7n hi\u1EC7u su\u1EA5t","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}catch{t.dismiss(),this._snackBar.open("L\u1ED7i t\u1ED1i \u01B0u h\xF3a","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}checkSystemHealth(){return h(this,null,function*(){try{let t=yield this._ChotkhoService.getSystemHealth();if(t){let e=`
\u{1F3E5} S\u1EE8C KH\u1ECEE H\u1EC6 TH\u1ED0NG:
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
\u{1F4BE} Database: ${t.database?.status||"OK"}
\u{1F504} API: ${t.api?.responseTime||"< 100"}ms
\u{1F4CA} Memory: ${t.memory?.usage||"< 80"}%
\u{1F50B} CPU: ${t.cpu?.usage||"< 60"}%
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
        `;this._snackBar.open(e,"\u0110\xF3ng",{duration:8e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]})}}catch{this._snackBar.open("Kh\xF4ng th\u1EC3 ki\u1EC3m tra s\u1EE9c kh\u1ECFe h\u1EC7 th\u1ED1ng","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}downloadImportTemplate(t="standard"){return h(this,null,function*(){try{(yield this._ChotkhoService.generateImportTemplate(t))&&this._snackBar.open("\u0110\xE3 t\u1EA3i xu\u1ED1ng m\u1EABu import","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}catch{this._snackBar.open("L\u1ED7i t\u1EA3i m\u1EABu import","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}exportAdvanced(t="excel"){return h(this,null,function*(){let e=this._snackBar.open(`\u0110ang export ${t.toUpperCase()}...`,"",{duration:0,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]});try{let i=yield this._ChotkhoService.exportData(t,T(v({},this.searchParam),{selectedIds:this.EditList.map(n=>n.id),includeDetails:!0}));e.dismiss(),i&&this._snackBar.open(`Export ${t.toUpperCase()} th\xE0nh c\xF4ng`,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}catch{e.dismiss(),this._snackBar.open(`L\u1ED7i export ${t.toUpperCase()}`,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}smartCheckChenhLech(){return h(this,null,function*(){if(!this.validateBeforeAction(this.EditList,"ki\u1EC3m tra ch\xEAnh l\u1EC7ch"))return;let t=this._snackBar.open("\u0110ang ki\u1EC3m tra ch\xEAnh l\u1EC7ch...","",{duration:0,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]});try{let e=[];for(let n of this.EditList){let l=yield this._ChotkhoService.smartCheckChenhLech(n.id);l&&e.push(l)}t.dismiss();let i=e.reduce((n,l)=>n+(l.chenhLech||0),0);this._snackBar.open(`Ki\u1EC3m tra ho\xE0n t\u1EA5t. T\u1ED5ng ch\xEAnh l\u1EC7ch: ${i}`,"",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:i===0?["snackbar-success"]:["snackbar-warning"]}),yield this.smartRefresh()}catch(e){t.dismiss(),this.handleOperationError("ki\u1EC3m tra ch\xEAnh l\u1EC7ch",e)}})}handleOperationError(t,e){console.error(`L\u1ED7i ${t}:`,e),this._snackBar.open(`C\xF3 l\u1ED7i x\u1EA3y ra khi ${t}`,"Th\u1EED l\u1EA1i",{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]}).onAction().subscribe(()=>{this.smartRefresh()})}validateBeforeAction(t,e){return t.length===0?(this._snackBar.open(`Vui l\xF2ng ch\u1ECDn \xEDt nh\u1EA5t m\u1ED9t m\u1EE5c \u0111\u1EC3 ${e}`,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-warning"]}),!1):!0}onPageSizeChange(t,e){let i=this.total(),n=t>i?i:t;t>i&&this._snackBar.open(`S\u1ED1 l\u01B0\u1EE3ng t\u1ED1i \u0111a ${i}`,"",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-warning"]}),this._ChotkhoService.pageSize.set(n),this._ChotkhoService.page.set(1),this._ChotkhoService.getAllChotkho(this.searchParam,!0),e.closeMenu()}onPreviousPage(){return h(this,null,function*(){this.page()>1&&(this._ChotkhoService.page.set(this.page()-1),yield this._ChotkhoService.getAllChotkho(this.searchParam,!0))})}onNextPage(){return h(this,null,function*(){this.page()<this.totalPages()&&(this._ChotkhoService.page.set(this.page()+1),yield this._ChotkhoService.getAllChotkho(this.searchParam,!0))})}onFileSelected(t){let e=t.target.files[0];e&&(e.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||e.type==="application/vnd.ms-excel")?this.selectedFile=e:this._snackBar.open("Please select a valid Excel file (.xlsx or .xls)","Close",{duration:3e3})}onBackupFileSelected(t){let e=t.target.files[0];e&&e.name.endsWith(".backup")?this.selectedBackupFile=e:this._snackBar.open("Please select a valid backup file (.backup)","Close",{duration:3e3})}startImport(){return h(this,null,function*(){if(!this.selectedFile)return;this.importProgress=0;let t=setInterval(()=>{this.importProgress+=5,this.importProgress>=95&&clearInterval(t)},100);try{yield this._ChotkhoService.importFromExcel(this.selectedFile,{}),this.importProgress=100,setTimeout(()=>{this.importProgress=0,this.selectedFile=null,this._dialog.closeAll()},500)}catch(e){clearInterval(t),this.importProgress=0,this.handleOperationError("Import failed",e)}})}startExport(){return h(this,null,function*(){this.exportProgress=0;let t=setInterval(()=>{this.exportProgress+=8,this.exportProgress>=95&&clearInterval(t)},150);try{yield this.exportExcel(),this.exportProgress=100,setTimeout(()=>{this.exportProgress=0,this._dialog.closeAll()},500)}catch(e){clearInterval(t),this.exportProgress=0,this.handleOperationError("Export failed",e)}})}startBackup(){return h(this,null,function*(){if(!this.backupName){this._snackBar.open("Please enter a backup name","Close",{duration:3e3});return}this.backupProgress=0;let t=setInterval(()=>{this.backupProgress+=6,this.backupProgress>=95&&clearInterval(t)},200);try{yield this._ChotkhoService.backupData(this.backupType),this.backupProgress=100,setTimeout(()=>{this.backupProgress=0,this.backupName="",this._dialog.closeAll()},500)}catch(e){clearInterval(t),this.backupProgress=0,this.handleOperationError("Backup failed",e)}})}startRestore(){return h(this,null,function*(){if(!this.selectedBackupFile){this._snackBar.open("Please select a backup file","Close",{duration:3e3});return}this.backupProgress=0;let t=setInterval(()=>{this.backupProgress+=7,this.backupProgress>=95&&clearInterval(t)},180);try{yield this._ChotkhoService.restoreFromBackup(this.selectedBackupFile),this.backupProgress=100,setTimeout(()=>{this.backupProgress=0,this.selectedBackupFile=null,this._dialog.closeAll()},500)}catch(e){clearInterval(t),this.backupProgress=0,this.handleOperationError("Restore failed",e)}})}exportExcel(){return h(this,null,function*(){try{let t=[];switch(this.exportType){case"all":t=this.Listchotkho();break;case"filtered":t=this.dataSource.filteredData;break;case"selected":t=this.EditList;break;default:t=this.Listchotkho()}yield this._ChotkhoService.exportData("excel",{data:t}),this._snackBar.open("Export completed successfully","Close",{duration:3e3})}catch(t){this.handleOperationError("Export failed",t)}})}clearAllCacheMethod(){return h(this,null,function*(){try{if("caches"in window){let e=yield caches.keys();yield Promise.all(e.map(i=>caches.delete(i)))}Object.keys(localStorage).forEach(e=>{(e.includes("chotkho")||e.includes("Chotkho"))&&localStorage.removeItem(e)}),yield this.smartRefresh(),this._snackBar.open("Cache cleared successfully","Close",{duration:3e3})}catch(t){this.handleOperationError("Clear cache failed",t)}})}importFromExcel(){let t=document.createElement("input");t.type="file",t.accept=".xlsx,.xls",t.onchange=e=>this.importExcel(e),t.click()}exportToExcel(){this.exportAdvanced("excel")}restoreFromBackup(){this.isRestoreMode=!0;let t=document.createElement("input");t.type="file",t.accept=".backup",t.onchange=e=>{this.onBackupFileSelected(e),this.selectedBackupFile&&this.startRestore()},t.click()}clearAllCache(){this.clearAllCacheMethod()}static \u0275fac=function(e){return new(e||B)};static \u0275cmp=A({type:B,selectors:[["app-listchotkho"]],viewQuery:function(e,i){if(e&1&&(z(at,5),z(j,5),z(Rt,7)),e&2){let n;V(n=$())&&(i.paginator=n.first),V(n=$())&&(i.sort=n.first),V(n=$())&&(i.drawer=n.first)}},decls:127,vars:20,consts:[["drawer",""],["advancedMenu","matMenu"],["menuHienthi","matMenuTrigger"],["menu1","matMenu"],["DeleteDialog",""],["ImportDialog",""],["ExportDialog",""],["BackupDialog",""],["HealthDialog",""],["menu","matMenu"],["autosize","",1,"w-full","h-full"],["mode","over",1,"flex","flex-col","lg:!w-2/3","!w-full","h-full",3,"position"],[1,"flex","flex-col","space-y-2","h-screen-16","w-full","p-2"],[1,"p-2","cursor-pointer","w-full","relative","flex","lg:flex-row","lg:space-y-2","space-y-0","flex-col","space-x-2","justify-between","items-center","bg-white","rounded-lg"],[1,"w-full","flex","flex-col","gap-2","lg:flex-row","lg:items-center","lg:justify-between"],[1,"flex","flex-row","space-x-2","items-center"],[1,"relative","w-full"],["type","text","placeholder","T\xECm Ki\u1EBFm...",1,"block","w-full","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],["color","primary","matTooltip","Th\xEAm m\u1EDBi","mat-flat-button","",1,"flex","flex-row","items-center",3,"click"],[1,"whitespace-nowrap"],["class","flex flex-row items-center","color","warn","matTooltip","Xo\xE1","mat-flat-button","",3,"click",4,"ngIf"],["color","accent","matTooltip","Smart Refresh","mat-flat-button","",1,"flex","flex-row","items-center",3,"click","disabled"],["mat-flat-button","","color","primary",3,"matMenuTriggerFor"],[1,"p-2","border-b"],[1,"text-sm","font-semibold","text-gray-600","mb-2"],["mat-menu-item","",3,"click"],[1,"p-2"],[1,"w-full","flex","flex-row","space-x-4","justify-end","items-center"],[1,"flex","items-center","text-center"],[1,"flex","items-center","justify-center"],[1,"flex","flex-row","space-x-2","justify-center","items-center"],[1,"font-bold","text-blue-600",3,"matMenuTriggerFor"],[1,"w-full","flex","flex-row","space-x-2","p-4",3,"click"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp S\u1ED1 L\u01B0\u1EE3ng",3,"ngModelChange","ngModel","ngModelOptions"],["mat-icon-button","","color","primary",3,"click"],[1,"flex","flex-row","items-center"],["mat-icon-button","","color","primary",3,"click","disabled"],[1,"w-full","h-full","overflow-auto"],["mat-table","","matSort","",1,"!border","w-full","cursor-pointer",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","border","mat-row","",3,"class",4,"matRowDef","matRowDefColumns"],["class","mat-row border",4,"matNoDataRow"],["color","warn","matTooltip","Xo\xE1","mat-flat-button","",1,"flex","flex-row","items-center",3,"click"],["mat-header-cell","",1,"flex","!border","!bg-slate-100","justify-center"],["mat-header-cell","","mat-sort-header","",1,"!border","whitespace-nowrap","!bg-slate-100"],["class","border","mat-cell","",4,"matCellDef"],["class","flex !border !bg-slate-100 justify-center","mat-header-cell","",4,"matHeaderCellDef"],["matTooltip","\u1EA8n hi\u1EC7n c\u1ED9t","mat-icon-button","","color","primary",3,"matMenuTriggerFor"],[1,"flex","flex-row","space-x-2","items-center","p-4"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"input","click"],["matPrefix",""],[1,"flex","flex-col","max-h-80","overflow-auto"],["mat-menu-item","",3,"disabled"],["mat-menu-item",""],["mat-menu-item","",3,"click","disabled"],["class","!border whitespace-nowrap !bg-slate-100","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],[1,"max-w-40","line-clamp-4","me-4"],[3,"OutFilter","icon","ListItem","fieldsearch","ListFilter","filterItem"],["mat-cell","",1,"border"],[1,"max-w-40","line-clamp-4","font-bold","text-blue-600"],[1,"flex","justify-center","items-center","font-bold","text-blue-600"],[1,"max-w-40","line-clamp-4"],[1,"max-w-40","line-clamp-4","font-bold","text-blue-600",3,"click"],[1,"flex","justify-center","items-center","font-bold","text-blue-600",3,"click"],[1,"text-green-500"],[1,"text-red-500"],["mat-header-row",""],["mat-row","",1,"border"],[1,"mat-row","border"],["colspan","4",1,"mat-cell","p-4"],[1,"flex","flex-col","space-y-8","items-center","justify-center"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary","mat-dialog-close","true"],["mat-flat-button","","color","warn","mat-dialog-close","false"],[1,"flex","flex-col","space-y-4","min-w-80"],[1,"font-bold","text-center"],[1,"flex","flex-col","space-y-2"],["type","file","accept",".xlsx,.xls",1,"block","w-full","text-sm","text-gray-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-blue-50","file:text-blue-700","hover:file:bg-blue-100",3,"change"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"flex","flex-row","space-x-2","justify-center"],["mat-flat-button","","color","primary",3,"click","disabled"],["mat-flat-button","","color","warn","mat-dialog-close",""],["mode","determinate",3,"value"],[1,"text-sm","text-center"],["appearance","outline"],[3,"valueChange","value"],["value","all"],["value","filtered"],["value","selected"],["value","full"],["value","incremental"],["matInput","","placeholder","Enter backup name",3,"ngModelChange","ngModel"],["type","file","accept",".backup",1,"block","w-full","text-sm","text-gray-500","file:mr-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-green-50","file:text-green-700","hover:file:bg-green-100",3,"change"],[1,"flex","flex-col","space-y-4","min-w-96"],["class","flex flex-col space-y-3",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[1,"flex","flex-col","space-y-3"],[1,"flex","justify-between","items-center","p-2","rounded",3,"ngClass"],[1,"font-medium"],[1,"flex","items-center","space-x-2"],[3,"ngClass"],[1,"text-sm"],[1,"flex","justify-between","items-center","p-2","rounded","bg-blue-50"]],template:function(e,i){if(e&1){let n=x();r(0,"mat-drawer-container",10)(1,"mat-drawer",11,0),S(3,"router-outlet"),o(),r(4,"div",12)(5,"div",13)(6,"div",14)(7,"div",15)(8,"div",16)(9,"input",17),g("keyup",function(p){return d(n),u(i.applyFilter(p))}),o(),r(10,"div",18)(11,"span",19),s(12,"search"),o()()(),r(13,"button",20),g("click",function(){return d(n),u(i.create())}),r(14,"mat-icon"),s(15,"add_circle"),o(),r(16,"span",21),s(17,"T\u1EA1o M\u1EDBi"),o()(),k(18,Vt,5,0,"button",22),r(19,"button",23),g("click",function(){return d(n),u(i.smartRefresh())}),r(20,"mat-icon"),s(21,"refresh"),o(),r(22,"span",21),s(23,"Refresh"),o()()(),r(24,"div",15)(25,"button",24)(26,"mat-icon"),s(27,"more_vert"),o(),r(28,"span"),s(29,"Advanced"),o()(),r(30,"mat-menu",null,1)(32,"div",25)(33,"div",26),s(34,"Import/Export"),o(),r(35,"button",27),g("click",function(){return d(n),u(i.importFromExcel())}),r(36,"mat-icon"),s(37,"file_upload"),o(),r(38,"span"),s(39,"Import Excel"),o()(),r(40,"button",27),g("click",function(){return d(n),u(i.exportToExcel())}),r(41,"mat-icon"),s(42,"file_download"),o(),r(43,"span"),s(44,"Export Excel"),o()()(),r(45,"div",25)(46,"div",26),s(47,"Backup/Restore"),o(),r(48,"button",27),g("click",function(){return d(n),u(i.createBackup())}),r(49,"mat-icon"),s(50,"backup"),o(),r(51,"span"),s(52,"Create Backup"),o()(),r(53,"button",27),g("click",function(){return d(n),u(i.restoreFromBackup())}),r(54,"mat-icon"),s(55,"restore"),o(),r(56,"span"),s(57,"Restore Data"),o()()(),r(58,"div",28)(59,"div",26),s(60,"System Tools"),o(),r(61,"button",27),g("click",function(){return d(n),u(i.optimizeSystem())}),r(62,"mat-icon"),s(63,"tune"),o(),r(64,"span"),s(65,"Optimize System"),o()(),r(66,"button",27),g("click",function(){return d(n),u(i.checkSystemHealth())}),r(67,"mat-icon"),s(68,"health_and_safety"),o(),r(69,"span"),s(70,"Health Check"),o()(),r(71,"button",27),g("click",function(){return d(n),u(i.clearAllCache())}),r(72,"mat-icon"),s(73,"clear_all"),o(),r(74,"span"),s(75,"Clear Cache"),o()()()()()(),r(76,"div",29)(77,"div",30)(78,"strong"),s(79),o(),s(80," - "),r(81,"strong"),s(82),o(),s(83),o(),r(84,"div",31)(85,"span"),s(86),o(),r(87,"span"),s(88,"Trang"),o()(),r(89,"div",32)(90,"span",33,2),s(92),o(),r(93,"mat-menu",null,3)(95,"div",34),g("click",function(p){return d(n),u(p.stopPropagation())}),r(96,"mat-form-field",35)(97,"mat-label"),s(98,"S\u1ED1 l\u01B0\u1EE3ng"),o(),r(99,"input",36),D("ngModelChange",function(p){return d(n),F(i.pageSize,p)||(i.pageSize=p),u(p)}),o()(),r(100,"button",37),g("click",function(){d(n);let p=L(91);return u(i.onPageSizeChange(i.pageSize(),p))}),r(101,"mat-icon"),s(102,"published_with_changes"),o()()()(),r(103,"div",38)(104,"button",39),g("click",function(){return d(n),u(i.onPreviousPage())}),r(105,"mat-icon"),s(106,"keyboard_arrow_left"),o()(),r(107,"button",39),g("click",function(){return d(n),u(i.onNextPage())}),r(108,"mat-icon"),s(109,"keyboard_arrow_right"),o()()()()()(),r(110,"div",40)(111,"table",41),J(112,ii,4,2,"ng-container",42,pe),k(114,ni,1,0,"tr",43)(115,ri,1,3,"tr",44)(116,oi,3,0,"tr",45),o()()()(),k(117,ai,11,0,"ng-template",null,4,I)(119,li,12,2,"ng-template",null,5,I)(121,mi,21,3,"ng-template",null,6,I)(123,ui,12,6,"ng-template",null,7,I)(125,gi,10,1,"ng-template",null,8,I)}if(e&2){let n=L(31),l=L(94);c(),_("position","end"),c(17),_("ngIf",i.EditList.length>0),c(),_("disabled",i.isRefreshing),c(6),_("matMenuTriggerFor",n),c(54),w((i.page()-1)*i.pageSize()+1),c(3),w(i.page()*i.pageSize()>i.total()?i.total():i.page()*i.pageSize()),c(),C(" / ",i.total()," m\u1EE5c "),c(3),_e("",i.page(),"/",i.totalPages()," "),c(4),_("matMenuTriggerFor",l),c(2),C("",i.pageSize()," m\u1EE5c"),c(7),M("ngModel",i.pageSize),_("ngModelOptions",ge(19,At)),c(5),_("disabled",i.page()===1),c(3),_("disabled",i.page()===i.totalPages()),c(4),_("dataSource",i.dataSource),c(),W(i.displayedColumns),c(2),_("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),c(),_("matRowDefColumns",i.displayedColumns)}},dependencies:[Ye,Ze,qe,Qe,tt,et,xt,mt,pt,gt,dt,ht,ft,ut,_t,kt,Ct,bt,ct,j,lt,st,je,$e,Ve,Oe,Re,Fe,De,ve,ze,Ae,Be,Le,Ie,nt,it,Te,ye,Ce,be,xe,Xe,Ne,Ue,He,ot,rt,Ke,We,Ge,yt,Et,It,Lt],encapsulation:2,changeDetection:0})};U([St(500)],B.prototype,"applyFilter",1),U([vt()],B.prototype,"FilterHederColumn",1);var Bt=B;export{N as a,Bt as b};

{
  "version": 3,
  "sources": ["src/app/admin/listbaiviet/listbaiviet.component.ts", "src/app/admin/listbaiviet/listbaiviet.component.html"],
  "sourcesContent": ["import {AfterViewInit, Component, inject, viewChild, ViewChild} from '@angular/core';\r\nimport {MatPaginator, MatPaginatorModule} from '@angular/material/paginator';\r\nimport {MatSort, MatSortModule} from '@angular/material/sort';\r\nimport {MatTableDataSource, MatTableModule} from '@angular/material/table';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\nimport { ListBaiviet } from './listbaiviet';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\r\nimport { MatDrawer, MatSidenavModule } from '@angular/material/sidenav';\r\nimport { Router, RouterLink, RouterOutlet } from '@angular/router';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { DetailBaivietComponent } from './detailbaiviet/detailbaiviet.component';\r\nimport { ConvertDriveColumnName, ConvertDriveData } from '../../shared/utils/shared.utils';\r\nimport { GoogleSheetService } from '../../shared/googlesheets/googlesheets.service';\r\n@Component({\r\n  selector: 'app-listbaiviet',\r\n  templateUrl: './listbaiviet.component.html',\r\n  styleUrl: './listbaiviet.component.scss',\r\n  imports: [\r\n    MatFormFieldModule, \r\n    MatInputModule, \r\n    MatTableModule, \r\n    MatSortModule, \r\n    MatPaginatorModule,\r\n    MatMenuModule,\r\n    MatSidenavModule,\r\n    RouterOutlet,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n  ],\r\n})\r\nexport class ListbaivietComponent implements AfterViewInit {\r\n  Detail:any={}\r\n  dataSource!: MatTableDataSource<any>;\r\n  displayedColumns: string[] = [\r\n    'STT',\r\n    'Title', \r\n    'author', \r\n    'category',\r\n    'createdAt',\r\n    'status',\r\n  ];\r\n  \r\n  ColumnName: any = {\r\n    'STT': 'STT',\r\n    'Title': 'Tiêu Đề', \r\n    'author': 'Tác Giả', \r\n    'category': 'Danh Mục',\r\n    'createdAt': 'Ngày Tạo',\r\n    'status': 'Trạng Thái',\r\n  };\r\n  \r\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\r\n  @ViewChild(MatSort) sort!: MatSort;\r\n  @ViewChild('drawer', { static: true }) drawer!: MatDrawer;\r\n  _GoogleSheetService:GoogleSheetService=inject(GoogleSheetService)\r\n  ListBaiviet:any[] =[]\r\n  constructor(\r\n    private _breakpointObserver: BreakpointObserver,\r\n    private _router: Router,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n        const ListSheets = JSON.parse(localStorage.getItem('ListSheets') || '[]');\r\n        console.log(ListSheets);\r\n        if (ListSheets.length > 0) {\r\n          const CheckSheet = ListSheets.find((v:any) => v.SheetName === 'Baiviet');\r\n          if (CheckSheet) {\r\n            this._GoogleSheetService.getDrive(CheckSheet).then(result => {\r\n              if(result.values.length>0)\r\n              {\r\n                this.displayedColumns = result.values[0].map((item:any)=>item)\r\n                this.ColumnName = ConvertDriveColumnName(result.values)      \r\n                this.dataSource = new MatTableDataSource(ConvertDriveData(result.values));\r\n                this.ListBaiviet = ConvertDriveData(result.values);\r\n                console.log(this.ListBaiviet);\r\n                this.dataSource.paginator = this.paginator;\r\n                this.dataSource.sort = this.sort;\r\n              }\r\n            });\r\n          }\r\n        }\r\n    // this.dataSource = new MatTableDataSource(ListBaiviet); \r\n    // this.dataSource.paginator = this.paginator;\r\n    // this.dataSource.sort = this.sort;\r\n    this.Detail.id?this.drawer.open():this.drawer.close()\r\n    this._breakpointObserver.observe([Breakpoints.Handset]).subscribe(result => {\r\n      if (result.matches) {\r\n       this.drawer.mode = 'over';\r\n       this.paginator.hidePageSize =true\r\n      } else {\r\n        this.drawer.mode = 'side';\r\n      }\r\n    });\r\n    \r\n  }\r\n  ngAfterViewInit() { \r\n    this.dataSource.paginator = this.paginator;\r\n    this.dataSource.sort = this.sort;\r\n    this.paginator._intl.itemsPerPageLabel = 'Số lượng 1 trang';\r\n    this.paginator._intl.nextPageLabel = 'Tiếp Theo';\r\n    this.paginator._intl.previousPageLabel = 'Về Trước';\r\n    this.paginator._intl.firstPageLabel = 'Trang Đầu';\r\n    this.paginator._intl.lastPageLabel = 'Trang Cuối';\r\n    this.paginator.pageSize = 30\r\n  }\r\n\r\n  applyFilter(event: Event) {\r\n    const filterValue = (event.target as HTMLInputElement).value;\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n\r\n    if (this.dataSource.paginator) {\r\n      this.dataSource.paginator.firstPage();\r\n    }\r\n  }\r\n  Create()\r\n  {\r\n    this.drawer.open();\r\n    this._router.navigate(['admin/baiviet', 0])\r\n  }\r\n  goToDetail(item:any)\r\n  {\r\n    this.drawer.open();\r\n    this.Detail=item\r\n    this._router.navigate(['admin/baiviet', item.id])  }\r\n}\r\n", "<mat-drawer-container [@.disabled]=\"true\" class=\"w-full h-screen-16\" autosize>\r\n  <mat-drawer #drawer class=\"flex flex-col !w-full h-full\" [position]=\"'end'\">    \r\n    <router-outlet></router-outlet>\r\n  </mat-drawer>\r\n\r\n<div class=\"flex flex-col space-y-2 h-full w-full justify-between p-2\">\r\n    <div class=\"flex flex-col space-y-2 w-full p-2\">\r\n        <div class=\"cursor-pointer w-full relative grid lg:grid-cols-2 gap-2 justify-between items-center\">\r\n            <div class=\"w-full flex flex-row space-x-2 items-center\">\r\n                <div class=\"relative\">\r\n                    <input type=\"text\" placeholder=\"Tìm Kiếm...\" #input (keyup)=\"applyFilter($event)\"\r\n                        class=\"block pl-10 pr-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40\">\r\n                    <div class=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\r\n                        <span class=\"material-symbols-outlined text-gray-500\">search</span>\r\n                    </div>\r\n                </div>\r\n                <span (click)=\"Create()\"\r\n                    class=\"cursor-pointer material-symbols-outlined p-2 rounded-lg hover:bg-slate-100\">add_circle</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"w-full\">\r\n            <table class=\"!border w-full cursor-pointer\" mat-table [dataSource]=\"dataSource\" matSort>\r\n                @for (column of displayedColumns; track column) {\r\n                  <ng-container [matColumnDef]=\"column\">\r\n                    <th class=\"whitespace-nowrap\" mat-header-cell *matHeaderCellDef mat-sort-header>\r\n                        <span class=\"max-w-40 line-clamp-4\">\r\n                            {{ ColumnName[column] }}\r\n                        </span>\r\n                    </th>\r\n                    <td class=\"\" mat-cell *matCellDef=\"let row;let idx = index\">\r\n                        <span class=\"max-w-40 line-clamp-4\">\r\n                            {{ column === 'STT' ? idx + 1 : row[column] }}\r\n                        </span>\r\n                    </td>\r\n                 </ng-container>\r\n                }\r\n                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"goToDetail(row);\"></tr>\r\n                <tr class=\"mat-row\" *matNoDataRow>\r\n                    <td class=\"mat-cell\" colspan=\"4\">Không tìm thấy \"{{input.value}}\"</td>\r\n                </tr>\r\n            </table>\r\n            <mat-paginator [pageSizeOptions]=\"[5, 10, 25, 100]\" aria-label=\"Select page of baiviets\"></mat-paginator>\r\n        </div>\r\n    </div>    \r\n</div>\r\n</mat-drawer-container>"],
  "mappings": "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",
  "names": []
}

import './polyfills.server.mjs';
import{a as Ne,b as ze}from"./chunk-HR5YFIDG.mjs";import{a as qe,b as Le}from"./chunk-35LLFCWB.mjs";import{a as Ge,b as We,c as He}from"./chunk-2RHT55DY.mjs";import{b as Ee}from"./chunk-XRLZSDAU.mjs";import{a as Z,b as $,c as ee,d as te}from"./chunk-V3Y4VS2X.mjs";import{a as Ce,b as ye,c as Me,k as ve}from"./chunk-MQBQMFQ2.mjs";import{a as we,b as be,c as Ae,e as Te,f as De,h as Ue,i as Ie,k as Fe,l as ke,n as Be,p as Ve}from"./chunk-DGRE3EYI.mjs";import"./chunk-DHMJTHFT.mjs";import{a as Se,b as Pe}from"./chunk-NIATGDNF.mjs";import"./chunk-ZYIPHREZ.mjs";import"./chunk-N7WAOINW.mjs";import"./chunk-M2CBKU6E.mjs";import{h as de}from"./chunk-G22LVZ3C.mjs";import{a as xe,b as he}from"./chunk-MVMXBXZF.mjs";import{b as _e,c as fe}from"./chunk-CLIOYSV5.mjs";import{B as ce,C as ge,b as ie,g as ne,h as re,i as se,j as ae,k as oe,p as me,s as le,u as pe,y as ue}from"./chunk-6OXZJDYM.mjs";import"./chunk-AMJ6U7FR.mjs";import{a as J,b as Y}from"./chunk-HY6ZSEAG.mjs";import{a as X}from"./chunk-NJUROCK7.mjs";import"./chunk-CPQV2WRR.mjs";import"./chunk-P4N2N5J2.mjs";import{a as Q,c as j,e as K}from"./chunk-YYTI3S2Z.mjs";import{_ as R,la as O}from"./chunk-MODWZICC.mjs";import"./chunk-7T6LZHUD.mjs";import"./chunk-5YOTNGM2.mjs";import{n as W,o as H,u as N,z}from"./chunk-OZK2OCZT.mjs";import{$b as T,Fb as k,Gc as A,Hc as a,Ic as x,Jc as S,Kc as V,Mb as u,Mc as C,Na as F,Nc as y,Oc as M,Qc as q,Ra as f,Wc as D,Yb as d,Yc as U,_b as B,ad as L,ic as i,jc as n,kc as v,lc as h,mc as E,oc as P,pa as b,tb as m,tc as c,vc as p,xd as I,ya as g,za as _,zd as G}from"./chunk-TKMPR5S6.mjs";import"./chunk-XAZRL6IZ.mjs";import{j as w}from"./chunk-RIAI3ORJ.mjs";var Oe=()=>[5,10,25,50];function Qe(r,t){r&1&&(i(0,"div",26),v(1,"mat-spinner",27),i(2,"p",28),a(3,"\u0110ang t\u1EA3i d\u1EEF li\u1EC7u..."),n()())}function je(r,t){if(r&1){let e=P();i(0,"div",26)(1,"mat-icon",29),a(2,"error"),n(),i(3,"p",30),a(4),n(),i(5,"button",31),c("click",function(){g(e);let o=p();return _(o.loadUserPermissions())}),a(6," Th\u1EED l\u1EA1i "),n()()}if(r&2){let e=p();m(4),x(e.error())}}function Ke(r,t){r&1&&(i(0,"th",48),a(1,"Quy\u1EC1n"),n())}function Xe(r,t){if(r&1&&(i(0,"td",49)(1,"div",50)(2,"span",51),a(3),n(),i(4,"span",52),a(5),n()()()),r&2){let e=t.$implicit;m(3),x(e.permission==null?null:e.permission.name),m(2),x(e.permission==null?null:e.permission.description)}}function Je(r,t){r&1&&(i(0,"th",53),a(1,"Lo\u1EA1i"),n())}function Ye(r,t){if(r&1&&(i(0,"td",49)(1,"span"),a(2),n()()),r&2){let e=t.$implicit;m(),T(e.isGranted?"bg-green-100 text-green-800 px-2 py-1 rounded text-xs":"bg-red-100 text-red-800 px-2 py-1 rounded text-xs"),m(),S(" ",e.isGranted?"\u0110\u01B0\u1EE3c c\u1EA5p":"B\u1ECB t\u1EEB ch\u1ED1i"," ")}}function Ze(r,t){r&1&&(i(0,"th",53),a(1,"Ng\u01B0\u1EDDi c\u1EA5p"),n())}function $e(r,t){if(r&1&&(i(0,"td",49),a(1),n()),r&2){let e=t.$implicit;m(),S(" ",(e.grantedByUser==null?null:e.grantedByUser.name)||(e.grantedByUser==null?null:e.grantedByUser.email)||"N/A"," ")}}function et(r,t){r&1&&(i(0,"th",48),a(1,"Ng\xE0y c\u1EA5p"),n())}function tt(r,t){if(r&1&&(i(0,"td",49),a(1),D(2,"date"),n()),r&2){let e=t.$implicit;m(),S(" ",U(2,1,e.grantedAt,"dd/MM/yyyy HH:mm")," ")}}function it(r,t){r&1&&(i(0,"th",53),a(1,"H\u1EBFt h\u1EA1n"),n())}function nt(r,t){r&1&&(i(0,"span",56),a(1,"\u0110\xE3 h\u1EBFt h\u1EA1n"),n())}function rt(r,t){if(r&1&&(i(0,"div")(1,"span"),a(2),D(3,"date"),n(),u(4,nt,2,0,"span",55),n()),r&2){let e=p().$implicit,s=p(2);m(),T(s.isExpired(e.expiresAt)?"text-red-600 font-medium":"text-gray-700"),m(),S(" ",U(3,4,e.expiresAt,"dd/MM/yyyy HH:mm")," "),m(2),d("ngIf",s.isExpired(e.expiresAt))}}function st(r,t){r&1&&(i(0,"span",57),a(1,"V\u0129nh vi\u1EC5n"),n())}function at(r,t){if(r&1&&(i(0,"td",49),u(1,rt,5,7,"div",54)(2,st,2,0,"ng-template",null,0,L),n()),r&2){let e=t.$implicit,s=A(3);m(),d("ngIf",e.expiresAt)("ngIfElse",s)}}function ot(r,t){r&1&&(i(0,"th",53),a(1,"L\xFD do"),n())}function mt(r,t){if(r&1&&(i(0,"td",58)(1,"span",59),a(2),n()()),r&2){let e=t.$implicit;m(),d("title",e.reason),m(),S(" ",e.reason||"Kh\xF4ng c\xF3 ghi ch\xFA"," ")}}function lt(r,t){r&1&&(i(0,"th",53),a(1,"Thao t\xE1c"),n())}function dt(r,t){r&1&&(i(0,"mat-icon"),a(1,"more_vert"),n())}function pt(r,t){r&1&&v(0,"mat-spinner",65)}function ut(r,t){if(r&1){let e=P();i(0,"td",49)(1,"button",60),u(2,dt,2,0,"mat-icon",61)(3,pt,1,0,"mat-spinner",62),n(),i(4,"mat-menu",null,1)(6,"button",63),c("click",function(){let o=g(e).$implicit,l=p(2);return _(l.editPermission(o))}),i(7,"mat-icon"),a(8,"edit"),n(),a(9," Ch\u1EC9nh s\u1EEDa "),n(),i(10,"button",64),c("click",function(){let o=g(e).$implicit,l=p(2);return _(l.revokePermission(o))}),i(11,"mat-icon"),a(12,"delete"),n(),a(13," Thu h\u1ED3i quy\u1EC1n "),n()()()}if(r&2){let e=t.$implicit,s=A(5),o=p(2);m(),d("matMenuTriggerFor",s)("disabled",o.processingPermission()===e.id),m(),d("ngIf",o.processingPermission()!==e.id),m(),d("ngIf",o.processingPermission()===e.id)}}function ct(r,t){r&1&&v(0,"tr",66)}function gt(r,t){if(r&1&&v(0,"tr",67),r&2){let e=t.$implicit,s=p(2);B("opacity-50",s.isExpired(e.expiresAt))}}function _t(r,t){if(r&1){let e=P();i(0,"div",26)(1,"mat-icon",68),a(2,"assignment_ind"),n(),i(3,"p",69),a(4,"Kh\xF4ng c\xF3 quy\u1EC1n \u0111\u1EB7c bi\u1EC7t n\xE0o \u0111\u01B0\u1EE3c c\u1EA5p"),n(),i(5,"button",31),c("click",function(){g(e);let o=p(2);return _(o.openAssignDialog())}),a(6," Th\xEAm quy\u1EC1n \u0111\u1EA7u ti\xEAn "),n()()}}function ft(r,t){if(r&1){let e=P();i(0,"mat-paginator",70),c("page",function(o){g(e);let l=p(2);return _(l.onPageChange(o))}),n()}if(r&2){let e=p(2);d("length",e.totalCount())("pageSize",e.pageSize())("pageSizeOptions",q(3,Oe))}}function xt(r,t){if(r&1&&(i(0,"div",32)(1,"table",33),h(2,34),u(3,Ke,2,0,"th",35)(4,Xe,6,2,"td",36),E(),h(5,37),u(6,Je,2,0,"th",38)(7,Ye,3,3,"td",36),E(),h(8,39),u(9,Ze,2,0,"th",38)(10,$e,2,1,"td",36),E(),h(11,40),u(12,et,2,0,"th",35)(13,tt,3,4,"td",36),E(),h(14,41),u(15,it,2,0,"th",38)(16,at,4,2,"td",36),E(),h(17,42),u(18,ot,2,0,"th",38)(19,mt,3,2,"td",43),E(),h(20,44),u(21,lt,2,0,"th",38)(22,ut,14,4,"td",36),E(),u(23,ct,1,0,"tr",45)(24,gt,1,2,"tr",46),n(),u(25,_t,7,0,"div",22)(26,ft,1,4,"mat-paginator",47),n()),r&2){let e=p();m(),d("dataSource",e.displayedPermissions()),m(22),d("matHeaderRowDef",e.displayedColumns),m(),d("matRowDefColumns",e.displayedColumns),m(),d("ngIf",e.displayedPermissions().length===0),m(),d("ngIf",e.displayedPermissions().length>0)}}function ht(r,t){if(r&1&&(i(0,"div",71)(1,"h3",72),a(2,"Th\u1ED1ng k\xEA"),n(),i(3,"div",73)(4,"div")(5,"span",74),a(6,"T\u1ED5ng quy\u1EC1n:"),n(),i(7,"span",75),a(8),n()(),i(9,"div")(10,"span",74),a(11,"\u0110\u01B0\u1EE3c c\u1EA5p:"),n(),i(12,"span",76),a(13),n()(),i(14,"div")(15,"span",74),a(16,"B\u1ECB t\u1EEB ch\u1ED1i:"),n(),i(17,"span",77),a(18),n()(),i(19,"div")(20,"span",74),a(21,"\u0110\xE3 h\u1EBFt h\u1EA1n:"),n(),i(22,"span",78),a(23),n()()()()),r&2){let e=p();m(8),x(e.statistics().total),m(5),x(e.statistics().granted),m(5),x(e.statistics().denied),m(5),x(e.statistics().expired)}}function Et(r,t){if(r&1&&(i(0,"mat-option",90),a(1),n()),r&2){let e=t.$implicit;d("value",e.id),m(),V(" ",e.name," - ",e.description," ")}}function Ct(r,t){r&1&&v(0,"mat-spinner",98)}function yt(r,t){if(r&1){let e=P();i(0,"div",79),c("click",function(){g(e);let o=p();return _(o.closeAssignDialog())}),i(1,"div",80),c("click",function(o){return g(e),_(o.stopPropagation())}),i(2,"div",81)(3,"h3",82),a(4),n(),i(5,"button",83),c("click",function(){g(e);let o=p();return _(o.closeAssignDialog())}),i(6,"mat-icon"),a(7,"close"),n()()(),i(8,"form",84),c("ngSubmit",function(){g(e);let o=p();return _(o.handleAssignPermission())}),i(9,"div",85)(10,"mat-form-field",86)(11,"mat-label"),a(12,"Ch\u1ECDn quy\u1EC1n"),n(),i(13,"mat-select",87),M("ngModelChange",function(o){g(e);let l=p();return y(l.assignForm.permissionId,o)||(l.assignForm.permissionId=o),_(o)}),i(14,"mat-option",15),a(15,"-- Ch\u1ECDn quy\u1EC1n --"),n(),u(16,Et,2,3,"mat-option",88),n()(),i(17,"mat-form-field",86)(18,"mat-label"),a(19,"Lo\u1EA1i quy\u1EC1n"),n(),i(20,"mat-select",89),M("ngModelChange",function(o){g(e);let l=p();return y(l.assignForm.isGranted,o)||(l.assignForm.isGranted=o),_(o)}),i(21,"mat-option",90),a(22,"C\u1EA5p quy\u1EC1n"),n(),i(23,"mat-option",90),a(24,"T\u1EEB ch\u1ED1i quy\u1EC1n"),n()()(),i(25,"mat-form-field",86)(26,"mat-label"),a(27,"Ng\xE0y h\u1EBFt h\u1EA1n (t\xF9y ch\u1ECDn)"),n(),i(28,"input",91),M("ngModelChange",function(o){g(e);let l=p();return y(l.assignForm.expiresAt,o)||(l.assignForm.expiresAt=o),_(o)}),n(),v(29,"mat-datepicker-toggle",92)(30,"mat-datepicker",null,2),n(),i(32,"mat-form-field",86)(33,"mat-label"),a(34,"L\xFD do"),n(),i(35,"textarea",93),M("ngModelChange",function(o){g(e);let l=p();return y(l.assignForm.reason,o)||(l.assignForm.reason=o),_(o)}),n()()(),i(36,"div",94)(37,"button",95),c("click",function(){g(e);let o=p();return _(o.closeAssignDialog())}),a(38," H\u1EE7y "),n(),i(39,"button",96),u(40,Ct,1,0,"mat-spinner",97),a(41),n()()()()()}if(r&2){let e=A(31),s=p();m(4),x(s.editingPermission()?"Ch\u1EC9nh s\u1EEDa quy\u1EC1n":"Th\xEAm quy\u1EC1n m\u1EDBi"),m(9),C("ngModel",s.assignForm.permissionId),m(3),d("ngForOf",s.availablePermissions()),m(4),C("ngModel",s.assignForm.isGranted),m(),d("value",!0),m(2),d("value",!1),m(5),d("matDatepicker",e),C("ngModel",s.assignForm.expiresAt),m(),d("for",e),m(6),C("ngModel",s.assignForm.reason),m(4),d("disabled",!s.assignForm.permissionId||s.isAssigning()),m(),d("ngIf",s.isAssigning()),m(),S(" ",s.editingPermission()?"C\u1EADp nh\u1EADt":"Th\xEAm quy\u1EC1n"," ")}}var Re=class r{userPermissionService=b(Ne);permissionService=b(ze);snackBar=b(X);userId=F.required();isLoading=f(!1);error=f(null);processingPermission=f(null);showAssignDialog=f(!1);isAssigning=f(!1);editingPermission=f(null);userPermissions=f([]);availablePermissions=f([]);searchTerm=f("");selectedType=f("");selectedStatus=f("");pageSize=f(10);currentPage=f(0);totalCount=f(0);assignForm={permissionId:"",isGranted:!0,expiresAt:null,reason:""};displayedColumns=["permission","type","grantedBy","grantedAt","expiresAt","reason","actions"];displayedPermissions=I(()=>{let t=this.userPermissions();if(this.searchTerm()){let o=this.searchTerm().toLowerCase();t=t.filter(l=>l.permission?.name?.toLowerCase().includes(o)||l.permission?.description?.toLowerCase().includes(o))}if(this.selectedType()){let o=this.selectedType()==="granted";t=t.filter(l=>l.isGranted===o)}if(this.selectedStatus()){let o=new Date;this.selectedStatus()==="expired"?t=t.filter(l=>l.expiresAt&&new Date(l.expiresAt)<o):this.selectedStatus()==="active"&&(t=t.filter(l=>!l.expiresAt||new Date(l.expiresAt)>=o))}let e=this.currentPage()*this.pageSize(),s=e+this.pageSize();return this.totalCount?.set(t.length),t.slice(e,s)});statistics=I(()=>{let t=this.userPermissions(),e=new Date;return{total:t.length,granted:t.filter(s=>s.isGranted).length,denied:t.filter(s=>!s.isGranted).length,expired:t.filter(s=>s.expiresAt&&new Date(s.expiresAt)<e).length}});constructor(){G(()=>{this.userId()&&(this.loadUserPermissions(),this.loadAvailablePermissions())})}loadUserPermissions(){return w(this,null,function*(){if(this.userId())try{this.isLoading.set(!0),this.error.set(null);let t=yield this.userPermissionService.getUserPermissions(this.userId());this.userPermissions.set(t)}catch(t){console.error("Error loading user permissions:",t),this.error.set("Kh\xF4ng th\u1EC3 t\u1EA3i danh s\xE1ch quy\u1EC1n")}finally{this.isLoading.set(!1)}})}loadAvailablePermissions(){return w(this,null,function*(){try{let t=yield this.permissionService.loadAllPermissions();this.availablePermissions.set(t)}catch(t){console.error("Error loading available permissions:",t)}})}onSearchChange(){this.currentPage.set(0)}onPageChange(t){this.currentPage.set(t.pageIndex),this.pageSize.set(t.pageSize)}clearFilters(){this.searchTerm.set(""),this.selectedType.set(""),this.selectedStatus.set(""),this.currentPage.set(0)}isExpired(t){return t?new Date(t)<new Date:!1}openAssignDialog(){this.editingPermission.set(null),this.resetAssignForm(),this.showAssignDialog.set(!0)}closeAssignDialog(){this.showAssignDialog.set(!1),this.editingPermission.set(null),this.resetAssignForm()}editPermission(t){this.editingPermission.set(t),this.assignForm={permissionId:t.permissionId,isGranted:t.isGranted,expiresAt:t.expiresAt?new Date(t.expiresAt):null,reason:t.reason||""},this.showAssignDialog.set(!0)}handleAssignPermission(){return w(this,null,function*(){if(!(!this.userId()||!this.assignForm.permissionId))try{this.isAssigning.set(!0),this.editingPermission()?(yield this.userPermissionService.updateUserPermission(this.editingPermission().id,{isGranted:this.assignForm.isGranted,grantedBy:"current-user",expiresAt:this.assignForm.expiresAt||void 0,reason:this.assignForm.reason||void 0}),this.snackBar.open("C\u1EADp nh\u1EADt quy\u1EC1n th\xE0nh c\xF4ng","\u0110\xF3ng",{duration:3e3})):(yield this.userPermissionService.assignPermissionToUser({userId:this.userId(),permissionId:this.assignForm.permissionId,isGranted:this.assignForm.isGranted,expiresAt:this.assignForm.expiresAt||void 0,reason:this.assignForm.reason||void 0,grantedBy:"current-user"}),this.snackBar.open("Th\xEAm quy\u1EC1n th\xE0nh c\xF4ng","\u0110\xF3ng",{duration:3e3})),yield this.loadUserPermissions(),this.closeAssignDialog()}catch(t){console.error("Error assigning permission:",t),this.snackBar.open(t.message||"C\xF3 l\u1ED7i x\u1EA3y ra khi x\u1EED l\xFD quy\u1EC1n","\u0110\xF3ng",{duration:5e3})}finally{this.isAssigning.set(!1)}})}revokePermission(t){return w(this,null,function*(){if(confirm("B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n thu h\u1ED3i quy\u1EC1n n\xE0y kh\xF4ng?"))try{this.processingPermission.set(t.id),yield this.userPermissionService.deleteUserPermission(t.id),this.snackBar.open("Thu h\u1ED3i quy\u1EC1n th\xE0nh c\xF4ng","\u0110\xF3ng",{duration:3e3}),yield this.loadUserPermissions()}catch(e){console.error("Error revoking permission:",e),this.snackBar.open(e.message||"C\xF3 l\u1ED7i x\u1EA3y ra khi thu h\u1ED3i quy\u1EC1n","\u0110\xF3ng",{duration:5e3})}finally{this.processingPermission.set(null)}})}resetAssignForm(){this.assignForm={permissionId:"",isGranted:!0,expiresAt:null,reason:""}}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=k({type:r,selectors:[["app-user-permission-management"]],inputs:{userId:[1,"userId"]},decls:49,vars:9,consts:[["noExpiry",""],["actionMenu","matMenu"],["picker",""],[1,"user-permission-management","p-4"],[1,"header","mb-4"],[1,"flex","justify-between","items-center"],[1,"text-xl","font-bold"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"text-gray-600","mt-2"],[1,"filters","mb-4","p-4","bg-gray-50","rounded"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],["appearance","outline"],["matInput","","placeholder","T\xEAn quy\u1EC1n...",3,"ngModelChange","input","ngModel"],["matSuffix",""],[3,"ngModelChange","selectionChange","ngModel"],["value",""],["value","granted"],["value","denied"],["value","active"],["value","expired"],[1,"flex","items-end"],["mat-stroked-button","",3,"click"],["class","text-center py-8",4,"ngIf"],["class","table-container",4,"ngIf"],["class","statistics mt-6 p-4 bg-blue-50 rounded",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"text-center","py-8"],[1,"mx-auto"],[1,"mt-4","text-gray-600"],[1,"text-red-500","text-4xl"],[1,"mt-2","text-red-600"],["mat-raised-button","","color","primary",1,"mt-4",3,"click"],[1,"table-container"],["mat-table","","matSort","",1,"w-full",3,"dataSource"],["matColumnDef","permission"],["mat-header-cell","","mat-sort-header","","class","font-bold",4,"matHeaderCellDef"],["mat-cell","","class","py-3",4,"matCellDef"],["matColumnDef","type"],["mat-header-cell","","class","font-bold",4,"matHeaderCellDef"],["matColumnDef","grantedBy"],["matColumnDef","grantedAt"],["matColumnDef","expiresAt"],["matColumnDef","reason"],["mat-cell","","class","py-3 max-w-xs",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"opacity-50",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"font-bold"],["mat-cell","",1,"py-3"],[1,"flex","flex-col"],[1,"font-medium"],[1,"text-sm","text-gray-500"],["mat-header-cell","",1,"font-bold"],[4,"ngIf","ngIfElse"],["class","block text-xs text-red-500",4,"ngIf"],[1,"block","text-xs","text-red-500"],[1,"text-green-600","text-sm"],["mat-cell","",1,"py-3","max-w-xs"],[1,"text-sm","text-gray-700","line-clamp-2",3,"title"],["mat-icon-button","",3,"matMenuTriggerFor","disabled"],[4,"ngIf"],["diameter","20",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"text-red-600",3,"click"],["diameter","20"],["mat-header-row",""],["mat-row",""],[1,"text-gray-400","text-4xl"],[1,"mt-2","text-gray-600"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions"],[1,"statistics","mt-6","p-4","bg-blue-50","rounded"],[1,"font-semibold","mb-2"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4","text-sm"],[1,"text-gray-600"],[1,"font-semibold","ml-1"],[1,"font-semibold","ml-1","text-green-600"],[1,"font-semibold","ml-1","text-red-600"],[1,"font-semibold","ml-1","text-orange-600"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","p-6","max-w-md","w-full","mx-4",3,"click"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold"],["mat-icon-button","",3,"click"],[3,"ngSubmit"],[1,"space-y-4"],["appearance","outline",1,"w-full"],["name","permissionId","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","isGranted","required","",3,"ngModelChange","ngModel"],[3,"value"],["matInput","","name","expiresAt",3,"ngModelChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],["matInput","","name","reason","rows","3","placeholder","Nh\u1EADp l\xFD do c\u1EA5p/t\u1EEB ch\u1ED1i quy\u1EC1n n\xE0y...",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-2","mt-6"],["type","button","mat-stroked-button","",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["diameter","20","class","mr-2",4,"ngIf"],["diameter","20",1,"mr-2"]],template:function(e,s){e&1&&(i(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2",6),a(4,"Qu\u1EA3n L\xFD Quy\u1EC1n \u0110\u1EB7c Bi\u1EC7t"),n(),i(5,"button",7),c("click",function(){return s.openAssignDialog()}),i(6,"mat-icon"),a(7,"add"),n(),a(8," Th\xEAm Quy\u1EC1n "),n()(),i(9,"p",8),a(10," Qu\u1EA3n l\xFD c\xE1c quy\u1EC1n \u0111\u1EB7c bi\u1EC7t cho user n\xE0y (s\u1EBD ghi \u0111\xE8 quy\u1EC1n t\u1EEB roles) "),n()(),i(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),a(15,"T\xECm ki\u1EBFm quy\u1EC1n"),n(),i(16,"input",12),M("ngModelChange",function(l){return y(s.searchTerm,l)||(s.searchTerm=l),l}),c("input",function(){return s.onSearchChange()}),n(),i(17,"mat-icon",13),a(18,"search"),n()(),i(19,"mat-form-field",11)(20,"mat-label"),a(21,"Lo\u1EA1i quy\u1EC1n"),n(),i(22,"mat-select",14),M("ngModelChange",function(l){return y(s.selectedType,l)||(s.selectedType=l),l}),c("selectionChange",function(){return s.loadUserPermissions()}),i(23,"mat-option",15),a(24,"T\u1EA5t c\u1EA3"),n(),i(25,"mat-option",16),a(26,"\u0110\u01B0\u1EE3c c\u1EA5p"),n(),i(27,"mat-option",17),a(28,"B\u1ECB t\u1EEB ch\u1ED1i"),n()()(),i(29,"mat-form-field",11)(30,"mat-label"),a(31,"Tr\u1EA1ng th\xE1i"),n(),i(32,"mat-select",14),M("ngModelChange",function(l){return y(s.selectedStatus,l)||(s.selectedStatus=l),l}),c("selectionChange",function(){return s.loadUserPermissions()}),i(33,"mat-option",15),a(34,"T\u1EA5t c\u1EA3"),n(),i(35,"mat-option",18),a(36,"Ho\u1EA1t \u0111\u1ED9ng"),n(),i(37,"mat-option",19),a(38,"\u0110\xE3 h\u1EBFt h\u1EA1n"),n()()(),i(39,"div",20)(40,"button",21),c("click",function(){return s.clearFilters()}),i(41,"mat-icon"),a(42,"clear"),n(),a(43," X\xF3a b\u1ED9 l\u1ECDc "),n()()()(),u(44,Qe,4,0,"div",22)(45,je,7,1,"div",22)(46,xt,27,5,"div",23)(47,ht,24,4,"div",24),n(),u(48,yt,42,13,"div",25)),e&2&&(m(5),d("disabled",!s.userId()||s.isLoading()),m(11),C("ngModel",s.searchTerm),m(6),C("ngModel",s.selectedType),m(10),C("ngModel",s.selectedStatus),m(12),d("ngIf",s.isLoading()),m(),d("ngIf",s.error()),m(),d("ngIf",!s.isLoading()&&!s.error()),m(),d("ngIf",!s.isLoading()&&!s.error()),m(),d("ngIf",s.showAssignDialog()))},dependencies:[z,W,H,N,le,oe,ie,ne,re,me,ae,se,ge,ce,pe,ue,fe,_e,K,Q,j,Y,J,Ve,we,Ae,Ie,Te,be,Fe,De,Ue,ke,Be,Le,qe,He,Ge,We,he,xe,O,Ee,ve,Ce,ye,Me,R,te,$,Z,ee,de,Pe,Se],encapsulation:2})};export{Re as UserPermissionManagementComponent};

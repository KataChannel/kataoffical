import './polyfills.server.mjs';
import{a as oe}from"./chunk-5TNS35FN.mjs";import{a as ae}from"./chunk-STSM7BBW.mjs";import"./chunk-7BHYQM75.mjs";import"./chunk-73IBRO6I.mjs";import{a as ne,b as ie}from"./chunk-OLX7UREP.mjs";import{h as J}from"./chunk-IVTW3L2Z.mjs";import"./chunk-26NM6QMQ.mjs";import"./chunk-GP5NNPSV.mjs";import"./chunk-KVXSGNXI.mjs";import"./chunk-IVKJ7EUK.mjs";import"./chunk-PCKTCN7P.mjs";import"./chunk-2CQA7NHR.mjs";import{b as ee}from"./chunk-IRYT2YMQ.mjs";import{d as te}from"./chunk-SWDJOT3A.mjs";import{a as R,b as j}from"./chunk-RRMIVD4H.mjs";import{a as O}from"./chunk-KZYXYOGH.mjs";import"./chunk-A7GM4VZW.mjs";import"./chunk-4SOAP4KW.mjs";import"./chunk-GFBFQNX5.mjs";import"./chunk-MGIVCIKU.mjs";import{b as H,g as K,j as z,l as X,n as q,p as Q,u as U,v as Y,x as Z,y as $}from"./chunk-2I4WAPPZ.mjs";import"./chunk-FD3IXO7Q.mjs";import"./chunk-7ZQLLCLM.mjs";import"./chunk-DMOTB6FA.mjs";import{a as P,b as N,d as G}from"./chunk-V3ASAWLT.mjs";import"./chunk-GFXQFTRQ.mjs";import"./chunk-P5ZL7ANQ.mjs";import{a as W,d as L}from"./chunk-OAPSLP2Q.mjs";import"./chunk-LQLBO4MK.mjs";import{n as I,o as A,q as B,s as F}from"./chunk-G5MXV5JM.mjs";import{Bb as V,Cc as l,Dc as E,Ec as b,Ib as x,Ic as h,Jc as g,Kc as _,Na as y,Rc as v,Tc as k,Ub as s,dc as n,ec as i,gc as M,hc as w,jc as C,la as D,oc as f,pb as m,pd as T,qc as d,ua as c,va as u}from"./chunk-WORJTRGV.mjs";import"./chunk-KB5IWD3E.mjs";import{j as S}from"./chunk-RIAI3ORJ.mjs";function re(p,a){if(p&1){let e=C();n(0,"button",1),f("click",function(){c(e);let t=d();return u(t.handleSanphamAction())}),n(1,"mat-icon"),l(2,"save"),i()()}}function me(p,a){if(p&1){let e=C();n(0,"button",1),f("click",function(){c(e);let t=d();return u(t.toggleEdit())}),n(1,"mat-icon"),l(2,"edit"),i()()}}function pe(p,a){if(p&1){let e=C();M(0),n(1,"div",9)(2,"div",10),l(3,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),i(),n(4,"div",11)(5,"button",12),f("click",function(){c(e);let t=d();return u(t.DeleteData())}),l(6,"\u0110\u1ED3ng \xDD"),i(),n(7,"button",13),f("click",function(){c(e);let t=d();return u(t.toggleDelete())}),l(8,"Hu\u1EF7 B\u1ECF"),i()()(),w()}}function se(p,a){if(p&1&&(n(0,"div",27)(1,"span"),l(2),i(),n(3,"span"),l(4),i(),n(5,"span"),l(6),v(7,"date"),i()()),p&2){let e=a.$implicit;m(2),E(e.madonhang),m(2),b("- ",e.sldat,""),m(2),E(k(7,3,e.createdAt,"dd/MM/yyyy"))}}function de(p,a){if(p&1&&(n(0,"div",28)(1,"span"),l(2),i(),n(3,"span"),l(4),i(),n(5,"span"),l(6),v(7,"date"),i()()),p&2){let e=a.$implicit;m(2),E(e.madncc),m(2),b("+ ",e.sldat,""),m(2),E(k(7,3,e.createdAt,"dd/MM/yyyy"))}}function ce(p,a){if(p&1){let e=C();M(0),n(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),l(4,"Ti\xEAu \u0110\u1EC1"),i(),n(5,"input",16),_("ngModelChange",function(t){c(e);let o=d();return g(o.DetailSanpham().title,t)||(o.DetailSanpham().title=t),u(t)}),i()(),n(6,"mat-form-field",15)(7,"mat-label"),l(8,"G\u1EE3i \xDD T\xECm Ki\u1EBFm"),i(),n(9,"input",17),_("ngModelChange",function(t){c(e);let o=d();return g(o.DetailSanpham().subtitle,t)||(o.DetailSanpham().subtitle=t),u(t)}),i()(),n(10,"mat-form-field",15)(11,"mat-label"),l(12,"M\xE3 S\u1EA3n Ph\u1EA9m"),i(),n(13,"input",18),_("ngModelChange",function(t){c(e);let o=d();return g(o.DetailSanpham().masp,t)||(o.DetailSanpham().masp=t),u(t)}),i()(),n(14,"mat-form-field",15)(15,"mat-label"),l(16,"Gi\xE1 G\u1ED1c"),i(),n(17,"input",19),_("ngModelChange",function(t){c(e);let o=d();return g(o.DetailSanpham().giagoc,t)||(o.DetailSanpham().giagoc=t),u(t)}),i()(),n(18,"mat-form-field",15)(19,"mat-label"),l(20,"\u0110\u01A1n V\u1ECB T\xEDnh"),i(),n(21,"input",18),_("ngModelChange",function(t){c(e);let o=d();return g(o.DetailSanpham().dvt,t)||(o.DetailSanpham().dvt=t),u(t)}),i()(),n(22,"div",20)(23,"mat-form-field",15)(24,"mat-label"),l(25,"S\u1ED1 L\u01B0\u1EE3ng"),i(),n(26,"input",21),_("ngModelChange",function(t){c(e);let o=d();return g(o.DetailSanpham().soluong,t)||(o.DetailSanpham().soluong=t),u(t)}),i()(),n(27,"mat-form-field",15)(28,"mat-label"),l(29,"S\u1ED1 L\u01B0\u1EE3ng Kho"),i(),n(30,"input",21),_("ngModelChange",function(t){c(e);let o=d();return g(o.DetailSanpham().soluongkho,t)||(o.DetailSanpham().soluongkho=t),u(t)}),i()(),n(31,"mat-form-field",15)(32,"mat-label"),l(33,"Hao H\u1EE5t %"),i(),n(34,"input",22),_("ngModelChange",function(t){c(e);let o=d();return g(o.DetailSanpham().haohut,t)||(o.DetailSanpham().haohut=t),u(t)}),i()()(),n(35,"div",23)(36,"div",24)(37,"span"),l(38,"M\xE3 \u0110\u01A1n"),i(),n(39,"span"),l(40,"S\u1ED1 L\u01B0\u1EE3ng"),i(),n(41,"span"),l(42,"Ng\xE0y T\u1EA1o"),i()(),x(43,se,8,6,"div",25)(44,de,8,6,"div",26),i()(),w()}if(p&2){let e=d();m(5),h("ngModel",e.DetailSanpham().title),s("disabled",!e.isEdit()),m(4),h("ngModel",e.DetailSanpham().subtitle),s("disabled",!e.isEdit()),m(4),h("ngModel",e.DetailSanpham().masp),s("disabled",!0),m(4),h("ngModel",e.DetailSanpham().giagoc),s("disabled",!e.isEdit()),m(4),h("ngModel",e.DetailSanpham().dvt),s("disabled",!e.isEdit()),m(5),h("ngModel",e.DetailSanpham().soluong),s("disabled",!e.isEdit()),m(4),h("ngModel",e.DetailSanpham().soluongkho),s("disabled",!e.isEdit()),m(4),h("ngModel",e.DetailSanpham().haohut),s("disabled",!e.isEdit()),m(9),s("ngForOf",e.DetailSanpham().Donhang),m(),s("ngForOf",e.DetailSanpham().Dathang)}}var le=class p{_ListsanphamComponent=D(oe);_SanphamService=D(ae);_route=D(W);_router=D(L);_snackBar=D(O);constructor(){this._route.paramMap.subscribe(a=>{let e=a.get("id");this._SanphamService.setSanphamId(e)}),T(()=>S(this,null,function*(){let a=this._SanphamService.sanphamId();a||(this._router.navigate(["/admin/sanpham"]),this._ListsanphamComponent.drawer.close()),a==="0"?(this.DetailSanpham.set({}),this._ListsanphamComponent.drawer.open(),this.isEdit.update(e=>!e),this._router.navigate(["/admin/sanpham","0"])):(yield this._SanphamService.getSanphamByid(a),this._ListsanphamComponent.drawer.open(),this._router.navigate(["/admin/sanpham",a]))}))}DetailSanpham=this._SanphamService.DetailSanpham;isEdit=y(!1);isDelete=y(!1);sanphamId=this._SanphamService.sanphamId;ngOnInit(){return S(this,null,function*(){})}handleSanphamAction(){return S(this,null,function*(){this.sanphamId()==="0"?yield this.createSanpham():yield this.updateSanpham()})}createSanpham(){return S(this,null,function*(){try{yield this._SanphamService.CreateSanpham(this.DetailSanpham()),this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(a=>!a)}catch(a){console.error("L\u1ED7i khi t\u1EA1o sanpham:",a)}})}updateSanpham(){return S(this,null,function*(){try{yield this._SanphamService.updateSanpham(this.DetailSanpham()),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(a=>!a)}catch(a){console.error("L\u1ED7i khi c\u1EADp nh\u1EADt sanpham:",a)}})}DeleteData(){return S(this,null,function*(){try{yield this._SanphamService.DeleteSanpham(this.DetailSanpham()),this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/sanpham"])}catch(a){console.error("L\u1ED7i khi x\xF3a sanpham:",a)}})}goBack(){this._router.navigate(["/admin/sanpham"]),this._ListsanphamComponent.drawer.close()}trackByFn(a,e){return e.id}toggleEdit(){this.isEdit.update(a=>!a)}toggleDelete(){this.isDelete.update(a=>!a)}FillSlug(){this.DetailSanpham.update(a=>(a.slug=te(a.title),a))}static \u0275fac=function(e){return new(e||p)};static \u0275cmp=V({type:p,selectors:[["app-detailsanpham"]],decls:17,vars:8,consts:[[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],[3,"ngModelChange","ngModel","disabled"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[4,"ngIf"],[1,"flex","flex-col","space-y-4","items-center","justify-center"],[1,"font-bold","text-2xl"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"w-full","flex","flex-col","space-y-2"],["appearance","outline"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Ti\xEAu \u0110\u1EC1",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp G\u1EE3i \xDD T\xECm Ki\u1EBFm",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp M\xE3 S\u1EA3n Ph\u1EA9m",3,"ngModelChange","ngModel","disabled"],["matInput","","type","number","placeholder","Vui l\xF2ng nh\u1EADp Gi\xE1 G\u1ED1c",3,"ngModelChange","ngModel","disabled"],[1,"flex","flex-row","space-x-2"],["matInput","","type","number","placeholder","Vui l\xF2ng nh\u1EADp M\xE3 S\u1EA3n Ph\u1EA9m",3,"ngModelChange","ngModel","disabled"],["matInput","","type","number","placeholder","Vui l\xF2ng nh\u1EADp haohut",3,"ngModelChange","ngModel","disabled"],[1,"flex","flex-col","space-y-2","p-4"],[1,"grid","grid-cols-3","gap-2","font-bold"],["class","grid grid-cols-3 gap-2 text-red-600",4,"ngFor","ngForOf"],["class","grid grid-cols-3 gap-2 text-green-600",4,"ngFor","ngForOf"],[1,"grid","grid-cols-3","gap-2","text-red-600"],[1,"grid","grid-cols-3","gap-2","text-green-600"]],template:function(e,r){if(e&1&&(n(0,"div",0)(1,"button",1),f("click",function(){return r.goBack()}),n(2,"mat-icon"),l(3,"arrow_back"),i()(),n(4,"div",2),l(5),i(),n(6,"div",3)(7,"mat-slide-toggle",4),_("ngModelChange",function(o){return g(r.DetailSanpham().isActive,o)||(r.DetailSanpham().isActive=o),o}),l(8),i(),x(9,re,3,0,"button",5)(10,me,3,0,"button",5),n(11,"button",6),f("click",function(){return r.toggleDelete()}),n(12,"mat-icon"),l(13,"delete"),i()()()(),n(14,"div",7),x(15,pe,9,0,"ng-container",8)(16,ce,45,18,"ng-container",8),i()),e&2){let t;m(5),E(((t=r.DetailSanpham())==null?null:t.title)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),m(2),h("ngModel",r.DetailSanpham().isActive),s("disabled",!r.isEdit()),m(),E(r.DetailSanpham().isActive?"Hi\u1EC3n Th\u1ECB":"\u1EA8n"),m(),s("ngIf",r.isEdit()),m(),s("ngIf",!r.isEdit()),m(5),s("ngIf",r.isDelete()),m(),s("ngIf",!r.isDelete())}},dependencies:[Y,U,Q,$,Z,q,H,X,K,z,j,R,G,P,N,ee,J,F,I,A,B,ie,ne],encapsulation:2})};export{le as DetailSanphamComponent};

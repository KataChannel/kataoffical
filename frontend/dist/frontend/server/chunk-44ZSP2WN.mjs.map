{
  "version": 3,
  "sources": ["src/app/admin/importdata/importdata.service.ts", "src/app/admin/importdata/listimportdata/listimportdata.component.ts", "src/app/admin/importdata/listimportdata/listimportdata.component.html", "src/app/admin/importdata/import-confirmation-dialog.component.ts", "src/app/shared/services/import-data-validation.service.ts"],
  "sourcesContent": ["import { inject, Injectable, signal, Signal } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { environment } from '../../../environments/environment.development';\nimport { StorageService } from '../../shared/utils/storage.service';\nimport { openDB } from 'idb';\nimport { ErrorLogService } from '../../shared/services/errorlog.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { SharedSocketService } from '../../shared/services/sharedsocket.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class ImportdataService {\n  private socket: any;\n  constructor(\n    private _StorageService: StorageService,\n    private router: Router,\n    private _ErrorLogService: ErrorLogService,\n    private _sharedSocketService: SharedSocketService,\n  ) {\n    this.socket = this._sharedSocketService.getSocket();\n    this.listenImportdataUpdates();\n  }\n\n  private _snackBar: MatSnackBar = inject(MatSnackBar);\n  ListImportdata = signal<any[]>([]);\n  DetailImportdata = signal<any>({});\n  page = signal<number>(1);\n  pageCount = signal<number>(1);\n  total = signal<number>(0);\n  pageSize = signal<number>(9999); // M·∫∑c ƒë·ªãnh 10 m·ª•c m·ªói trang\n  importdataId = signal<string | null>(null);\n\n  // Kh·ªüi t·∫°o IndexedDB\n\n  setImportdataId(id: string | null) {\n    this.importdataId.set(id);\n  }\n\n  async CreateImportdata(dulieu: any) {\n    try {\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this._StorageService.getItem('token')}`\n        },\n        body: JSON.stringify(dulieu),\n      };\n      const response = await fetch(`${environment.APIURL}/importdata`, options);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      this.getAllImportdata(this.pageSize());\n      this.importdataId.set(data.id);\n    } catch (error) {\n      this._ErrorLogService.logError('Failed to CreateImportdata', error);\n      console.error(error);\n    }\n  }\n\n  async getAllImportdata(pageSize: number = this.pageSize(), forceRefresh: boolean = false) {\n    this.pageSize.set(pageSize);\n  try {\n      const options = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this._StorageService.getItem('token')}`\n        },\n      };\n\n      // T·∫£i d·ªØ li·ªáu m·ªõi t·ª´ server\n      const query = new URLSearchParams({\n        page: this.page().toString(),\n        limit: pageSize.toString()\n      });\n      const response = await fetch(`${environment.APIURL}/importdata?${query}`, options);\n      if (!response.ok) {\n        this.handleError(response.status);\n      }\n      const data = await response.json();\n      this.ListImportdata.set(data.data);\n      this.page.set(data.page || 1);\n      this.pageCount.set(data.pageCount || 1);\n      this.total.set(data.total || data.data.length);\n      this.pageSize.set(pageSize);\n      return data.data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getUpdatedCodeIds() {\n    try {\n      const options = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this._StorageService.getItem('token')}`\n        },\n      };\n      const response = await fetch(`${environment.APIURL}/importdata/updateCodeIds`, options);\n      if (!response.ok) {\n        this.handleError(response.status);\n      }\n      const data = await response.json();\n      this.getAllImportdata(this.pageSize());\n      return data.data;\n    } catch (error) {\n      this._ErrorLogService.logError('Failed to getUpdatedCodeIds', error);\n      console.error(error);\n    }\n  }\n\n  listenImportdataUpdates() {\n    this.socket.off('importdata-updated'); // ƒë·∫£m b·∫£o kh√¥ng ƒëƒÉng k√Ω nhi·ªÅu l·∫ßn\n    this.socket.on('importdata-updated', async () => {\n      console.log('üîÑ D·ªØ li·ªáu s·∫£n ph·∫©m thay ƒë·ªïi, c·∫≠p nh·∫≠t l·∫°i cache...');\n      this._StorageService.removeItem('importdatas_updatedAt');\n      await this.getAllImportdata();\n    });\n  }\n\n  async getImportdataBy(param: any, pageSize: number = this.pageSize()) {\n    this.pageSize.set(pageSize); // C·∫≠p nh·∫≠t pageSize\n    try {\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this._StorageService.getItem('token')}`\n        },\n        body: JSON.stringify({ ...param, page: this.page(), limit: pageSize }),\n      };\n      const response = await fetch(`${environment.APIURL}/importdata/findby`, options);\n      if (!response.ok) {\n        this.handleError(response.status);\n      }\n      const data = await response.json();\n      if (param.isOne === true) {\n        this.DetailImportdata.set(data);\n      } else {\n        this._StorageService.setItem('importdatas_updatedAt', new Date().toISOString());\n        this.ListImportdata.set(data.data);\n        this.page.set(data.page || 1);\n        this.pageCount.set(data.pageCount || 1);\n        this.total.set(data.total || data.data.length);\n        this.pageSize.set(pageSize);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async updateImportdata(dulieu: any) {\n    try {\n      const options = {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this._StorageService.getItem('token')}`\n        },\n        body: JSON.stringify(dulieu),\n      };\n      const response = await fetch(`${environment.APIURL}/importdata/${dulieu.id}`, options);\n      if (!response.ok) {\n        this.handleError(response.status);\n      }\n      const data = await response.json();\n      this.getAllImportdata(this.pageSize());\n      this.getImportdataBy({ id: data.id, isOne: true }, this.pageSize());\n    } catch (error) {\n      this._ErrorLogService.logError('Failed to updateImportdata', error);\n      console.error(error);\n    }\n  }\n\n  async DeleteImportdata(item: any) {\n    try {\n      const options = {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this._StorageService.getItem('token')}`\n        },\n      };\n      const response = await fetch(`${environment.APIURL}/importdata/${item.id}`, options);\n      if (!response.ok) {\n        this.handleError(response.status);\n      }\n      this.getAllImportdata(this.pageSize());\n    } catch (error) {\n      this._ErrorLogService.logError('Failed to DeleteImportdata', error);\n      console.error(error);\n    }\n  }\n\n  private handleError(status: number) {\n    let message = 'L·ªói kh√¥ng x√°c ƒë·ªãnh';\n    switch (status) {\n      case 400:\n        message = 'Th√¥ng tin ƒë√£ t·ªìn t·∫°i';\n        break;\n      case 401:\n      case 404:\n        message = 'Vui l√≤ng ƒëƒÉng nh·∫≠p l·∫°i';\n        break;\n      case 403:\n        message = 'B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p';\n        break;\n      case 500:\n        message = 'L·ªói m√°y ch·ªß, vui l√≤ng th·ª≠ l·∫°i sau';\n        break;\n    }\n    this._snackBar.open(message, '', {\n      duration: 1000,\n      horizontalPosition: 'end',\n      verticalPosition: 'top',\n      panelClass: ['snackbar-error'],\n    });\n  }\n}", "import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  computed,\n  effect,\n  inject,\n  OnInit,\n  signal,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSort, MatSortModule } from '@angular/material/sort';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { MatDrawer, MatSidenavModule } from '@angular/material/sidenav';\nimport { Router, RouterLink, RouterOutlet } from '@angular/router';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSelectModule } from '@angular/material/select';\nimport { CommonModule } from '@angular/common';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { FormsModule } from '@angular/forms';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { ImportdataService } from '../importdata.service';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport {\n  excelSerialDateToJSDate,\n  readExcelFile,\n  readExcelFileNoWorker,\n  writeExcelFile,\n  writeExcelFileSheets,\n} from '../../../shared/utils/exceldrive.utils';\nimport {\n  ConvertDriveData,\n  convertToSlug,\n  GenId,\n} from '../../../shared/utils/shared.utils';\nimport { GoogleSheetService } from '../../../shared/googlesheets/googlesheets.service';\nimport { MatDialog, MatDialogModule } from '@angular/material/dialog';\nimport { SearchfilterComponent } from '../../../shared/common/searchfilter/searchfilter.component';\nimport { environment } from '../../../../environments/environment.development';\nimport { memoize, Debounce } from '../../../shared/utils/decorators';\nimport { BanggiaService } from '../../banggia/banggia.service';\nimport { DathangService } from '../../dathang/dathang.service';\nimport { DonhangService } from '../../donhang/donhang.service';\nimport { KhachhangService } from '../../khachhang/khachhang.service';\nimport { NhacungcapService } from '../../nhacungcap/nhacungcap.service';\nimport { SanphamService } from '../../sanpham/sanpham.service';\nimport moment from 'moment';\nimport { PhieukhoService } from '../../phieukho/phieukho.service';\nimport { KhoService } from '../../kho/kho.service';\nimport { removeVietnameseAccents } from '../../../shared/utils/texttransfer.utils';\nimport { UserService } from '../../user/user.service';\nimport {\n  ImportConfirmationDialogComponent,\n  ImportConfirmationData,\n} from '../import-confirmation-dialog.component';\nimport {\n  MatDatepickerModule, \n  MatDateRangeInput, \n  MatDateRangePicker,\n  MatDatepickerToggle,\n  MatDatepickerActions\n} from '@angular/material/datepicker';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { ImportDataValidationService } from '../../../shared/services/import-data-validation.service';\n@Component({\n  selector: 'app-listimportdata',\n  standalone: true,\n  templateUrl: './listimportdata.component.html',\n  styleUrls: ['./listimportdata.component.scss'],\n  imports: [\n    MatFormFieldModule,\n    MatInputModule,\n    MatTableModule,\n    MatSortModule,\n    MatPaginatorModule,\n    MatMenuModule,\n    MatSidenavModule,\n    MatIconModule,\n    MatButtonModule,\n    MatSelectModule,\n    CommonModule,\n    FormsModule,\n    MatTooltipModule,\n    MatDialogModule,\n    MatProgressSpinnerModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatDateRangeInput,\n    MatDateRangePicker,\n    MatDatepickerToggle,\n    MatDatepickerActions,\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ListImportdataComponent implements OnInit {\n  displayedColumns: string[] = [];\n  ColumnName: any = {\n    stt: '#',\n    codeId: 'Code',\n    name: 'Ti√™u ƒê·ªÅ',\n    group: 'Nh√≥m',\n    description: 'M√¥ T·∫£',\n    status: 'Tr·∫°ng Th√°i',\n    order: 'Th·ª© T·ª±',\n    createdAt: 'Ng√†y T·∫°o',\n    updatedAt: 'Ng√†y C·∫≠p Nh·∫≠t',\n  };\n  FilterColumns: any[] = JSON.parse(\n    localStorage.getItem('ImportdataColFilter') || '[]'\n  );\n  Columns: any[] = [];\n\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n  @ViewChild(MatSort) sort!: MatSort;\n  @ViewChild('drawer', { static: true }) drawer!: MatDrawer;\n\n  private _BanggiaService: BanggiaService = inject(BanggiaService);\n  private _SanphamService: SanphamService = inject(SanphamService);\n  private _KhachhangService: KhachhangService = inject(KhachhangService);\n  private _NhacungcapService: NhacungcapService = inject(NhacungcapService);\n  private _DonhangService: DonhangService = inject(DonhangService);\n  private _DathangService: DathangService = inject(DathangService);\n  private _PhieukhoService: PhieukhoService = inject(PhieukhoService);\n  private _UserService: UserService = inject(UserService);\n  private _KhoService: KhoService = inject(KhoService);\n  private _ImportdataService: ImportdataService = inject(ImportdataService);\n  private _dialog: MatDialog = inject(MatDialog);\n  private _snackBar: MatSnackBar = inject(MatSnackBar);\n  \n  // Loading states using signals\n  isLoading = signal<boolean>(false);\n  isImporting = signal<boolean>(false);\n  isExporting = signal<boolean>(false);\n  loadingMessage = signal<string>('');\n  \n  // Date range properties\n  batdau: Date = new Date();\n  ketthuc: Date = new Date();\n  \n  ListImportType = signal<any[]>([\n    { id: 1, title: 'S·∫£n Ph·∫©m', value: 'sanpham', status: true },\n    { id: 2, title: 'Kh√°ch H√†ng', value: 'khachhang', status: true },\n    { id: 3, title: 'Nh√† Cung C·∫•p', value: 'nhacungcap', status: true },\n    { id: 4, title: 'B·∫£ng Gi√°', value: 'banggia', status: true },\n    { id: 5, title: 'ƒê∆°n H√†ng', value: 'donhang', status: true },\n    { id: 6, title: 'ƒê·∫∑t H√†ng', value: 'dathang', status: true },\n    {\n      id: 7,\n      title: 'B·∫£ng Gi√° Kh√°ch H√†ng',\n      value: 'banggiakhachhang',\n      status: true,\n    },\n    {\n      id: 8,\n      title: 'B·∫£ng Gi√° S·∫£n Ph·∫©m',\n      value: 'banggiasanpham',\n      status: true,\n    },\n    {\n      id: 9,\n      title: 'Nh√† Cung C·∫•p S·∫£n Ph·∫©m',\n      value: 'nhacungcapsanpham',\n      status: true,\n    },\n    { id: 10, title: 'Xu·∫•t Nh·∫≠p T·ªìn', value: 'xuatnhapton', status: true },\n    { id: 11, title: 'Kho', value: 'kho', status: true },\n  ]);\n  ListEdit = signal<any[]>([]);\n  ListImportdata: any = this._ImportdataService.ListImportdata;\n  TitleExport = 'export';\n  rawListSP: any[] = [];\n  rawListKH: any[] = [];\n  rawListNCC: any[] = [];\n  rawListBG: any[] = [];\n  rawListDH: any[] = [];\n  rawListDathang: any[] = [];\n  rawListTonkho: any[] = [];\n  rawListKho: any[] = [];\n\n  constructor() {\n    // Initialize date range (current date as default)\n    const today = new Date();\n    this.ketthuc = new Date(today);\n    this.batdau = new Date(today);\n    \n    effect(async () => {\n      this.isLoading.set(true);\n      this.loadingMessage.set('ƒêang t·∫£i d·ªØ li·ªáu...');\n      \n      try {\n        await this._ImportdataService.getAllImportdata(100, true);\n        \n        // Load data with date parameters\n        await this.loadDataWithDateRange();\n        \n        this.loadingMessage.set('ƒêang ki·ªÉm tra quy·ªÅn...');\n        await this._UserService.getProfile();\n        const permissions =\n          this._UserService\n            .profile()\n            ?.permissions?.map((item: any) => item.name) || [];\n        this.ListImportType.update((items) =>\n          items.map((item) => ({\n            ...item,\n            status: permissions.includes('importdata.' + item.value),\n          }))\n        );\n      } catch (error) {\n        console.error('Error loading data:', error);\n        this._snackBar.open('C√≥ l·ªói x·∫£y ra khi t·∫£i d·ªØ li·ªáu', '', {\n          duration: 3000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-error'],\n        });\n      } finally {\n        this.isLoading.set(false);\n        this.loadingMessage.set('');\n      }\n    });\n  }\n\n  // Date filtering methods\n  async loadDataWithDateRange() {\n    try {\n      // Create date parameters object for services that support it\n      const dateParams = {\n        Batdau: this.batdau,\n        Ketthuc: this.ketthuc,\n        pageSize: 9999\n      };\n      \n      this.loadingMessage.set('ƒêang t·∫£i danh s√°ch s·∫£n ph·∫©m...');\n      await this._SanphamService.getSanphamBy({pageSize: 99999});\n      this.rawListSP = this._SanphamService.ListSanpham();\n      \n      this.loadingMessage.set('ƒêang t·∫£i danh s√°ch kh√°ch h√†ng...');\n      await this._KhachhangService.getKhachhangBy({pageSize: 99999});\n      this.rawListKH = this._KhachhangService.ListKhachhang();\n      \n      this.loadingMessage.set('ƒêang t·∫£i danh s√°ch nh√† cung c·∫•p...');\n      await this._NhacungcapService.getNhacungcapBy({pageSize: 99999});\n      this.rawListNCC = this._NhacungcapService.ListNhacungcap();\n      \n      this.loadingMessage.set('ƒêang t·∫£i b·∫£ng gi√°...');\n      await this._BanggiaService.getAllBanggia();\n      this.rawListBG = this._BanggiaService.ListBanggia();\n      \n      this.loadingMessage.set('ƒêang t·∫£i ƒë∆°n h√†ng...');\n      await this._DonhangService.searchDonhang(dateParams);\n      this.rawListDH = this._DonhangService.ListDonhang();\n      \n      this.loadingMessage.set('ƒêang t·∫£i ƒë·∫∑t h√†ng...');\n      await this._DathangService.searchDathang(dateParams);\n      this.rawListDathang = this._DathangService.ListDathang();\n      \n      this.loadingMessage.set('ƒêang t·∫£i t·ªìn kho...');\n      await this._KhoService.getTonKho('1', '1000').then((res: any) => {\n        this.rawListTonkho = res.data;\n      });\n      \n      this.loadingMessage.set('ƒêang t·∫£i danh s√°ch kho...');\n      await this._KhoService.getAllKho();\n      this.rawListKho = this._KhoService.ListKho();\n      \n    } catch (error) {\n      console.error('Error loading data with date range:', error);\n      throw error;\n    }\n  }\n  \n  // Date change handler\n  async onDateChange() {\n    if (!this.isLoading()) {\n      this.isLoading.set(true);\n      this.loadingMessage.set('ƒêang c·∫≠p nh·∫≠t d·ªØ li·ªáu theo ng√†y...');\n      \n      try {\n        await this.loadDataWithDateRange();\n      } catch (error) {\n        console.error('Error updating data with new date range:', error);\n        this._snackBar.open('C√≥ l·ªói x·∫£y ra khi c·∫≠p nh·∫≠t d·ªØ li·ªáu', '', {\n          duration: 3000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-error'],\n        });\n      } finally {\n        this.isLoading.set(false);\n        this.loadingMessage.set('');\n      }\n    }\n  }\n  \n  // Apply date filter\n  async applyDateFilter() {\n    await this.onDateChange();\n  }\n  \n  // Quick date range methods\n  async setDateRange(range: string) {\n    const today = new Date();\n    \n    switch (range) {\n      case 'today':\n        this.batdau = new Date(today);\n        this.ketthuc = new Date(today);\n        break;\n      case 'yesterday':\n        const yesterday = new Date(today);\n        yesterday.setDate(yesterday.getDate() - 1);\n        this.batdau = new Date(yesterday);\n        this.ketthuc = new Date(yesterday);\n        break;\n      case 'last7days':\n        this.ketthuc = new Date(today);\n        this.batdau = new Date(today);\n        this.batdau.setDate(this.batdau.getDate() - 6);\n        break;\n      case 'last30days':\n        this.ketthuc = new Date(today);\n        this.batdau = new Date(today);\n        this.batdau.setDate(this.batdau.getDate() - 29);\n        break;\n      case 'thisMonth':\n        this.batdau = new Date(today.getFullYear(), today.getMonth(), 1);\n        this.ketthuc = new Date(today);\n        break;\n      case 'lastMonth':\n        const lastMonth = new Date(today.getFullYear(), today.getMonth() - 1, 1);\n        this.batdau = new Date(lastMonth);\n        this.ketthuc = new Date(today.getFullYear(), today.getMonth(), 0);\n        break;\n      case 'thisWeek':\n        const startOfWeek = new Date(today);\n        startOfWeek.setDate(today.getDate() - today.getDay());\n        this.batdau = new Date(startOfWeek);\n        this.ketthuc = new Date(today);\n        break;\n    }\n    \n    await this.applyDateFilter();\n  }\n\n  async ngOnInit(): Promise<void> {\n      this.loadDataWithDateRange();\n  }\n\n  applyFilter(event: Event) {}\n\n  toggleAll() {\n    const allSelected = this.ListEdit().length === this.ListImportType().length;\n    if (allSelected) {\n      this.ListEdit.set([]);\n      this.TitleExport = 'export';\n    } else {\n      this.ListEdit.set(this.ListImportType());\n      this.TitleExport = 'export_all';\n    }\n  }\n  toggleItem(item: any) {\n    const index = this.ListEdit().findIndex((i) => i.id === item.id);\n    if (index === -1) {\n      this.TitleExport += '_' + item.value;\n      this.ListEdit.update((prev) => [...prev, item]);\n    } else {\n      this.TitleExport = this.TitleExport.replace('_' + item.value, '');\n      this.ListEdit.update((prev) => prev.filter((i) => i.id !== item.id));\n    }\n  }\n  CheckItem(item: any) {\n    const index = this.ListEdit().findIndex((i) => i.id === item.id);\n    if (index === -1) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  async ExportExcel(title: any) {\n    if (this.isExporting()) return;\n    \n    this.isExporting.set(true);\n    this.loadingMessage.set('ƒêang chu·∫©n b·ªã d·ªØ li·ªáu xu·∫•t theo kho·∫£ng th·ªùi gian...');\n    \n    try {\n      // Get filtered data based on date range\n      const filteredData = this.getFilteredExportData();\n      \n      const ListSP =\n        Array.isArray(filteredData.ListSP) && filteredData.ListSP.length\n        ? filteredData.ListSP.map((item: any) => ({\n            masp: item.masp,\n            subtitle: item.subtitle,\n            title: item.title,\n            title2: item.title2,\n            giaban: item.giaban,\n            giagoc: item.giagoc,\n            vat: item.vat,\n            dvt: item.dvt,\n            haohut: item.haohut,\n            ghichu: item.ghichu,\n          }))\n        : [\n            {\n              masp: '',\n              subtitle: '',\n              title: '',\n              title2: '',\n              giaban: '',\n              giagoc: '',\n              vat: '',\n              dvt: '',\n              haohut: '',\n              ghichu: '',\n            },\n          ];\n    const ListKH =\n      Array.isArray(filteredData.ListKH) && filteredData.ListKH.length\n        ? filteredData.ListKH.map((v: any) => ({\n            name: v.name?.trim() || '',\n            tenfile: v.tenfile?.trim() || '',\n            makh: v.makh?.trim() || '',\n            namenn: v.namenn?.trim() || '',\n            mabanggia: v.banggia?.mabanggia?.trim() || '',\n            diachi: v.diachi?.trim() || '',\n            quan: v.quan?.trim() || '',\n            email: v.email?.trim() || '',\n            sdt: v.sdt?.toString().trim() || '',\n            mst: v.mst?.toString().trim() || '',\n            gionhanhang: v.gionhanhang?.toString().trim() || '',\n            loaikh: v.loaikh?.toString().trim() || 'khachsi',\n            hiengia: v.hiengia || true,\n            ghichu: v.ghichu?.toString().trim() || '',\n          }))\n        : [\n            {\n              name: '',\n              tenfile: '',\n              makh: '',\n              namenn: '',\n              diachi: '',\n              quan: '',\n              email: '',\n              sdt: '',\n              mst: '',\n              gionhanhang: '',\n              loaikh: 'khachsi',\n              hiengia: true,\n              ghichu: '',\n            },\n          ];\n\n    const ListNCC =\n      Array.isArray(filteredData.ListNCC) && filteredData.ListNCC.length > 0\n        ? filteredData.ListNCC.map((v: any) => ({\n            name: v.name?.trim() || '',\n            tenfile: v.tenfile?.trim() || '',\n            mancc: v.mancc?.trim() || '',\n            diachi: v.diachi?.trim() || '',\n            email: v.email?.trim() || '',\n            sdt: v.sdt?.toString().trim() || '',\n            ghichu: v.ghichu?.toString().trim() || '',\n          }))\n        : [\n            {\n              name: '',\n              tenfile: '',\n              mancc: '',\n              diachi: '',\n              email: '',\n              sdt: '',\n              ghichu: '',\n            },\n          ];\n\n    const ListBG =\n      Array.isArray(filteredData.ListBG) && filteredData.ListBG.length > 0\n        ? filteredData.ListBG.map((v: any) => ({\n            title: v.title?.trim() || '',\n            mabanggia: v.mabanggia?.trim() || '',\n            type: v.type?.trim() || '',\n            batdau: moment(v.batdau).format('DD/MM/YYYY') || '',\n            ketthuc: moment(v.ketthuc).format('DD/MM/YYYY') || '',\n            ghichu: v.ghichu?.trim() || '',\n            status: v.status?.trim() || '',\n          }))\n        : [\n            {\n              title: '',\n              mabanggia: '',\n              type: '',\n              batdau: '',\n              ketthuc: '',\n              ghichu: '',\n              status: '',\n            },\n          ];\n\n    // Flatten donhang items from nested 'sanpham' with date filtering applied\n    const ListDH =\n      Array.isArray(filteredData.ListDH) && filteredData.ListDH.length > 0\n        ? filteredData.ListDH.flatMap((record: any) => {\n            if (!Array.isArray(record.sanpham)) return [];\n            return record.sanpham.map((sp: any) => ({\n              ngaygiao: moment(record.ngaygiao).format('DD/MM/YYYY'),\n              makh: record.khachhang?.makh,\n              name: record.khachhang?.name,\n              mabanggia: record.khachhang?.banggia?.[0]?.mabanggia,\n              masp: sp.masp,\n              tensp: sp.title,\n              sldat: sp.sldat,\n              slgiao: sp.slgiao,\n              slnhan: sp.slnhan,\n              ghichu: sp.ghichu,\n            }));\n          })\n        : [\n            {\n              ngaygiao: moment().format('DD/MM/YYYY'),\n              makh: '',\n              mabanggia: '',\n              masp: '',\n              tensp: '',\n              sldat: 0,\n              slgiao: 0,\n              slnhan: 0,\n              ghichu: '',\n            },\n          ];\n    const ListDathang =\n      Array.isArray(filteredData.ListDathang) && filteredData.ListDathang.length > 0\n        ? filteredData.ListDathang.flatMap((record: any) => {\n            if (!Array.isArray(record.sanpham)) return [];\n            return record.sanpham.map((sp: any) => ({\n              ngaynhan: moment(record.ngaynhan).format('DD/MM/YYYY'),\n              mancc: record.nhacungcap?.mancc,\n              name: record.nhacungcap?.name,\n              mabanggia: record.banggia?.[0]?.mabanggia,\n              masp: sp.masp,\n              tensp: sp.title,\n              sldat: Number(sp.sldat) || 0,\n              slgiao: Number(sp.slgiao) || 0,\n              slnhan: Number(sp.slnhan) || 0,\n              ghichu: sp.ghichu,\n              makho: record?.kho?.makho || '',\n            }));\n          })\n        : [\n            {\n              ngaynhan: moment().format('DD/MM/YYYY'),\n              mancc: '',\n              name: '',\n              mabanggia: '',\n              masp: '',\n              tensp: '',\n              sldat: 0,\n              slgiao: 0,\n              slnhan: 0,\n              ghichu: '',\n              makho: '',\n            },\n          ];\n\n    const ListBGSP = this.convertBGSPToExport(filteredData.ListBG, filteredData.ListSP);\n\n    const ListBGKH: any[] = filteredData.ListKH.map((v: any) => {\n      const result: any = {\n        makh: v.makh || '',\n        name: v.name || '',\n        mabanggia: v.banggia?.mabanggia || '',\n      };\n      return result;\n    });\n\n    const dynamicKeys = filteredData.ListSP.reduce(\n      (acc: Record<string, string>, v: any) => {\n        if (v && v.masp) {\n          acc[v.masp] = '';\n        }\n        return acc;\n      },\n      {}\n    );\n    // Build ListNCCSP dynamically using filtered NCC data and up to 5 product codes from dynamicKeys.\n    const ListNCCSP: any[] = filteredData.ListNCC.map((supplier: any) => {\n      const result: any = {\n        mancc: supplier.mancc || '',\n        name: supplier.name || '',\n      };\n      let i = 1;\n      for (const masp of Object.keys(dynamicKeys)) {\n        const productExists = supplier.Sanpham?.some(\n          (sp: any) => sp.masp === masp\n        );\n        if (productExists) {\n          result[i] = masp;\n          i++;\n        }\n      }\n      return result;\n    });\n\n    const ListTonkho = filteredData.ListTonkho.map((v: any) => ({\n      masp: v.masp,\n      title: v.title,\n      dvt: v.dvt,\n      slton: v.slton,\n    }));\n\n    const ListKho =\n      Array.isArray(filteredData.ListKho) && filteredData.ListKho.length\n        ? filteredData.ListKho.map((item: any) => ({\n            makho: item.makho || '',\n            tenkho: item.tenkho || '',\n            diachi: item.diachi || '',\n            ghichu: item.ghichu || '',\n            status: item.status || 'active',\n          }))\n        : [\n            {\n              makho: '',\n              tenkho: '',\n              diachi: '',\n              ghichu: '',\n              status: 'active',\n            },\n          ];\n\n    const Exportdata: any = {};\n    if (this.ListEdit().some((item: any) => item.value === 'sanpham')) {\n      Exportdata['sanpham'] = { data: ListSP };\n    }\n    if (this.ListEdit().some((item: any) => item.value === 'khachhang')) {\n      Exportdata['khachhang'] = { data: ListKH };\n    }\n    if (this.ListEdit().some((item: any) => item.value === 'nhacungcap')) {\n      Exportdata['nhacungcap'] = { data: ListNCC };\n    }\n    if (this.ListEdit().some((item: any) => item.value === 'banggia')) {\n      Exportdata['banggia'] = { data: ListBG };\n    }\n    if (this.ListEdit().some((item: any) => item.value === 'donhang')) {\n      Exportdata['donhang'] = { data: ListDH };\n    }\n    if (this.ListEdit().some((item: any) => item.value === 'dathang')) {\n      Exportdata['dathang'] = { data: ListDathang };\n    }\n    if (this.ListEdit().some((item: any) => item.value === 'banggiasanpham')) {\n      Exportdata['banggiasanpham'] = { data: ListBGSP };\n    }\n    if (\n      this.ListEdit().some((item: any) => item.value === 'banggiakhachhang')\n    ) {\n      Exportdata['banggiakhachhang'] = { data: ListBGKH };\n    }\n    if (\n      this.ListEdit().some((item: any) => item.value === 'nhacungcapsanpham')\n    ) {\n      Exportdata['nhacungcapsanpham'] = { data: ListNCCSP };\n    }\n    if (this.ListEdit().some((item: any) => item.value === 'xuatnhapton')) {\n      Exportdata['xuatnhapton'] = { data: ListTonkho };\n    }\n    if (this.ListEdit().some((item: any) => item.value === 'kho')) {\n      Exportdata['kho'] = { data: ListKho };\n    }\n    if (Object.keys(Exportdata).length === 0) {\n      this._snackBar.open('Kh√¥ng c√≥ d·ªØ li·ªáu ƒë·ªÉ xu·∫•t', '', {\n        duration: 1000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-warning'],\n      });\n      return;\n    }\n    \n    this.loadingMessage.set('ƒêang t·∫°o file Excel...');\n    \n    // Include date range in filename\n    const dateRangeStr = `${this.batdau.toLocaleDateString('vi-VN').replace(/\\//g, '-')}_${this.ketthuc.toLocaleDateString('vi-VN').replace(/\\//g, '-')}`;\n    const exportFileName = `${title}_${dateRangeStr}`;\n    \n    writeExcelFileSheets(Exportdata, exportFileName);\n    \n    this._snackBar.open('Xu·∫•t d·ªØ li·ªáu th√†nh c√¥ng!', '', {\n      duration: 2000,\n      horizontalPosition: 'end',\n      verticalPosition: 'top',\n      panelClass: ['snackbar-success'],\n    });\n    \n    } catch (error) {\n      console.error('Error exporting Excel:', error);\n      this._snackBar.open('C√≥ l·ªói x·∫£y ra khi xu·∫•t d·ªØ li·ªáu', '', {\n        duration: 3000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-error'],\n      });\n    } finally {\n      this.isExporting.set(false);\n      this.loadingMessage.set('');\n    }\n  }\n\n  convertBGSPToExport(listbanggia: any, listsp: any) {\n    const pricingTables = new Set(\n      listbanggia.map((item: any) => item.mabanggia)\n    );\n    return listsp.map((product: any) => ({\n      masp: product.masp,\n      title: product.title,\n      giaban: product.giaban.toString(),\n      ...Array.from(pricingTables).reduce(\n        (acc: Record<string, string>, table: any) => {\n          acc[table] = product.giaban.toString();\n          return acc;\n        },\n        {} as Record<string, string>\n      ),\n    }));\n  }\n  convertBGSPToImport(\n    data: Array<{\n      masp: string;\n      title: string;\n      giagoc: any;\n      [key: string]: any;\n    }>\n  ): Array<{\n    mabanggia: string;\n    title: string;\n    sanpham: Array<{ masp: string; title: string; giagoc: any }>;\n  }> {\n    if (!data || data.length === 0) {\n      return [];\n    }\n\n    // Extract keys representing price boards (excluding masp, title, giagoc)\n    const boardKeys = Object.keys(data[0]).filter(\n      (key) => !['masp', 'title', 'giagoc'].includes(key)\n    );\n\n    // For each board key, create an object with a list of products\n    const data1 = boardKeys.map((boardKey) => ({\n      mabanggia: boardKey,\n      title: `B·∫£ng gi√° ${boardKey.replace('BG', '')}`,\n      sanpham: data.map((sp) => ({\n        masp: sp.masp?.toString().trim() || '',\n        title: sp.title?.toString().trim() || '',\n        giagoc: sp.giagoc || 0,\n        giaban: sp[boardKey] || 0,\n      })),\n    }));\n    return data1;\n  }\n\n  // convertBGKHToImport(data: any){\n  //   if (!data || data.length === 0) {\n  //     return [];\n  //   }\n  //   // Extract keys representing price boards (excluding makh, name)\n  //   const boardKeys = Object.keys(data[0]).filter(\n  //     (key) => !['makh', 'name'].includes(key)\n  //   );\n  //   data.forEach((v:any) => {\n  //     v.banggia = [];\n  //     for (const key of boardKeys) {\n  //       if (v[key] !== undefined && v[key] !== null && v[key] !== '') {\n  //         v.banggia.push(v[key]);\n  //       }\n  //       delete v[key];\n  //     }\n  //   });\n  //   return data;\n  // }\n\n  convertNCCSPToImport(data: any) {\n    if (!data || data.length === 0) {\n      return [];\n    }\n    // Extract keys representing price boards (excluding mancc, name)\n    const boardKeys = Object.keys(data[0]).filter(\n      (key) => !['mancc', 'name'].includes(key)\n    );\n    data.forEach((v: any) => {\n      v.Sanpham = [];\n      for (const key of boardKeys) {\n        if (v[key] !== undefined && v[key] !== null && v[key] !== '') {\n          v.Sanpham.push(v[key]);\n        }\n        delete v[key];\n      }\n    });\n    return data;\n  }\n\n  async ImportExcel(event: any) {\n    if (this.isImporting()) return;\n    \n    this.isImporting.set(true);\n    this.loadingMessage.set('ƒêang ƒë·ªçc file Excel...');\n    \n    try {\n      const data = await readExcelFileNoWorker(event);\n      this.loadingMessage.set('ƒêang x·ª≠ l√Ω d·ªØ li·ªáu...');\n      await this.DoImportData(data);\n    } catch (error) {\n      console.error('Error importing Excel:', error);\n      this._snackBar.open('C√≥ l·ªói x·∫£y ra khi ƒë·ªçc file Excel', '', {\n        duration: 3000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-error'],\n      });\n    } finally {\n      this.isImporting.set(false);\n      this.loadingMessage.set('');\n    }\n  }\n\n  // Method ƒë·ªÉ hi·ªÉn th·ªã dialog x√°c nh·∫≠n import\n  private async showImportConfirmDialog(\n    dataType: string,\n    existingCount: number,\n    newCount: number,\n    duplicateItems: any[]\n  ): Promise<{ confirmed: boolean; overwrite: boolean }> {\n    return new Promise((resolve) => {\n      const dialogData: ImportConfirmationData = {\n        dataType,\n        existingCount,\n        newCount,\n        duplicateItems,\n        isOverwrite: false,\n      };\n\n      const dialogRef = this._dialog.open(ImportConfirmationDialogComponent, {\n        width: '500px',\n        data: dialogData,\n        disableClose: true,\n      });\n\n      dialogRef.afterClosed().subscribe((result) => {\n        resolve(result || { confirmed: false, overwrite: false });\n      });\n    });\n  }\n\n  async DoImportData(data: any) {\n    if (Object.keys(this.ListEdit()).length === 0) {\n      this._snackBar.open('Ch∆∞a Ch·ªçn Lo·∫°i D·ªØ Li·ªáu', '', {\n        duration: 1000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-warning'],\n      });\n      return;\n    }\n    if (Object.keys(data).length === 0) {\n      this._snackBar.open('Kh√¥ng c√≥ d·ªØ li·ªáu ƒë·ªÉ nh·∫≠p', '', {\n        duration: 1000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-warning'],\n      });\n      return;\n    }\n\n    // Import S·∫£n ph·∫©m v·ªõi x√°c nh·∫≠n\n    if (\n      data.sanpham &&\n      data.sanpham.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'sanpham')\n    ) {\n      // Transform and validate data\n      const transformedData = ImportDataValidationService.transformDataForImport(\n        data.sanpham,\n        'sanpham'\n      );\n      \n      const validData = ImportDataValidationService.filterValidData(\n        transformedData,\n        ImportDataValidationService.getRequiredFields('sanpham')\n      );\n\n      // Ki·ªÉm tra tr√πng l·∫∑p\n      const duplicates = ImportDataValidationService.checkDuplicates(\n        validData,\n        this.rawListSP,\n        ImportDataValidationService.getUniqueField('sanpham')\n      );\n      const result = await this.showImportConfirmDialog(\n        'S·∫£n Ph·∫©m',\n        this.rawListSP.length,\n        validData.length,\n        duplicates\n      );\n\n      if (!result.confirmed) return;\n\n      const finalData = ImportDataValidationService.prepareSanphamData(\n        validData,\n        this.rawListSP,\n        result.overwrite\n      );\n      if (finalData.length === 0) {\n        this._snackBar.open('Kh√¥ng c√≥ d·ªØ li·ªáu m·ªõi ƒë·ªÉ import', '', {\n          duration: 1000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        });\n        return;\n      }\n\n      const importSnackbar = this._snackBar.open(\n        `ƒêang import ${finalData.length} s·∫£n ph·∫©m...`,\n        '',\n        {\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        }\n      );\n\n      try {\n        await this._SanphamService.ImportSanpham(finalData);\n\n        importSnackbar.dismiss();\n        this._snackBar.open(\n          `Import th√†nh c√¥ng ${finalData.length} s·∫£n ph·∫©m${\n            result.overwrite ? ' (ghi ƒë√®)' : ' (th√™m m·ªõi)'\n          }!`,\n          '',\n          {\n            duration: 2000,\n            horizontalPosition: 'end',\n            verticalPosition: 'top',\n            panelClass: ['snackbar-success'],\n          }\n        );\n      } catch (error) {\n        importSnackbar.dismiss();\n        this._snackBar.open('C√≥ l·ªói x·∫£y ra khi import s·∫£n ph·∫©m', '', {\n          duration: 2000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-error'],\n        });\n      }\n    }\n\n    // Import Kh√°ch h√†ng v·ªõi x√°c nh·∫≠n\n    if (\n      data.khachhang &&\n      data.khachhang.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'khachhang')\n    ) {\n      // Transform and validate data\n      const transformedData = ImportDataValidationService.transformDataForImport(\n        data.khachhang,\n        'khachhang'\n      );\n      \n      const validData = ImportDataValidationService.filterValidData(\n        transformedData,\n        ImportDataValidationService.getRequiredFields('khachhang')\n      );\n\n      // Ki·ªÉm tra tr√πng l·∫∑p\n      const duplicates = ImportDataValidationService.checkDuplicates(\n        validData,\n        this.rawListKH,\n        ImportDataValidationService.getUniqueField('khachhang')\n      );\n      const result = await this.showImportConfirmDialog(\n        'Kh√°ch H√†ng',\n        this.rawListKH.length,\n        validData.length,\n        duplicates\n      );\n\n      if (!result.confirmed) return;\n\n      const finalData = ImportDataValidationService.prepareKhachhangData(\n        validData,\n        this.rawListKH,\n        result.overwrite\n      );\n      if (finalData.length === 0) {\n        this._snackBar.open('Kh√¥ng c√≥ d·ªØ li·ªáu m·ªõi ƒë·ªÉ import', '', {\n          duration: 1000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        });\n        return;\n      }\n\n      const importSnackbar = this._snackBar.open(\n        `ƒêang import ${finalData.length} kh√°ch h√†ng...`,\n        '',\n        {\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        }\n      );\n\n      try {\n        await this._KhachhangService.ImportKhachhang(finalData);\n        importSnackbar.dismiss();\n        this._snackBar.open(\n          `Import th√†nh c√¥ng ${finalData.length} kh√°ch h√†ng${\n            result.overwrite ? ' (ghi ƒë√®)' : ' (th√™m m·ªõi)'\n          }!`,\n          '',\n          {\n            duration: 2000,\n            horizontalPosition: 'end',\n            verticalPosition: 'top',\n            panelClass: ['snackbar-success'],\n          }\n        );\n      } catch (error) {\n        importSnackbar.dismiss();\n        this._snackBar.open('C√≥ l·ªói x·∫£y ra khi import kh√°ch h√†ng', '', {\n          duration: 2000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-error'],\n        });\n      }\n    }\n\n    // Import Nh√† cung c·∫•p v·ªõi x√°c nh·∫≠n\n    if (\n      data.nhacungcap &&\n      data.nhacungcap.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'nhacungcap')\n    ) {\n      const ListNCC = (data.nhacungcap || [])\n        .map((v: any) => ({\n          name: v.name,\n          tenfile: removeVietnameseAccents(\n            v.tenfile.toString() || v.name || ''\n          ),\n          mancc: v.mancc,\n          diachi: v.diachi,\n          email: v.email,\n          sdt: v.sdt.toString(),\n          ghichu: v.ghichu,\n        }))\n        .filter(\n          (v: any) =>\n            v.mancc !== undefined && v.mancc !== null && v.mancc !== ''\n        );\n\n      // Ki·ªÉm tra tr√πng l·∫∑p\n      const duplicates = ImportDataValidationService.checkDuplicates(\n        ListNCC,\n        this.rawListNCC,\n        'mancc'\n      );\n      const result = await this.showImportConfirmDialog(\n        'Nh√† Cung C·∫•p',\n        this.rawListNCC.length,\n        ListNCC.length,\n        duplicates\n      );\n\n      if (!result.confirmed) return;\n\n      const finalData = ImportDataValidationService.prepareNhacungcapData(\n        ListNCC,\n        this.rawListNCC,\n        result.overwrite\n      );\n      if (finalData.length === 0) {\n        this._snackBar.open('Kh√¥ng c√≥ d·ªØ li·ªáu m·ªõi ƒë·ªÉ import', '', {\n          duration: 1000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        });\n        return;\n      }\n\n      const importSnackbar = this._snackBar.open(\n        `ƒêang import ${finalData.length} nh√† cung c·∫•p...`,\n        '',\n        {\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        }\n      );\n\n      try {\n        await this._NhacungcapService.ImportNhacungcap(finalData);\n        importSnackbar.dismiss();\n        this._snackBar.open(\n          `Import th√†nh c√¥ng ${finalData.length} nh√† cung c·∫•p${\n            result.overwrite ? ' (ghi ƒë√®)' : ' (th√™m m·ªõi)'\n          }!`,\n          '',\n          {\n            duration: 2000,\n            horizontalPosition: 'end',\n            verticalPosition: 'top',\n            panelClass: ['snackbar-success'],\n          }\n        );\n      } catch (error) {\n        importSnackbar.dismiss();\n        this._snackBar.open('C√≥ l·ªói x·∫£y ra khi import nh√† cung c·∫•p', '', {\n          duration: 2000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-error'],\n        });\n      }\n    }\n\n    // Import B·∫£ng gi√° v·ªõi x√°c nh·∫≠n\n    if (\n      data.banggia &&\n      data.banggia.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'banggia')\n    ) {\n      const ListBG = (data.banggia || [])\n        .map((v: any) => ({\n          title: 'B·∫£ng Gi√° ' + v.mabanggia,\n          mabanggia: v.mabanggia,\n          type: v.type,\n          batdau: moment(v.batdau, 'DD/MM/YYYY').toDate(),\n          ketthuc: moment(v.ketthuc, 'DD/MM/YYYY').toDate(),\n          ghichu: v.ghichu,\n          status: v.status,\n        }))\n        .filter(\n          (v: any) =>\n            v.mabanggia !== undefined &&\n            v.mabanggia !== null &&\n            v.mabanggia !== ''\n        );\n\n      // Ki·ªÉm tra tr√πng l·∫∑p\n      const duplicates = ImportDataValidationService.checkDuplicates(\n        ListBG,\n        this.rawListBG,\n        'mabanggia'\n      );\n      const result = await this.showImportConfirmDialog(\n        'B·∫£ng Gi√°',\n        this.rawListBG.length,\n        ListBG.length,\n        duplicates\n      );\n\n      if (!result.confirmed) return;\n\n      const finalData = ImportDataValidationService.prepareBanggiaData(\n        ListBG,\n        this.rawListBG,\n        result.overwrite\n      );\n      if (finalData.length === 0) {\n        this._snackBar.open('Kh√¥ng c√≥ d·ªØ li·ªáu m·ªõi ƒë·ªÉ import', '', {\n          duration: 1000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        });\n        return;\n      }\n\n      const importSnackbar = this._snackBar.open(\n        `ƒêang import ${finalData.length} b·∫£ng gi√°...`,\n        '',\n        {\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        }\n      );\n\n      try {\n        await this._BanggiaService.ImportBanggia(finalData);\n        importSnackbar.dismiss();\n        this._snackBar.open(\n          `Import th√†nh c√¥ng ${finalData.length} b·∫£ng gi√°${\n            result.overwrite ? ' (ghi ƒë√®)' : ' (th√™m m·ªõi)'\n          }!`,\n          '',\n          {\n            duration: 2000,\n            horizontalPosition: 'end',\n            verticalPosition: 'top',\n            panelClass: ['snackbar-success'],\n          }\n        );\n      } catch (error) {\n        importSnackbar.dismiss();\n        this._snackBar.open('C√≥ l·ªói x·∫£y ra khi import b·∫£ng gi√°', '', {\n          duration: 2000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-error'],\n        });\n      }\n    }\n\n    // Import Kho v·ªõi x√°c nh·∫≠n\n    if (\n      data.kho &&\n      data.kho.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'kho')\n    ) {\n      const ListKho = (data.kho || [])\n        .map((v: any) => ({\n          makho: v.makho?.toString().trim() || '',\n          tenkho: v.tenkho?.toString().trim() || '',\n          diachi: v.diachi?.toString().trim() || '',\n          ghichu: v.ghichu?.toString().trim() || '',\n          status: v.status?.toString().trim() || 'active',\n        }))\n        .filter(\n          (v: any) => v.makho !== undefined && v.makho !== null && v.makho !== ''\n        );\n\n      // Ki·ªÉm tra tr√πng l·∫∑p\n      const duplicates = ImportDataValidationService.checkDuplicates(\n        ListKho,\n        this.rawListKho,\n        'makho'\n      );\n      const result = await this.showImportConfirmDialog(\n        'Kho',\n        this.rawListKho.length,\n        ListKho.length,\n        duplicates\n      );\n\n      if (!result.confirmed) return;\n\n      const finalData = ImportDataValidationService.prepareKhoData(\n        ListKho,\n        this.rawListKho,\n        result.overwrite\n      );\n      if (finalData.length === 0) {\n        this._snackBar.open('Kh√¥ng c√≥ d·ªØ li·ªáu m·ªõi ƒë·ªÉ import', '', {\n          duration: 1000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        });\n        return;\n      }\n\n      const importSnackbar = this._snackBar.open(\n        `ƒêang import ${finalData.length} kho...`,\n        '',\n        {\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        }\n      );\n\n      try {\n        // Process warehouse data using individual create/update operations\n        const createUpdatePromises = finalData.map(async (v: any) => {\n          const existingItem = this.rawListKho.find((v1: any) => v1.makho === v.makho);\n          if (existingItem) {\n            const updatedItem = { ...existingItem, ...v };\n            await this._KhoService.updateKho(updatedItem);\n          } else {\n            await this._KhoService.CreateKho(v);\n          }\n        });\n        \n        await Promise.all(createUpdatePromises);\n        \n        // Refresh the warehouse list\n        await this._KhoService.getAllKho();\n        this.rawListKho = this._KhoService.ListKho();\n        \n        importSnackbar.dismiss();\n        this._snackBar.open(\n          `Import th√†nh c√¥ng ${finalData.length} kho${\n            duplicates.length > 0 ? ` (${duplicates.length} tr√πng l·∫∑p)` : ''\n          }!`,\n          '',\n          {\n            duration: 2000,\n            horizontalPosition: 'end',\n            verticalPosition: 'top',\n            panelClass: ['snackbar-success'],\n          }\n        );\n      } catch (error) {\n        importSnackbar.dismiss();\n        this._snackBar.open('C√≥ l·ªói x·∫£y ra khi import kho', '', {\n          duration: 2000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-error'],\n        });\n      }\n    }\n\n    // Ph·∫ßn c√≤n l·∫°i gi·ªØ nguy√™n cho ƒë∆°n h√†ng v√† c√°c d·ªØ li·ªáu kh√°c\n    if (\n      data.donhang &&\n      data.donhang.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'donhang')\n    ) {\n      const ListDH = (data.donhang || [])\n        .map((v: any) => ({\n          ngay: v.ngay,\n          makh: v.makh,\n          mabangia: v.mabangia,\n          masp: v.masp,\n          sldat: Number(v.sldat),\n          slgiao: Number(v.slgiao),\n          slnhan: Number(v.slnhan),\n          ghichu: v.ghichu,\n        }))\n        .filter(\n          (v: any) =>\n            v.makh !== undefined &&\n            v.makh !== null &&\n            v.makh !== '' &&\n            v.masp !== undefined &&\n            v.masp !== null &&\n            v.masp !== ''\n        );\n      const importSnackbar = this._snackBar.open(\n        'ƒêang import ƒê∆°n h√†ng...',\n        '',\n        {\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        }\n      );\n      await this._DonhangService.ImportDonhang(ListDH);\n      importSnackbar.dismiss();\n      this._snackBar.open('Import ƒê∆°n h√†ng th√†nh c√¥ng!', '', {\n        duration: 1000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-success'],\n      });\n    }\n\n    if (\n      data.banggiasanpham &&\n      data.banggiasanpham.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'banggiasanpham')\n    ) {\n      const listBGSP = this.convertBGSPToImport(data.banggiasanpham);\n      const giabanList = listBGSP.find((item) => item.mabanggia === 'giaban');\n      if (!giabanList) {\n        // Optionally handle missing 'giaban' list\n        return;\n      }\n      const fixedListBGSP = listBGSP.map((banggia) => {\n        if (banggia.mabanggia === 'giaban') {\n          return banggia;\n        }\n\n        const fixedSanpham = banggia.sanpham.map((sp: any) => {\n          if (sp.giaban === '0') {\n            const match: any = giabanList.sanpham.find(\n              (giabanSp) => giabanSp.masp === sp.masp\n            );\n            return {\n              ...sp,\n              giaban: match ? match.giaban : sp.giaban,\n            };\n          }\n          return sp;\n        });\n        return { ...banggia, sanpham: fixedSanpham };\n      });\n      await this._BanggiaService.importSPBG(fixedListBGSP);\n    }\n    if (\n      data.banggiakhachhang &&\n      data.banggiakhachhang.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'banggiakhachhang')\n    ) {\n      console.log('Importing banggiakhachhang data:', data.banggiakhachhang);\n\n      const ListBGKH = (data.banggiakhachhang || [])\n        .map((v: any) => ({\n          makh: v.makh,\n          name: v.name,\n          mabanggia: v.mabanggia,\n        }))\n        .filter(\n          (v: any) =>\n            v.mabanggia !== undefined &&\n            v.mabanggia !== null &&\n            v.mabanggia !== ''\n        );\n      console.log('Importing ListBGKH data:', ListBGKH);\n      await this._KhachhangService.ImportKhachhang(ListBGKH);\n      this._snackBar.open('C·∫≠p Nh·∫≠t Th√†nh C√¥ng', '', {\n        duration: 1000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-success'],\n      });\n    }\n    if (\n      data.nhacungcapsanpham &&\n      data.nhacungcapsanpham.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'nhacungcapsanpham')\n    ) {\n      const convertedSuppliers = this.convertNCCSPToImport(\n        data.nhacungcapsanpham\n      );\n      console.log(convertedSuppliers);\n\n      const ListNCCSP = convertedSuppliers\n        .filter((supplier: any) => supplier?.Sanpham?.length > 0)\n        .map((supplier: any) => ({\n          ...supplier,\n          Sanpham: supplier?.Sanpham?.map((spId: any) =>\n            this.rawListSP.find((product) => product?.masp === spId)\n          ),\n        }));\n      const importSnackbar = this._snackBar.open(\n        'ƒêang import Nh√† cung c·∫•p s·∫£n ph·∫©m...',\n        '',\n        {\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        }\n      );\n      await this._NhacungcapService.ImportNhacungcap(ListNCCSP);\n      importSnackbar.dismiss();\n      this._snackBar.open('Import Nh√† cung c·∫•p s·∫£n ph·∫©m th√†nh c√¥ng!', '', {\n        duration: 1000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-success'],\n      });\n    }\n    if (\n      data.xuatnhapton &&\n      data.xuatnhapton.length > 0 &&\n      this.ListEdit().some((item: any) => item.value === 'xuatnhapton')\n    ) {\n      const phieuNhapDetails: any[] = [];\n      const phieuXuatDetails: any[] = [];\n      data.xuatnhapton.forEach((v: any) => {\n        const exitItem = this.rawListTonkho.find(\n          (item: any) => item.masp === v.masp\n        );\n        if (exitItem) {\n          if (v.slton > exitItem.slton) {\n            // T√≠nh ch√™nh l·ªách cho phi·∫øu nh·∫≠p\n            phieuNhapDetails.push({\n              sanphamId: this.rawListSP.find(\n                (item: any) => item.masp === v.masp\n              ).id,\n              soluong: v.slton - exitItem.slton,\n              // th√™m c√°c tr∆∞·ªùng c·∫ßn thi·∫øt\n            });\n          } else if (v.slton < exitItem.slton) {\n            // T√≠nh ch√™nh l·ªách cho phi·∫øu xu·∫•t\n            phieuXuatDetails.push({\n              sanphamId: this.rawListSP.find(\n                (item: any) => item.masp === v.masp\n              ).id,\n              soluong: exitItem.slton - v.slton,\n              // th√™m c√°c tr∆∞·ªùng c·∫ßn thi·∫øt\n            });\n          }\n        }\n      });\n\n      if (phieuNhapDetails.length > 0) {\n        // T·∫°o phi·∫øu nh·∫≠p m·ªôt l·∫ßn v·ªõi danh s√°ch chi ti·∫øt\n        await this._PhieukhoService.CreatePhieukho({\n          title: `ƒêi·ªÅu Ch·ªânh Kho Ng√†y ${moment().format('DD/MM/YYYY ')}`,\n          type: 'nhap',\n          sanpham: phieuNhapDetails,\n          ghichu: `C·∫≠p nh·∫≠t t·ªìn kho l√∫c ${moment().format(\n            'HH:mm:ss DD/MM/YYYY '\n          )}`,\n          ngay: moment(),\n        });\n        this._snackBar.open(\n          'C·∫≠p nh·∫≠t t·ªìn kho th√†nh c√¥ng Th√™m phi·∫øu Nh·∫≠p Kho',\n          '',\n          {\n            duration: 1000,\n            horizontalPosition: 'end',\n            verticalPosition: 'top',\n            panelClass: ['snackbar-success'],\n          }\n        );\n      }\n      if (phieuXuatDetails.length > 0) {\n        // T·∫°o phi·∫øu xu·∫•t m·ªôt l·∫ßn v·ªõi danh s√°ch chi ti·∫øt\n        await this._PhieukhoService.CreatePhieukho({\n          title: `ƒêi·ªÅu Ch·ªânh Kho Ng√†y ${moment().format('DD/MM/YYYY ')}`,\n          type: 'xuat',\n          sanpham: phieuXuatDetails,\n          ghichu: `C·∫≠p nh·∫≠t t·ªìn kho l√∫c ${moment().format(\n            'HH:mm:ss DD/MM/YYYY '\n          )}`,\n          ngay: moment(),\n        });\n        this._snackBar.open(\n          'C·∫≠p nh·∫≠t t·ªìn kho th√†nh c√¥ng Th√™m phi·∫øu Xu·∫•t Kho',\n          '',\n          {\n            duration: 1000,\n            horizontalPosition: 'end',\n            verticalPosition: 'top',\n            panelClass: ['snackbar-success'],\n          }\n        );\n      }\n\n      if (phieuNhapDetails.length === 0 && phieuXuatDetails.length === 0) {\n        this._snackBar.open('Kho kh√¥ng thay ƒë·ªïi', '', {\n          duration: 1000,\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-success'],\n        });\n      }\n    }\n\n    if (\n      data.dathang &&\n      this.ListEdit().some((item: any) => item.value === 'dathang')\n    ) {\n      const ListDH = (data.dathang || [])\n        .filter((v: any) => v.mancc && v.masp)\n        .map((v: any) => ({\n          ngaynhan: moment(excelSerialDateToJSDate(v.ngaynhan)).toDate(),\n          mancc: v.mancc,\n          mabanggia: v.mabanggia,\n          masp: v.masp,\n          sldat: Number(v.sldat),\n          slgiao: Number(v.sldat),\n          slnhan: Number(v.sldat),\n          ghichu: v.ghichu,\n        }));\n\n      const importSnackbar = this._snackBar.open(\n        'ƒêang import ƒê·∫∑t h√†ng...',\n        '',\n        {\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        }\n      );\n      await this._DathangService.ImportDathang(ListDH);\n      importSnackbar.dismiss();\n      this._snackBar.open('Import ƒê·∫∑t h√†ng th√†nh c√¥ng!', '', {\n        duration: 1000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-success'],\n      });\n    }\n    if (\n      data.donhang &&\n      this.ListEdit().some((item: any) => item.value === 'donhang')\n    ) {\n      const ListDH = (data.donhang || [])\n        .filter((v: any) => v.makh && v.masp)\n        .map((v: any) => ({\n          ngaygiao: moment(excelSerialDateToJSDate(v.ngaygiao)).toDate(),\n          makh: v.makh,\n          mabanggia: v.mabangia,\n          masp: v.masp,\n          sldat: Number(v.sldat),\n          slgiao: Number(v.slgiao),\n          slnhan: Number(v.slnhan),\n          ghichu: v.ghichu,\n        }));\n      const importSnackbar = this._snackBar.open(\n        'ƒêang import ƒê∆°n h√†ng...',\n        '',\n        {\n          horizontalPosition: 'end',\n          verticalPosition: 'top',\n          panelClass: ['snackbar-warning'],\n        }\n      );\n      await this._DonhangService.ImportDonhang(ListDH);\n      importSnackbar.dismiss();\n      this._snackBar.open('Import ƒê∆°n h√†ng th√†nh c√¥ng!', '', {\n        duration: 1000,\n        horizontalPosition: 'end',\n        verticalPosition: 'top',\n        panelClass: ['snackbar-success'],\n      });\n    }\n  }\n  // TrackBy function for performance optimization\n  trackByFn(index: number, item: any): any {\n    return item.id || index;\n  }\n  \n  // Filter data based on selected date range\n  filterDataByDateRange(data: any[], dateField: string = 'createdAt'): any[] {\n    if (!data || !Array.isArray(data)) return [];\n    \n    const startDate = new Date(this.batdau);\n    startDate.setHours(0, 0, 0, 0);\n    \n    const endDate = new Date(this.ketthuc);\n    endDate.setHours(23, 59, 59, 999);\n    \n    return data.filter(item => {\n      if (!item[dateField]) return true; // Include items without date\n      \n      let itemDate: Date;\n      if (typeof item[dateField] === 'string') {\n        itemDate = new Date(item[dateField]);\n      } else if (item[dateField] instanceof Date) {\n        itemDate = item[dateField];\n      } else {\n        return true; // Include items with invalid date format\n      }\n      \n      return itemDate >= startDate && itemDate <= endDate;\n    });\n  }\n  \n  // Get filtered export data with date range applied\n  getFilteredExportData() {\n    const dateInfo = {\n      batdau: this.batdau,\n      ketthuc: this.ketthuc,\n      dateRange: `${this.batdau.toLocaleDateString('vi-VN')} - ${this.ketthuc.toLocaleDateString('vi-VN')}`\n    };\n    \n    return {\n      ListSP: this.rawListSP,\n      ListKH: this.rawListKH,\n      ListNCC: this.rawListNCC,\n      ListBG: this.rawListBG,\n      ListDH: this.filterDataByDateRange(this.rawListDH, 'ngaygiao'),\n      ListDathang: this.filterDataByDateRange(this.rawListDathang, 'ngaynhan'),\n      ListTonkho: this.filterDataByDateRange(this.rawListTonkho, 'createdAt'),\n      ListKho: this.filterDataByDateRange(this.rawListKho, 'createdAt'),\n      dateInfo\n    };\n  }\n}\n", "<div class=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n  <!-- Loading overlay -->\n  <div *ngIf=\"isLoading() || isImporting() || isExporting()\" \n       class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n    <div class=\"bg-white p-6 rounded-lg shadow-lg flex flex-col items-center space-y-4\">\n      <mat-progress-spinner diameter=\"50\" mode=\"indeterminate\"></mat-progress-spinner>\n      <span class=\"text-lg font-medium\">{{ loadingMessage() }}</span>\n    </div>\n  </div>\n\n  <!-- Date Filter Section -->\n  <div class=\"col-span-full mb-6 p-6 bg-white rounded-lg shadow-sm border\">\n    <div class=\"flex flex-col items-center gap-4\">\n      <div class=\"flex flex-col lg:flex-row lg:items-center gap-4\">\n        <!-- Date Range Picker -->\n        <div class=\"flex flex-col lg:flex-row items-center gap-2\">\n          <mat-form-field appearance=\"outline\" class=\"w-full lg:w-auto\" subscriptSizing=\"dynamic\">\n            <mat-label>Ch·ªçn kho·∫£ng th·ªùi gian</mat-label>\n            <mat-date-range-input [rangePicker]=\"dateRangePicker\">\n              <input matStartDate \n                     [(ngModel)]=\"batdau\" \n                     [ngModelOptions]=\"{standalone: true}\"\n                     (dateChange)=\"onDateChange()\"\n                     [disabled]=\"isLoading() || isImporting() || isExporting()\"\n                     placeholder=\"T·ª´ ng√†y\">\n              <input matEndDate \n                     [(ngModel)]=\"ketthuc\" \n                     [ngModelOptions]=\"{standalone: true}\"\n                     (dateChange)=\"onDateChange()\"\n                     [disabled]=\"isLoading() || isImporting() || isExporting()\"\n                     placeholder=\"ƒê·∫øn ng√†y\">\n            </mat-date-range-input>\n            <mat-datepicker-toggle matIconSuffix [for]=\"dateRangePicker\"></mat-datepicker-toggle>\n            <mat-date-range-picker #dateRangePicker>\n              <mat-datepicker-actions>\n                <button mat-button matDatepickerCancel>H·ªßy</button>\n                <button mat-raised-button color=\"primary\" matDatepickerApply (click)=\"applyDateFilter()\">√Åp d·ª•ng</button>\n              </mat-datepicker-actions>\n            </mat-date-range-picker>\n          </mat-form-field>\n          \n          <button mat-raised-button \n                  color=\"primary\" \n                  (click)=\"applyDateFilter()\"\n                  [disabled]=\"isLoading() || isImporting() || isExporting()\"\n                  class=\"h-14\">\n            <mat-icon class=\"mr-2\">refresh</mat-icon>\n            L√†m m·ªõi\n          </button>\n        </div>\n      </div>\n      \n      <!-- Quick Date Selection Buttons -->\n      <div class=\"flex flex-wrap gap-2\">\n        <span class=\"text-sm text-gray-600 mr-2 self-center\">Ch·ªçn nhanh:</span>\n        <button mat-button \n                class=\"text-sm\" \n                (click)=\"setDateRange('today')\"\n                [disabled]=\"isLoading() || isImporting() || isExporting()\">\n          H√¥m nay\n        </button>\n        <button mat-button \n                class=\"text-sm\" \n                (click)=\"setDateRange('yesterday')\"\n                [disabled]=\"isLoading() || isImporting() || isExporting()\">\n          H√¥m qua\n        </button>\n        <button mat-button \n                class=\"text-sm\" \n                (click)=\"setDateRange('last7days')\"\n                [disabled]=\"isLoading() || isImporting() || isExporting()\">\n          7 ng√†y qua\n        </button>\n        <button mat-button \n                class=\"text-sm\" \n                (click)=\"setDateRange('last30days')\"\n                [disabled]=\"isLoading() || isImporting() || isExporting()\">\n          30 ng√†y qua\n        </button>\n        <button mat-button \n                class=\"text-sm\" \n                (click)=\"setDateRange('thisMonth')\"\n                [disabled]=\"isLoading() || isImporting() || isExporting()\">\n          Th√°ng n√†y\n        </button>\n        <button mat-button \n                class=\"text-sm\" \n                (click)=\"setDateRange('lastMonth')\"\n                [disabled]=\"isLoading() || isImporting() || isExporting()\">\n          Th√°ng tr∆∞·ªõc\n        </button>\n      </div>\n    </div>\n    \n    <!-- Current Date Range Display -->\n    <div class=\"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200\">\n      <div class=\"flex items-center space-x-2\">\n        <mat-icon class=\"text-blue-600\">date_range</mat-icon>\n        <span class=\"text-blue-700 font-medium\">\n          ƒêang hi·ªÉn th·ªã d·ªØ li·ªáu t·ª´ {{ batdau | date:'dd/MM/yyyy' }} ƒë·∫øn {{ ketthuc | date:'dd/MM/yyyy' }}\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"flex flex-col space-y-2 p-8\">\n    <div class=\"flex flex-row space-x-2 items-center\">\n      <button (click)=\"ExportExcel(TitleExport)\" \n              mat-flat-button \n              color=\"primary\"\n              [disabled]=\"isLoading() || isImporting() || isExporting()\">\n        <span *ngIf=\"!isExporting()\">T·∫£i Xu·ªëng</span>\n        <span *ngIf=\"isExporting()\" class=\"flex items-center\">\n          <mat-progress-spinner diameter=\"20\" mode=\"indeterminate\" class=\"mr-2\"></mat-progress-spinner>\n          ƒêang xu·∫•t...\n        </span>\n        <mat-icon class=\"ml-1\" *ngIf=\"!isExporting()\">download</mat-icon>\n      </button>\n      \n      <button mat-flat-button \n              color=\"primary\" \n              (click)=\"uploadfile.click()\"\n              [disabled]=\"isLoading() || isImporting() || isExporting()\">\n        <span *ngIf=\"!isImporting()\">T·∫£i L√™n</span>\n        <span *ngIf=\"isImporting()\" class=\"flex items-center\">\n          <mat-progress-spinner diameter=\"20\" mode=\"indeterminate\" class=\"mr-2\"></mat-progress-spinner>\n          ƒêang nh·∫≠p...\n        </span>\n        <mat-icon class=\"ml-1\" *ngIf=\"!isImporting()\">upload</mat-icon>\n      </button>\n      \n      <button mat-flat-button \n              color=\"primary\" \n              (click)=\"toggleAll()\"\n              [disabled]=\"isLoading() || isImporting() || isExporting()\">\n        Ch·ªçn T·∫•t C·∫£\n      </button>\n      \n      <input class=\"hidden\" \n             (change)=\"ImportExcel($event)\" \n             type=\"file\" \n             #uploadfile\n             accept=\".xlsx,.xls\"\n             [disabled]=\"isLoading() || isImporting() || isExporting()\">\n    </div>\n    \n    <!-- Loading message for data types selection -->\n    <div *ngIf=\"isLoading()\" class=\"w-full p-4 bg-blue-50 rounded-lg border border-blue-200\">\n      <div class=\"flex items-center space-x-2\">\n        <mat-progress-spinner diameter=\"20\" mode=\"indeterminate\"></mat-progress-spinner>\n        <span class=\"text-blue-700\">{{ loadingMessage() }}</span>\n      </div>\n    </div>\n\n    <div class=\"grid grid-cols-3 gap-4\">\n      <span *ngFor=\"let item of ListImportType(); trackBy: trackByFn\" \n            (click)=\"!isLoading() && !isImporting() && !isExporting() && item.status && toggleItem(item)\"\n            class=\"{{!item.status ? 'hidden' : ''}} \n                   {{CheckItem(item) ? 'bg-blue-100' : ''}} \n                   {{isLoading() || isImporting() || isExporting() ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}} \n                   flex flex-row space-x-2 items-center p-4 rounded-lg border transition-all duration-200\">\n        <mat-icon *ngIf=\"CheckItem(item)\">check</mat-icon>\n        <span>{{item.title}}</span>\n      </span>\n    </div>\n  </div>\n\n  <div class=\"w-full flex flex-col space-y-2 p-8\">\n    <div class=\"relative w-full\">\n      <input type=\"text\" \n             placeholder=\"T√¨m Ki·∫øm...\" \n             (keyup)=\"applyFilter($event)\"\n             [disabled]=\"isLoading() || isImporting() || isExporting()\"\n             class=\"block w-full pl-10 pr-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg \n                    focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40\n                    disabled:bg-gray-100 disabled:cursor-not-allowed\">\n      <div class=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\n        <span class=\"material-symbols-outlined text-gray-500\">search</span>\n      </div>\n    </div>\n\n    <!-- Loading skeleton for data list -->\n    <ng-container *ngIf=\"isLoading(); else dataContent\">\n      <div class=\"w-full flex flex-col space-y-2\">\n        <div *ngFor=\"let i of [1,2,3,4,5]\" \n             class=\"w-full flex flex-row space-x-2 items-center border p-4 rounded-lg bg-gray-100 animate-pulse\">\n          <div class=\"rounded-lg p-2 bg-gray-300 w-16 h-8\"></div>\n          <div class=\"bg-gray-300 h-4 w-1/3 rounded\"></div>\n          <div class=\"bg-gray-300 h-3 w-1/2 rounded\"></div>\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-template #dataContent>\n      <ng-container *ngIf=\"ListImportdata().length > 0; else noData\">\n        <div class=\"w-full flex flex-row space-x-2 items-center border p-4 rounded-lg\n                    {{isImporting() || isExporting() ? 'opacity-50' : ''}}\"\n             *ngFor=\"let item of ListImportdata(); let i = index\">\n          <span class=\"rounded-lg p-2 bg-blue-100\">{{ item.type }}</span>\n          <span>{{ item.title }}</span>\n          <span class=\"text-sm text-gray-600\">{{ item.description }}</span>\n        </div>\n      </ng-container>\n      \n      <ng-template #noData>\n        <div class=\"w-full flex flex-row items-center justify-center border p-4 rounded-lg bg-gray-100\">\n          <span class=\"text-gray-600\">Kh√¥ng c√≥ d·ªØ li·ªáu</span>\n        </div>\n      </ng-template>\n    </ng-template>\n  </div>\n</div>", "import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { CommonModule } from '@angular/common';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { FormsModule } from '@angular/forms';\n\nexport interface ImportConfirmationData {\n  dataType: string;\n  existingCount: number;\n  newCount: number;\n  duplicateItems: any[];\n  isOverwrite: boolean;\n}\n\n@Component({\n  selector: 'app-import-confirmation-dialog',\n  template: `\n    <div class=\"p-6 min-w-96\">\n      <div class=\"flex items-center mb-4\">\n        <mat-icon class=\"text-orange-500 mr-2\">warning</mat-icon>\n        <h2 class=\"text-lg font-semibold\">X√°c nh·∫≠n Import D·ªØ li·ªáu</h2>\n      </div>\n\n      <div class=\"mb-4 text-gray-700\">\n        <p><strong>Lo·∫°i d·ªØ li·ªáu:</strong> {{ data.dataType }}</p>\n        <p><strong>D·ªØ li·ªáu hi·ªán t·∫°i:</strong> {{ data.existingCount }} m·ª•c</p>\n        <p><strong>D·ªØ li·ªáu m·ªõi:</strong> {{ data.newCount }} m·ª•c</p>\n        \n        <div *ngIf=\"data.duplicateItems.length > 0\" class=\"mt-3\">\n          <p class=\"text-red-600 font-medium\">\n            <mat-icon class=\"text-red-500 text-sm\">error</mat-icon>\n            Ph√°t hi·ªán {{ data.duplicateItems.length }} m·ª•c tr√πng l·∫∑p:\n          </p>\n          <ul class=\"list-disc list-inside text-sm text-gray-600 mt-2 max-h-32 overflow-y-auto\">\n            <li *ngFor=\"let item of data.duplicateItems.slice(0, 5)\">\n              {{ getItemDisplayName(item) }}\n            </li>\n            <li *ngIf=\"data.duplicateItems.length > 5\" class=\"text-blue-600\">\n              ... v√† {{ data.duplicateItems.length - 5 }} m·ª•c kh√°c\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div *ngIf=\"data.duplicateItems.length > 0\" class=\"mb-6\">\n        <mat-checkbox [(ngModel)]=\"data.isOverwrite\" class=\"text-sm\">\n          <span class=\"ml-2\">Ghi ƒë√® l√™n d·ªØ li·ªáu c≈© (c√°c m·ª•c tr√πng l·∫∑p s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t)</span>\n        </mat-checkbox>\n        \n        <div class=\"mt-2 text-sm text-gray-600\">\n          <div *ngIf=\"data.isOverwrite\" class=\"text-orange-600\">\n            ‚ö†Ô∏è D·ªØ li·ªáu c≈© s·∫Ω b·ªã thay th·∫ø b·ªüi d·ªØ li·ªáu m·ªõi\n          </div>\n          <div *ngIf=\"!data.isOverwrite\" class=\"text-blue-600\">\n            ‚ÑπÔ∏è Ch·ªâ th√™m m·ªõi c√°c m·ª•c ch∆∞a t·ªìn t·∫°i, b·ªè qua c√°c m·ª•c tr√πng l·∫∑p\n          </div>\n        </div>\n      </div>\n\n      <div *ngIf=\"data.duplicateItems.length === 0\" class=\"mb-4 p-3 bg-green-50 border border-green-200 rounded\">\n        <div class=\"flex items-center text-green-700\">\n          <mat-icon class=\"text-green-500 mr-2\">check_circle</mat-icon>\n          <span>Kh√¥ng c√≥ d·ªØ li·ªáu tr√πng l·∫∑p. T·∫•t c·∫£ s·∫Ω ƒë∆∞·ª£c th√™m m·ªõi.</span>\n        </div>\n      </div>\n\n      <div class=\"flex justify-end space-x-3 mt-6\">\n        <button mat-button color=\"warn\" (click)=\"onCancel()\">\n          <mat-icon>cancel</mat-icon>\n          H·ªßy b·ªè\n        </button>\n        <button mat-flat-button color=\"primary\" (click)=\"onConfirm()\">\n          <mat-icon>file_upload</mat-icon>\n          {{ data.duplicateItems.length > 0 ? \n            (data.isOverwrite ? 'Import & Ghi ƒë√®' : 'Import & B·ªè qua tr√πng l·∫∑p') : \n            'Import' }}\n        </button>\n      </div>\n    </div>\n  `,\n  imports: [\n    MatDialogModule,\n    MatButtonModule,\n    MatIconModule,\n    CommonModule,\n    MatCheckboxModule,\n    FormsModule\n  ],\n  standalone: true\n})\nexport class ImportConfirmationDialogComponent {\n  constructor(\n    public dialogRef: MatDialogRef<ImportConfirmationDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: ImportConfirmationData\n  ) {}\n\n  getItemDisplayName(item: any): string {\n    // T√πy thu·ªôc v√†o lo·∫°i d·ªØ li·ªáu, hi·ªÉn th·ªã th√¥ng tin ph√π h·ª£p\n    switch (this.data.dataType) {\n      case 'S·∫£n Ph·∫©m':\n        return `${item.masp} - ${item.title}`;\n      case 'Kh√°ch H√†ng':\n        return `${item.makh} - ${item.name}`;\n      case 'Nh√† Cung C·∫•p':\n        return `${item.mancc} - ${item.name}`;\n      case 'B·∫£ng Gi√°':\n        return `${item.mabanggia} - ${item.title}`;\n      default:\n        return item.name || item.title || item.id || 'N/A';\n    }\n  }\n\n  onConfirm(): void {\n    this.dialogRef.close({\n      confirmed: true,\n      overwrite: this.data.isOverwrite\n    });\n  }\n\n  onCancel(): void {\n    this.dialogRef.close({\n      confirmed: false,\n      overwrite: false\n    });\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { removeVietnameseAccents } from '../utils/texttransfer.utils';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ImportDataValidationService {\n  \n  /**\n   * Check for duplicate items between new data and existing data\n   * @param newData - Array of new items to import\n   * @param existingData - Array of existing items\n   * @param keyField - Field to use for comparison\n   * @returns Array of duplicate items\n   */\n  static checkDuplicates(\n    newData: any[],\n    existingData: any[],\n    keyField: string\n  ): any[] {\n    const existingKeys = new Set(existingData.map((item) => item[keyField]));\n    return newData.filter((item) => existingKeys.has(item[keyField]));\n  }\n\n  /**\n   * Prepare product data for import\n   * @param data - Array of new products\n   * @param existingData - Array of existing products\n   * @param overwrite - Whether to overwrite existing data\n   * @returns Filtered array of products to import\n   */\n  static prepareSanphamData(\n    data: any[],\n    existingData: any[],\n    overwrite: boolean\n  ): any[] {\n    if (overwrite) {\n      return data;\n    } else {\n      const existingCodes = new Set(existingData.map((item) => item.masp));\n      return data.filter((item) => !existingCodes.has(item.masp));\n    }\n  }\n\n  /**\n   * Prepare customer data for import\n   * @param data - Array of new customers\n   * @param existingData - Array of existing customers\n   * @param overwrite - Whether to overwrite existing data\n   * @returns Filtered array of customers to import\n   */\n  static prepareKhachhangData(\n    data: any[],\n    existingData: any[],\n    overwrite: boolean\n  ): any[] {\n    if (overwrite) {\n      return data;\n    } else {\n      const existingCodes = new Set(existingData.map((item) => item.makh));\n      return data.filter((item) => !existingCodes.has(item.makh));\n    }\n  }\n\n  /**\n   * Prepare supplier data for import\n   * @param data - Array of new suppliers\n   * @param existingData - Array of existing suppliers\n   * @param overwrite - Whether to overwrite existing data\n   * @returns Filtered array of suppliers to import\n   */\n  static prepareNhacungcapData(\n    data: any[],\n    existingData: any[],\n    overwrite: boolean\n  ): any[] {\n    if (overwrite) {\n      return data;\n    } else {\n      const existingCodes = new Set(existingData.map((item) => item.mancc));\n      return data.filter((item) => !existingCodes.has(item.mancc));\n    }\n  }\n\n  /**\n   * Prepare price list data for import\n   * @param data - Array of new price lists\n   * @param existingData - Array of existing price lists\n   * @param overwrite - Whether to overwrite existing data\n   * @returns Filtered array of price lists to import\n   */\n  static prepareBanggiaData(\n    data: any[],\n    existingData: any[],\n    overwrite: boolean\n  ): any[] {\n    if (overwrite) {\n      return data;\n    } else {\n      const existingCodes = new Set(existingData.map((item) => item.mabanggia));\n      return data.filter((item) => !existingCodes.has(item.mabanggia));\n    }\n  }\n\n  /**\n   * Prepare warehouse data for import\n   * @param data - Array of new warehouses\n   * @param existingData - Array of existing warehouses\n   * @param overwrite - Whether to overwrite existing data\n   * @returns Filtered array of warehouses to import\n   */\n  static prepareKhoData(\n    data: any[],\n    existingData: any[],\n    overwrite: boolean\n  ): any[] {\n    if (overwrite) {\n      return data;\n    } else {\n      const existingCodes = new Set(existingData.map((item) => item.makho));\n      return data.filter((item) => !existingCodes.has(item.makho));\n    }\n  }\n\n  /**\n   * Generic method to prepare data for import\n   * @param data - Array of new items\n   * @param existingData - Array of existing items\n   * @param keyField - Field to use for comparison\n   * @param overwrite - Whether to overwrite existing data\n   * @returns Filtered array of items to import\n   */\n  static prepareGenericData(\n    data: any[],\n    existingData: any[],\n    keyField: string,\n    overwrite: boolean\n  ): any[] {\n    if (overwrite) {\n      return data;\n    } else {\n      const existingCodes = new Set(existingData.map((item) => item[keyField]));\n      return data.filter((item) => !existingCodes.has(item[keyField]));\n    }\n  }\n\n  /**\n   * Validate required fields in data\n   * @param data - Array of items to validate\n   * @param requiredFields - Array of required field names\n   * @returns Validation result with valid and invalid items\n   */\n  static validateRequiredFields(\n    data: any[],\n    requiredFields: string[]\n  ): { valid: any[], invalid: any[] } {\n    const valid: any[] = [];\n    const invalid: any[] = [];\n\n    data.forEach((item) => {\n      const missingFields = requiredFields.filter(field => \n        item[field] === undefined || \n        item[field] === null || \n        item[field] === ''\n      );\n\n      if (missingFields.length === 0) {\n        valid.push(item);\n      } else {\n        invalid.push({\n          ...item,\n          _validationErrors: missingFields.map(field => `Missing required field: ${field}`)\n        });\n      }\n    });\n\n    return { valid, invalid };\n  }\n\n  /**\n   * Validate data format for specific data types\n   * @param data - Array of items to validate\n   * @param dataType - Type of data (sanpham, khachhang, etc.)\n   * @returns Validation result\n   */\n  static validateDataFormat(\n    data: any[],\n    dataType: string\n  ): { valid: any[], invalid: any[] } {\n    switch (dataType) {\n      case 'sanpham':\n        return this.validateSanphamFormat(data);\n      case 'khachhang':\n        return this.validateKhachhangFormat(data);\n      case 'nhacungcap':\n        return this.validateNhacungcapFormat(data);\n      case 'banggia':\n        return this.validateBanggiaFormat(data);\n      case 'kho':\n        return this.validateKhoFormat(data);\n      default:\n        return { valid: data, invalid: [] };\n    }\n  }\n\n  /**\n   * Validate product data format\n   */\n  private static validateSanphamFormat(data: any[]): { valid: any[], invalid: any[] } {\n    const valid: any[] = [];\n    const invalid: any[] = [];\n\n    data.forEach((item) => {\n      const errors: string[] = [];\n\n      if (!item.masp || typeof item.masp !== 'string') {\n        errors.push('Invalid product code (masp)');\n      }\n\n      if (item.giaban && isNaN(Number(item.giaban))) {\n        errors.push('Invalid selling price (giaban)');\n      }\n\n      if (item.giagoc && isNaN(Number(item.giagoc))) {\n        errors.push('Invalid cost price (giagoc)');\n      }\n\n      if (errors.length === 0) {\n        valid.push(item);\n      } else {\n        invalid.push({\n          ...item,\n          _validationErrors: errors\n        });\n      }\n    });\n\n    return { valid, invalid };\n  }\n\n  /**\n   * Validate customer data format\n   */\n  private static validateKhachhangFormat(data: any[]): { valid: any[], invalid: any[] } {\n    const valid: any[] = [];\n    const invalid: any[] = [];\n\n    data.forEach((item) => {\n      const errors: string[] = [];\n\n      if (!item.makh || typeof item.makh !== 'string') {\n        errors.push('Invalid customer code (makh)');\n      }\n\n      if (!item.name || typeof item.name !== 'string') {\n        errors.push('Invalid customer name');\n      }\n\n      if (item.email && !this.isValidEmail(item.email)) {\n        errors.push('Invalid email format');\n      }\n\n      if (errors.length === 0) {\n        valid.push(item);\n      } else {\n        invalid.push({\n          ...item,\n          _validationErrors: errors\n        });\n      }\n    });\n\n    return { valid, invalid };\n  }\n\n  /**\n   * Validate supplier data format\n   */\n  private static validateNhacungcapFormat(data: any[]): { valid: any[], invalid: any[] } {\n    const valid: any[] = [];\n    const invalid: any[] = [];\n\n    data.forEach((item) => {\n      const errors: string[] = [];\n\n      if (!item.mancc || typeof item.mancc !== 'string') {\n        errors.push('Invalid supplier code (mancc)');\n      }\n\n      if (!item.name || typeof item.name !== 'string') {\n        errors.push('Invalid supplier name');\n      }\n\n      if (errors.length === 0) {\n        valid.push(item);\n      } else {\n        invalid.push({\n          ...item,\n          _validationErrors: errors\n        });\n      }\n    });\n\n    return { valid, invalid };\n  }\n\n  /**\n   * Validate price list data format\n   */\n  private static validateBanggiaFormat(data: any[]): { valid: any[], invalid: any[] } {\n    const valid: any[] = [];\n    const invalid: any[] = [];\n\n    data.forEach((item) => {\n      const errors: string[] = [];\n\n      if (!item.mabanggia || typeof item.mabanggia !== 'string') {\n        errors.push('Invalid price list code (mabanggia)');\n      }\n\n      if (errors.length === 0) {\n        valid.push(item);\n      } else {\n        invalid.push({\n          ...item,\n          _validationErrors: errors\n        });\n      }\n    });\n\n    return { valid, invalid };\n  }\n\n  /**\n   * Validate warehouse data format\n   */\n  private static validateKhoFormat(data: any[]): { valid: any[], invalid: any[] } {\n    const valid: any[] = [];\n    const invalid: any[] = [];\n\n    data.forEach((item) => {\n      const errors: string[] = [];\n\n      if (!item.makho || typeof item.makho !== 'string') {\n        errors.push('Invalid warehouse code (makho)');\n      }\n\n      if (!item.tenkho || typeof item.tenkho !== 'string') {\n        errors.push('Invalid warehouse name (tenkho)');\n      }\n\n      if (errors.length === 0) {\n        valid.push(item);\n      } else {\n        invalid.push({\n          ...item,\n          _validationErrors: errors\n        });\n      }\n    });\n\n    return { valid, invalid };\n  }\n\n  /**\n   * Validate email format\n   */\n  private static isValidEmail(email: string): boolean {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  }\n\n  /**\n   * Get summary of validation results\n   */\n  static getValidationSummary(\n    totalItems: number,\n    validItems: number,\n    invalidItems: number,\n    duplicateItems: number\n  ): string {\n    return `\n      T·ªïng s·ªë d√≤ng: ${totalItems}\n      D·ªØ li·ªáu h·ª£p l·ªá: ${validItems}\n      D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá: ${invalidItems}\n      D·ªØ li·ªáu tr√πng l·∫∑p: ${duplicateItems}\n    `;\n  }\n\n  /**\n   * Transform data before import\n   * @param data - Array of items to transform\n   * @param dataType - Type of data (sanpham, khachhang, etc.)\n   * @returns Transformed data\n   */\n  static transformDataForImport(data: any[], dataType: string): any[] {\n    switch (dataType) {\n      case 'sanpham':\n        return this.transformSanphamData(data);\n      case 'khachhang':\n        return this.transformKhachhangData(data);\n      case 'nhacungcap':\n        return this.transformNhacungcapData(data);\n      case 'banggia':\n        return this.transformBanggiaData(data);\n      case 'kho':\n        return this.transformKhoData(data);\n      default:\n        return data;\n    }\n  }\n\n  /**\n   * Transform product data for import\n   */\n  private static transformSanphamData(data: any[]): any[] {\n    return data.map((item: any) => ({\n      ...item,\n      masp: item.masp?.toString().trim() || '',\n      subtitle: removeVietnameseAccents((item.title || '') + (item.title2 || '')),\n      title: item.title?.toString().trim() || '',\n      title2: item.title2?.toString().trim() || '',\n      giaban: Number(item.giaban) || Number(item.giagoc) || 0,\n      giagoc: Number(item.giagoc) || 0,\n      vat: Number(item.vat) || 0,\n      dvt: item.dvt?.toString().trim() || '',\n      haohut: Number(item.haohut) || 0,\n      ghichu: item.ghichu?.toString().trim() || '',\n    }));\n  }\n\n  /**\n   * Transform customer data for import\n   */\n  private static transformKhachhangData(data: any[]): any[] {\n    return data.map((item: any) => ({\n      ...item,\n      makh: item.makh?.toString().trim() || '',\n      name: item.name?.toString().trim() || '',\n      tenfile: removeVietnameseAccents(item.tenfile?.toString() || item.name?.toString() || ''),\n      subtitle: removeVietnameseAccents((item.name?.toString() || '') + (item.namenn?.toString() || '')),\n      namenn: item.namenn?.toString().trim() || '',\n      diachi: item.diachi?.toString().trim() || '',\n      quan: item.quan?.toString().trim() || '',\n      email: item.email?.toString().trim() || '',\n      sdt: item.sdt?.toString().trim() || '',\n      mst: item.mst?.toString().trim() || '',\n      gionhanhang: item.gionhanhang?.toString().trim() || '',\n      loaikh: item.loaikh?.toString().trim() || 'khachsi',\n      hiengia: item.hiengia !== undefined ? Boolean(item.hiengia) : true,\n      ghichu: item.ghichu?.toString().trim() || '',\n      mabanggia: item.mabanggia?.toString().trim() || '',\n    }));\n  }\n\n  /**\n   * Transform supplier data for import\n   */\n  private static transformNhacungcapData(data: any[]): any[] {\n    return data.map((item: any) => ({\n      ...item,\n      mancc: item.mancc?.toString().trim() || '',\n      name: item.name?.toString().trim() || '',\n      tenfile: removeVietnameseAccents(item.tenfile?.toString() || item.name?.toString() || ''),\n      diachi: item.diachi?.toString().trim() || '',\n      email: item.email?.toString().trim() || '',\n      sdt: item.sdt?.toString().trim() || '',\n      ghichu: item.ghichu?.toString().trim() || '',\n    }));\n  }\n\n  /**\n   * Transform price list data for import\n   */\n  private static transformBanggiaData(data: any[]): any[] {\n    return data.map((item: any) => ({\n      ...item,\n      mabanggia: item.mabanggia?.toString().trim() || '',\n      title: item.title?.toString().trim() || '',\n      type: item.type?.toString().trim() || '',\n      ghichu: item.ghichu?.toString().trim() || '',\n      status: item.status?.toString().trim() || 'active',\n    }));\n  }\n\n  /**\n   * Transform warehouse data for import\n   */\n  private static transformKhoData(data: any[]): any[] {\n    return data.map((item: any) => ({\n      ...item,\n      makho: item.makho?.toString().trim() || '',\n      tenkho: item.tenkho?.toString().trim() || '',\n      diachi: item.diachi?.toString().trim() || '',\n      ghichu: item.ghichu?.toString().trim() || '',\n      status: item.status?.toString().trim() || 'active',\n    }));\n  }\n\n  /**\n   * Filter out invalid data before processing\n   * @param data - Array of items to filter\n   * @param requiredFields - Array of required field names\n   * @returns Filtered data with only valid items\n   */\n  static filterValidData(data: any[], requiredFields: string[]): any[] {\n    return data.filter((item) => {\n      return requiredFields.every(field => \n        item[field] !== undefined && \n        item[field] !== null && \n        item[field] !== ''\n      );\n    });\n  }\n\n  /**\n   * Get entity-specific required fields\n   * @param dataType - Type of data (sanpham, khachhang, etc.)\n   * @returns Array of required field names\n   */\n  static getRequiredFields(dataType: string): string[] {\n    switch (dataType) {\n      case 'sanpham':\n        return ['masp', 'title'];\n      case 'khachhang':\n        return ['makh', 'name'];\n      case 'nhacungcap':\n        return ['mancc', 'name'];\n      case 'banggia':\n        return ['mabanggia', 'title'];\n      case 'kho':\n        return ['makho', 'tenkho'];\n      default:\n        return [];\n    }\n  }\n\n  /**\n   * Get unique identifier field for entity type\n   * @param dataType - Type of data (sanpham, khachhang, etc.)\n   * @returns Field name used as unique identifier\n   */\n  static getUniqueField(dataType: string): string {\n    switch (dataType) {\n      case 'sanpham':\n        return 'masp';\n      case 'khachhang':\n        return 'makh';\n      case 'nhacungcap':\n        return 'mancc';\n      case 'banggia':\n        return 'mabanggia';\n      case 'kho':\n        return 'makho';\n      default:\n        return 'id';\n    }\n  }\n}\n"],
  "mappings": "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",
  "names": ["moment"]
}

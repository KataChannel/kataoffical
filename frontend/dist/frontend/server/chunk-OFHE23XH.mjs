import './polyfills.server.mjs';
import {
  ListDathangComponent
} from "./chunk-SP7P76TV.mjs";
import "./chunk-23PZ27G5.mjs";
import "./chunk-7QWUG222.mjs";
import "./chunk-PVLDU33E.mjs";
import {
  KhoService
} from "./chunk-GHPWMJNO.mjs";
import {
  DathangService
} from "./chunk-VX6D2TRX.mjs";
import {
  NhacungcapService
} from "./chunk-HVVVXKUA.mjs";
import {
  SanphamService
} from "./chunk-ESYIALWJ.mjs";
import {
  BanggiaService
} from "./chunk-UXO2SBGM.mjs";
import "./chunk-6R25CFXQ.mjs";
import "./chunk-BMDXMCXP.mjs";
import {
  html2canvas_esm_default
} from "./chunk-4WFBNVB3.mjs";
import "./chunk-CXFG5YDN.mjs";
import "./chunk-WTPRJMZS.mjs";
import {
  Debounce
} from "./chunk-2FMT7VQU.mjs";
import {
  MatSlideToggleModule
} from "./chunk-J322K7NT.mjs";
import "./chunk-C4Q5BIA5.mjs";
import {
  GoogleSheetService
} from "./chunk-TGADPWSB.mjs";
import {
  MatCell,
  MatCellDef,
  MatColumnDef,
  MatFooterCell,
  MatFooterCellDef,
  MatFooterRow,
  MatFooterRowDef,
  MatHeaderCell,
  MatHeaderCellDef,
  MatHeaderRow,
  MatHeaderRowDef,
  MatNoDataRow,
  MatPaginator,
  MatPaginatorModule,
  MatRow,
  MatRowDef,
  MatSort,
  MatSortHeader,
  MatSortModule,
  MatTable,
  MatTableDataSource,
  MatTableModule
} from "./chunk-DWV2CVG4.mjs";
import {
  MatDialogModule
} from "./chunk-7O7BZAOJ.mjs";
import {
  removeVietnameseAccents
} from "./chunk-RGTCKLO2.mjs";
import "./chunk-GOLLTURE.mjs";
import {
  MatSelect,
  MatSelectModule
} from "./chunk-Z7QVUZWX.mjs";
import {
  ConvertDriveData,
  GenId
} from "./chunk-I23Q342N.mjs";
import {
  MatDatepickerModule
} from "./chunk-RUJ72W7P.mjs";
import {
  require_moment
} from "./chunk-TEMMKMG5.mjs";
import {
  MatMenu,
  MatMenuModule,
  MatMenuTrigger
} from "./chunk-YOUETZOR.mjs";
import {
  MatIcon,
  MatIconModule
} from "./chunk-TGETIOQI.mjs";
import {
  FormsModule,
  MatFormField,
  MatFormFieldModule,
  MatInput,
  MatInputModule,
  MatLabel,
  NgControlStatus,
  NgModel
} from "./chunk-BTD2ENWJ.mjs";
import "./chunk-DRJRGOAY.mjs";
import "./chunk-QFPTY5IH.mjs";
import {
  MatSnackBar
} from "./chunk-A6W66WDU.mjs";
import "./chunk-AVOXPLBL.mjs";
import "./chunk-MGLNC3ZQ.mjs";
import {
  MatButton,
  MatButtonModule,
  MatIconButton
} from "./chunk-2QXHUJNF.mjs";
import {
  MatOption
} from "./chunk-7GJ6SLXG.mjs";
import "./chunk-CE5R7E7Z.mjs";
import {
  ActivatedRoute,
  Router
} from "./chunk-PLFAEF4K.mjs";
import "./chunk-HCNIBG7Y.mjs";
import {
  CommonModule,
  DecimalPipe,
  NgForOf,
  NgIf
} from "./chunk-H3GF4RFC.mjs";
import {
  effect,
  inject,
  signal,
  ɵsetClassDebugInfo,
  ɵɵadvance,
  ɵɵclassMapInterpolate1,
  ɵɵconditional,
  ɵɵdefer,
  ɵɵdeferOnIdle,
  ɵɵdefineComponent,
  ɵɵelement,
  ɵɵelementContainerEnd,
  ɵɵelementContainerStart,
  ɵɵelementEnd,
  ɵɵelementStart,
  ɵɵgetCurrentView,
  ɵɵlistener,
  ɵɵloadQuery,
  ɵɵnextContext,
  ɵɵpipe,
  ɵɵpipeBind2,
  ɵɵproperty,
  ɵɵpureFunction0,
  ɵɵqueryRefresh,
  ɵɵreference,
  ɵɵrepeater,
  ɵɵrepeaterCreate,
  ɵɵrepeaterTrackByIdentity,
  ɵɵresetView,
  ɵɵrestoreView,
  ɵɵsanitizeHtml,
  ɵɵtemplate,
  ɵɵtext,
  ɵɵtextInterpolate,
  ɵɵtextInterpolate1,
  ɵɵtwoWayBindingSet,
  ɵɵtwoWayListener,
  ɵɵtwoWayProperty,
  ɵɵviewQuery
} from "./chunk-4EQURZBD.mjs";
import {
  __decorate
} from "./chunk-QS2IQGEQ.mjs";
import {
  __async,
  __objRest,
  __spreadValues,
  __toESM
} from "./chunk-FMEBT56H.mjs";

// src/app/admin/dathang/detaildathang/detaildathang.component.ts
var import_moment = __toESM(require_moment());
var DetailDathangComponent_ng_container_19_div_11_Defer_2_DepsFn = () => [MatFormField, MatLabel, MatInput, NgControlStatus, NgModel, MatIcon, MatButton, MatIconButton, MatSelect, MatOption, NgForOf, NgIf, DecimalPipe, MatMenu, MatMenuTrigger, MatTable, MatHeaderCellDef, MatHeaderRowDef, MatColumnDef, MatCellDef, MatRowDef, MatFooterCellDef, MatFooterRowDef, MatHeaderCell, MatCell, MatFooterCell, MatHeaderRow, MatRow, MatFooterRow, MatNoDataRow, MatSort, MatSortHeader, MatPaginator];
var _c0 = () => ({ standalone: true });
var _c1 = () => [5, 10, 25, 100];
var _forTrack0 = ($index, $item) => $item.id;
function DetailDathangComponent_button_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r1 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 11);
    \u0275\u0275listener("click", function DetailDathangComponent_button_7_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r1);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.Dathang());
    });
    \u0275\u0275text(1, " V\u1EC1 \u0110\u1EB7t");
    \u0275\u0275elementEnd();
  }
}
function DetailDathangComponent_button_8_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 12);
    \u0275\u0275listener("click", function DetailDathangComponent_button_8_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r3);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.Danhanhang());
    });
    \u0275\u0275text(1, " \u0110\xE3 Nh\u1EADn");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("disabled", ctx_r1.DetailDathang().status == "danhan");
  }
}
function DetailDathangComponent_Conditional_15_button_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 3);
    \u0275\u0275listener("click", function DetailDathangComponent_Conditional_15_button_0_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r4);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.handleDathangAction());
    });
    \u0275\u0275elementStart(1, "mat-icon");
    \u0275\u0275text(2, "save");
    \u0275\u0275elementEnd()();
  }
}
function DetailDathangComponent_Conditional_15_button_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "button", 3);
    \u0275\u0275listener("click", function DetailDathangComponent_Conditional_15_button_1_Template_button_click_0_listener() {
      \u0275\u0275restoreView(_r5);
      const ctx_r1 = \u0275\u0275nextContext(2);
      return \u0275\u0275resetView(ctx_r1.toggleEdit());
    });
    \u0275\u0275elementStart(1, "mat-icon");
    \u0275\u0275text(2, "edit");
    \u0275\u0275elementEnd()();
  }
}
function DetailDathangComponent_Conditional_15_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275template(0, DetailDathangComponent_Conditional_15_button_0_Template, 3, 0, "button", 13)(1, DetailDathangComponent_Conditional_15_button_1_Template, 3, 0, "button", 13);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("ngIf", ctx_r1.isEdit());
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.isEdit());
  }
}
function DetailDathangComponent_Conditional_16_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "button", 8);
    \u0275\u0275text(1, " \u0110\xE3 Nh\u1EADn");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275property("disabled", ctx_r1.DetailDathang().status == "danhan");
  }
}
function DetailDathangComponent_ng_container_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = \u0275\u0275getCurrentView();
    \u0275\u0275elementContainerStart(0);
    \u0275\u0275elementStart(1, "div", 14)(2, "div", 15);
    \u0275\u0275text(3, "B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(4, "div", 16)(5, "button", 11);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_18_Template_button_click_5_listener() {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.DeleteData());
    });
    \u0275\u0275text(6, "\u0110\u1ED3ng \xDD");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "button", 17);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_18_Template_button_click_7_listener() {
      \u0275\u0275restoreView(_r6);
      const ctx_r1 = \u0275\u0275nextContext();
      return \u0275\u0275resetView(ctx_r1.toggleDelete());
    });
    \u0275\u0275text(8, "Hu\u1EF7 B\u1ECF");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementContainerEnd();
  }
}
function DetailDathangComponent_ng_container_19_div_9_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "div", 25);
  }
  if (rf & 2) {
    let tmp_2_0;
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275property("innerHTML", (tmp_2_0 = ctx_r1.DetailDathang()) == null ? null : tmp_2_0.nhacungcap == null ? null : tmp_2_0.nhacungcap.ghichu, \u0275\u0275sanitizeHtml);
  }
}
function DetailDathangComponent_ng_container_19_div_10_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "div", 26);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_11_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 36);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const item_r8 = ctx.$implicit;
    \u0275\u0275property("value", item_r8.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(item_r8.name);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_21_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "mat-option", 36);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const item_r9 = ctx.$implicit;
    \u0275\u0275property("value", item_r9.id);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(item_r9.name);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_div_46_span_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 60);
    \u0275\u0275text(1, "check");
    \u0275\u0275elementEnd();
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_div_46_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 58);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_19_div_11_Defer_1_div_46_Template_div_click_0_listener() {
      const item_r11 = \u0275\u0275restoreView(_r10).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(4);
      return \u0275\u0275resetView(ctx_r1.ChosenItem(item_r11));
    });
    \u0275\u0275template(1, DetailDathangComponent_ng_container_19_div_11_Defer_1_div_46_span_1_Template, 2, 0, "span", 59);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const item_r11 = ctx.$implicit;
    const ctx_r1 = \u0275\u0275nextContext(4);
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.CheckItem(item_r11));
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", item_r11.title, " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_th_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "th", 64)(1, "span", 65);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const column_r13 = \u0275\u0275nextContext().$implicit;
    const ctx_r1 = \u0275\u0275nextContext(4);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1(" ", ctx_r1.ColumnName[column_r13], " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r14 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "span", 67)(1, "span");
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "button", 70);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_1_Template_button_click_3_listener() {
      \u0275\u0275restoreView(_r14);
      const row_r15 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.RemoveSanpham(row_r15));
    });
    \u0275\u0275elementStart(4, "mat-icon");
    \u0275\u0275text(5, "delete");
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const idx_r16 = \u0275\u0275nextContext().index;
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1("", idx_r16 + 1, " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_2_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 72)(1, "div", 73);
    \u0275\u0275listener("blur", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_2_div_0_Template_div_blur_1_listener($event) {
      \u0275\u0275restoreView(_r17);
      const row_r15 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.UpdateBlurValue($event, row_r15.order, row_r15, "sldat", "number"));
    })("keydown.enter", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_2_div_0_Template_div_keydown_enter_1_listener($event) {
      \u0275\u0275restoreView(_r17);
      const row_r15 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.EnterUpdateValue($event, row_r15.order, row_r15, "sldat", "number"));
    });
    \u0275\u0275text(2);
    \u0275\u0275pipe(3, "number");
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext(2).$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275property("contentEditable", true);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind2(3, 2, row_r15[column_r13] || 0, "1.0-2"), " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_2_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div");
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "number");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext(2).$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind2(2, 1, row_r15[column_r13] || 0, "1.0-2"), " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275template(0, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_2_div_0_Template, 4, 5, "div", 71)(1, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_2_div_1_Template, 3, 4, "div", 10);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(6);
    \u0275\u0275property("ngIf", ctx_r1.dathangId() === "new" || ctx_r1.DetailDathang().status === "dadat");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.dathangId() !== "new" && ctx_r1.DetailDathang().status !== "dadat");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_3_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 75);
    \u0275\u0275listener("blur", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_3_div_0_Template_div_blur_0_listener($event) {
      \u0275\u0275restoreView(_r18);
      const row_r15 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.UpdateBlurValue($event, row_r15.order, row_r15, "slgiao", "number"));
    })("keydown.enter", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_3_div_0_Template_div_keydown_enter_0_listener($event) {
      \u0275\u0275restoreView(_r18);
      const row_r15 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.EnterUpdateValue($event, row_r15.order, row_r15, "slgiao", "number"));
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext(2).$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("contentEditable", true);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", row_r15[column_r13] || 0, " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_3_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div");
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "number");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext(2).$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind2(2, 1, row_r15[column_r13] || 0, "1.0-2"), " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275template(0, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_3_div_0_Template, 2, 2, "div", 74)(1, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_3_div_1_Template, 3, 4, "div", 10);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(6);
    \u0275\u0275property("ngIf", ctx_r1.DetailDathang().status === "dadat");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.DetailDathang().status !== "dadat");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_4_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r19 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 77);
    \u0275\u0275listener("blur", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_4_div_0_Template_div_blur_0_listener($event) {
      \u0275\u0275restoreView(_r19);
      const row_r15 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.UpdateBlurValue($event, row_r15.order, row_r15, "slnhan", "number"));
    })("keydown.enter", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_4_div_0_Template_div_keydown_enter_0_listener($event) {
      \u0275\u0275restoreView(_r19);
      const row_r15 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.EnterUpdateValue($event, row_r15.order, row_r15, "slnhan", "number"));
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext(2).$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("contentEditable", true);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", row_r15[column_r13] || 0, " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_4_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div");
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "number");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext(2).$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind2(2, 1, row_r15[column_r13] || 0, "1.0-2"), " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275template(0, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_4_div_0_Template, 2, 2, "div", 76)(1, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_4_div_1_Template, 3, 4, "div", 10);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(6);
    \u0275\u0275property("ngIf", ctx_r1.DetailDathang().status === "dadat");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.DetailDathang().status !== "dadat");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_5_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 79);
    \u0275\u0275listener("blur", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_5_div_0_Template_div_blur_0_listener($event) {
      \u0275\u0275restoreView(_r20);
      const row_r15 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.UpdateBlurValue($event, row_r15.order, row_r15, "gianhap", "number"));
    })("keydown.enter", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_5_div_0_Template_div_keydown_enter_0_listener($event) {
      \u0275\u0275restoreView(_r20);
      const row_r15 = \u0275\u0275nextContext(2).$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.EnterUpdateValue($event, row_r15.order, row_r15, "gianhap", "number"));
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext(2).$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("contentEditable", true);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", row_r15[column_r13] || 0, " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_5_div_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div");
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "number");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext(2).$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind2(2, 1, row_r15[column_r13] || 0, "1.0-2"), " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_5_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275template(0, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_5_div_0_Template, 2, 2, "div", 78)(1, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_5_div_1_Template, 3, 4, "div", 10);
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(6);
    \u0275\u0275property("ngIf", ctx_r1.DetailDathang().status === "dadat");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.DetailDathang().status !== "dadat");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div");
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "number");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext().$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", \u0275\u0275pipeBind2(2, 1, row_r15[column_r13] || 0, "1.0-2"), " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r21 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 80);
    \u0275\u0275listener("blur", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_7_Template_div_blur_0_listener($event) {
      \u0275\u0275restoreView(_r21);
      const row_r15 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.UpdateBlurValue($event, row_r15.order, row_r15, "ghichu", "string"));
    })("keydown.enter", function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_7_Template_div_keydown_enter_0_listener($event) {
      \u0275\u0275restoreView(_r21);
      const row_r15 = \u0275\u0275nextContext().$implicit;
      const ctx_r1 = \u0275\u0275nextContext(5);
      return \u0275\u0275resetView(ctx_r1.EnterUpdateValue($event, row_r15.order, row_r15, "ghichu", "string"));
    });
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext().$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275property("contentEditable", true);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", row_r15[column_r13] || "", " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_8_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 69);
    \u0275\u0275text(1);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const row_r15 = \u0275\u0275nextContext().$implicit;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", row_r15[column_r13], " ");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 66);
    \u0275\u0275template(1, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_1_Template, 6, 1, "span", 67)(2, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_2_Template, 2, 2)(3, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_3_Template, 2, 2)(4, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_4_Template, 2, 2)(5, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_5_Template, 2, 2)(6, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_6_Template, 3, 4, "div")(7, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_7_Template, 2, 2, "div", 68)(8, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Case_8_Template, 2, 1, "span", 69);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    let tmp_18_0;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275conditional((tmp_18_0 = column_r13) === "STT" ? 1 : tmp_18_0 === "sldat" ? 2 : tmp_18_0 === "slgiao" ? 3 : tmp_18_0 === "slnhan" ? 4 : tmp_18_0 === "gianhap" ? 5 : tmp_18_0 === "ttnhan" ? 6 : tmp_18_0 === "ghichu" ? 7 : 8);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_1_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 82);
    \u0275\u0275text(1, "T\u1ED5ng:");
    \u0275\u0275elementEnd();
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_2_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 82);
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "number");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(6);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(2, 1, ctx_r1.TinhTong(ctx_r1.DetailDathang().sanpham, "sldat"), "1.0-2"));
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 82);
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "number");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(6);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(2, 1, ctx_r1.TinhTong(ctx_r1.DetailDathang().sanpham, "slgiao"), "1.0-2"));
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_4_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 82);
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "number");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(6);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(2, 1, ctx_r1.TinhTong(ctx_r1.DetailDathang().sanpham, "slnhan"), "1.0-2"));
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_5_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "span", 82);
    \u0275\u0275text(1);
    \u0275\u0275pipe(2, "number");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(6);
    \u0275\u0275advance();
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(2, 1, ctx_r1.TinhTong(ctx_r1.DetailDathang().sanpham, "ttnhan"), "1.0-2"));
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_6_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "span");
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "td", 81);
    \u0275\u0275template(1, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_1_Template, 2, 0, "span", 82)(2, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_2_Template, 3, 4, "span", 82)(3, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_3_Template, 3, 4, "span", 82)(4, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_4_Template, 3, 4, "span", 82)(5, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_5_Template, 3, 4, "span", 82)(6, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Case_6_Template, 1, 0, "span");
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    let tmp_16_0;
    const column_r13 = \u0275\u0275nextContext().$implicit;
    \u0275\u0275advance();
    \u0275\u0275conditional((tmp_16_0 = column_r13) === "STT" ? 1 : tmp_16_0 === "sldat" ? 2 : tmp_16_0 === "slgiao" ? 3 : tmp_16_0 === "slnhan" ? 4 : tmp_16_0 === "ttnhan" ? 5 : 6);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementContainerStart(0, 52);
    \u0275\u0275template(1, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_th_1_Template, 3, 1, "th", 61)(2, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_2_Template, 9, 1, "td", 62)(3, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_td_3_Template, 7, 1, "td", 63);
    \u0275\u0275elementContainerEnd();
  }
  if (rf & 2) {
    const column_r13 = ctx.$implicit;
    \u0275\u0275property("matColumnDef", column_r13);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_tr_59_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 83);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_tr_60_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 84);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_tr_61_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275element(0, "tr", 85);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_tr_62_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "tr", 86)(1, "td", 87);
    \u0275\u0275text(2, "Kh\xF4ng t\xECm th\u1EA5y");
    \u0275\u0275elementEnd()();
  }
}
function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = \u0275\u0275getCurrentView();
    \u0275\u0275elementStart(0, "div", 28)(1, "div", 29)(2, "mat-form-field", 30)(3, "mat-label");
    \u0275\u0275text(4, "Nh\xE0 Cung C\u1EA5p");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "mat-select", 31);
    \u0275\u0275twoWayListener("ngModelChange", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_mat_select_ngModelChange_5_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      \u0275\u0275twoWayBindingSet(ctx_r1.DetailDathang().nhacungcapId, $event) || (ctx_r1.DetailDathang().nhacungcapId = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275listener("selectionChange", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_mat_select_selectionChange_5_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.SelectNhacungcap($event));
    });
    \u0275\u0275elementStart(6, "div", 32)(7, "mat-form-field", 33)(8, "input", 34);
    \u0275\u0275listener("input", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_input_input_8_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.DoFindNhacungcap($event));
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(9, "div", 35);
    \u0275\u0275repeaterCreate(10, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_11_Template, 2, 2, "mat-option", 36, _forTrack0);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(12, "mat-form-field", 30)(13, "mat-label");
    \u0275\u0275text(14, "Kho");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(15, "mat-select", 31);
    \u0275\u0275twoWayListener("ngModelChange", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_mat_select_ngModelChange_15_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      \u0275\u0275twoWayBindingSet(ctx_r1.DetailDathang().khoId, $event) || (ctx_r1.DetailDathang().khoId = $event);
      return \u0275\u0275resetView($event);
    });
    \u0275\u0275listener("selectionChange", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_mat_select_selectionChange_15_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.SelectKho($event));
    });
    \u0275\u0275elementStart(16, "div", 32)(17, "mat-form-field", 33)(18, "input", 34);
    \u0275\u0275listener("input", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_input_input_18_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.DoFindKho($event));
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(19, "div", 35);
    \u0275\u0275repeaterCreate(20, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_21_Template, 2, 2, "mat-option", 36, _forTrack0);
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(22, "mat-form-field", 30)(23, "mat-label");
    \u0275\u0275text(24, "T\xECm Ki\u1EBFm");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(25, "input", 37);
    \u0275\u0275listener("keyup", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_input_keyup_25_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.applyFilter($event));
    });
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(26, "button", 38, 0);
    \u0275\u0275text(28);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(29, "mat-menu", null, 1)(31, "div", 39);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_div_click_31_listener($event) {
      \u0275\u0275restoreView(_r7);
      return \u0275\u0275resetView($event.stopPropagation());
    });
    \u0275\u0275elementStart(32, "div", 40)(33, "input", 41);
    \u0275\u0275listener("keyup", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_input_keyup_33_listener($event) {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.doFilterSanpham($event));
    });
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(34, "div", 42)(35, "span", 43);
    \u0275\u0275text(36, "search");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(37, "div", 44)(38, "div", 5)(39, "span", 45);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_span_click_39_listener() {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.ChosenAll(ctx_r1.filterSanpham));
    });
    \u0275\u0275text(40);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(41, "span", 45);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_span_click_41_listener() {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.EmptyFiter());
    });
    \u0275\u0275text(42, "Xo\xE1");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(43, "span", 45);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_span_click_43_listener() {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.ResetFilter());
    });
    \u0275\u0275text(44, "Reset");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(45, "div", 46);
    \u0275\u0275template(46, DetailDathangComponent_ng_container_19_div_11_Defer_1_div_46_Template, 3, 2, "div", 47);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(47, "div", 48)(48, "button", 17);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_button_click_48_listener() {
      \u0275\u0275restoreView(_r7);
      const menuTrigger_r12 = \u0275\u0275reference(27);
      return \u0275\u0275resetView(menuTrigger_r12.closeMenu());
    });
    \u0275\u0275text(49, "\u0110\xF3ng");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(50, "button", 11);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_button_click_50_listener() {
      \u0275\u0275restoreView(_r7);
      const menuTrigger_r12 = \u0275\u0275reference(27);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.ApplyFilterColum(menuTrigger_r12));
    });
    \u0275\u0275text(51, "\xC1p D\u1EE5ng");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(52, "button", 49);
    \u0275\u0275listener("click", function DetailDathangComponent_ng_container_19_div_11_Defer_1_Template_button_click_52_listener() {
      \u0275\u0275restoreView(_r7);
      const ctx_r1 = \u0275\u0275nextContext(3);
      return \u0275\u0275resetView(ctx_r1.EmptyCart());
    });
    \u0275\u0275elementStart(53, "mat-icon");
    \u0275\u0275text(54, "delete");
    \u0275\u0275elementEnd()()()();
    \u0275\u0275elementStart(55, "div", 50)(56, "table", 51);
    \u0275\u0275repeaterCreate(57, DetailDathangComponent_ng_container_19_div_11_Defer_1_For_58_Template, 4, 1, "ng-container", 52, \u0275\u0275repeaterTrackByIdentity);
    \u0275\u0275template(59, DetailDathangComponent_ng_container_19_div_11_Defer_1_tr_59_Template, 1, 0, "tr", 53)(60, DetailDathangComponent_ng_container_19_div_11_Defer_1_tr_60_Template, 1, 0, "tr", 54)(61, DetailDathangComponent_ng_container_19_div_11_Defer_1_tr_61_Template, 1, 0, "tr", 55)(62, DetailDathangComponent_ng_container_19_div_11_Defer_1_tr_62_Template, 3, 0, "tr", 56);
    \u0275\u0275elementEnd();
    \u0275\u0275element(63, "mat-paginator", 57);
    \u0275\u0275elementEnd();
  }
  if (rf & 2) {
    const menu_r22 = \u0275\u0275reference(30);
    const ctx_r1 = \u0275\u0275nextContext(3);
    \u0275\u0275advance(5);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.DetailDathang().nhacungcapId);
    \u0275\u0275property("ngModelOptions", \u0275\u0275pureFunction0(17, _c0));
    \u0275\u0275advance(5);
    \u0275\u0275repeater(ctx_r1.filterNhacungcap);
    \u0275\u0275advance(5);
    \u0275\u0275twoWayProperty("ngModel", ctx_r1.DetailDathang().khoId);
    \u0275\u0275property("ngModelOptions", \u0275\u0275pureFunction0(18, _c0));
    \u0275\u0275advance(5);
    \u0275\u0275repeater(ctx_r1.filterKho);
    \u0275\u0275advance(6);
    \u0275\u0275property("disabled", !ctx_r1.isEdit())("matMenuTriggerFor", menu_r22);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate1(" ", ctx_r1.ListFilter.length, " S\u1EA3n Ph\u1EA9m ");
    \u0275\u0275advance(12);
    \u0275\u0275textInterpolate1("Ch\u1ECDn T\u1EA5t C\u1EA3 ", ctx_r1.ListFilter.length, "");
    \u0275\u0275advance(6);
    \u0275\u0275property("ngForOf", ctx_r1.filterSanpham)("ngForTrackBy", ctx_r1.trackByFn);
    \u0275\u0275advance(6);
    \u0275\u0275property("disabled", !ctx_r1.isEdit());
    \u0275\u0275advance(4);
    \u0275\u0275property("dataSource", ctx_r1.dataSource);
    \u0275\u0275advance();
    \u0275\u0275repeater(ctx_r1.displayedColumns);
    \u0275\u0275advance(2);
    \u0275\u0275property("matHeaderRowDef", ctx_r1.displayedColumns);
    \u0275\u0275advance();
    \u0275\u0275property("matRowDefColumns", ctx_r1.displayedColumns);
    \u0275\u0275advance();
    \u0275\u0275property("matFooterRowDef", ctx_r1.displayedColumns);
    \u0275\u0275advance(2);
    \u0275\u0275property("pageSizeOptions", \u0275\u0275pureFunction0(19, _c1))("pageSize", ctx_r1.dataSource.data.length);
  }
}
function DetailDathangComponent_ng_container_19_div_11_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "div", 27);
    \u0275\u0275template(1, DetailDathangComponent_ng_container_19_div_11_Defer_1_Template, 64, 20);
    \u0275\u0275defer(2, 1, DetailDathangComponent_ng_container_19_div_11_Defer_2_DepsFn);
    \u0275\u0275deferOnIdle();
    \u0275\u0275elementEnd();
  }
}
function DetailDathangComponent_ng_container_19_table_12_For_16_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "tr", 89)(1, "td", 95);
    \u0275\u0275text(2);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(3, "td", 91);
    \u0275\u0275text(4);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "td", 95);
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "td", 96);
    \u0275\u0275text(8);
    \u0275\u0275pipe(9, "number");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(10, "td", 90);
    \u0275\u0275text(11);
    \u0275\u0275elementEnd()();
  }
  if (rf & 2) {
    const item_r23 = ctx.$implicit;
    const \u0275$index_377_r24 = ctx.$index;
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(\u0275$index_377_r24 + 1);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(item_r23.title);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(item_r23.dvt);
    \u0275\u0275advance(2);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(9, 5, item_r23.sldat, "1.0-2"));
    \u0275\u0275advance(3);
    \u0275\u0275textInterpolate(item_r23.ghichu);
  }
}
function DetailDathangComponent_ng_container_19_table_12_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementStart(0, "table", 88)(1, "thead")(2, "tr", 89)(3, "th", 90)(4, "span");
    \u0275\u0275text(5, "STT");
    \u0275\u0275elementEnd()();
    \u0275\u0275elementStart(6, "th", 91);
    \u0275\u0275text(7, "T\xEAn s\u1EA3n ph\u1EA9m");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(8, "th", 91);
    \u0275\u0275text(9, "\u0110VT");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(10, "th", 91);
    \u0275\u0275text(11, "SL \u0110\u1EB7t");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(12, "th", 90);
    \u0275\u0275text(13, "Ghi ch\xFA");
    \u0275\u0275elementEnd()()();
    \u0275\u0275elementStart(14, "tbody");
    \u0275\u0275repeaterCreate(15, DetailDathangComponent_ng_container_19_table_12_For_16_Template, 12, 8, "tr", 89, _forTrack0);
    \u0275\u0275elementStart(17, "tr", 89)(18, "td", 92);
    \u0275\u0275text(19, "T\u1ED5ng:");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(20, "td", 93);
    \u0275\u0275text(21);
    \u0275\u0275pipe(22, "number");
    \u0275\u0275elementEnd();
    \u0275\u0275element(23, "td", 94);
    \u0275\u0275elementEnd()()();
  }
  if (rf & 2) {
    const ctx_r1 = \u0275\u0275nextContext(2);
    \u0275\u0275advance(15);
    \u0275\u0275repeater(ctx_r1.DetailDathang().sanpham);
    \u0275\u0275advance(6);
    \u0275\u0275textInterpolate(\u0275\u0275pipeBind2(22, 1, ctx_r1.TinhTong(ctx_r1.DetailDathang().sanpham, "sldat"), "1.0-2"));
  }
}
function DetailDathangComponent_ng_container_19_Template(rf, ctx) {
  if (rf & 1) {
    \u0275\u0275elementContainerStart(0);
    \u0275\u0275elementStart(1, "div", 18)(2, "div", 19)(3, "div", 20);
    \u0275\u0275text(4, "\u0110\u1EB7t H\xE0ng Nh\xE0 Cung C\u1EA5p");
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(5, "div");
    \u0275\u0275text(6);
    \u0275\u0275elementEnd();
    \u0275\u0275elementStart(7, "div");
    \u0275\u0275text(8);
    \u0275\u0275elementEnd();
    \u0275\u0275template(9, DetailDathangComponent_ng_container_19_div_9_Template, 1, 1, "div", 21)(10, DetailDathangComponent_ng_container_19_div_10_Template, 1, 0, "div", 22)(11, DetailDathangComponent_ng_container_19_div_11_Template, 4, 0, "div", 23)(12, DetailDathangComponent_ng_container_19_table_12_Template, 24, 4, "table", 24);
    \u0275\u0275elementEnd()();
    \u0275\u0275elementContainerEnd();
  }
  if (rf & 2) {
    let tmp_1_0;
    let tmp_2_0;
    let tmp_3_0;
    let tmp_4_0;
    let tmp_5_0;
    const ctx_r1 = \u0275\u0275nextContext();
    \u0275\u0275advance(5);
    \u0275\u0275classMapInterpolate1("font-bold uppercase ", ((tmp_1_0 = ctx_r1.DetailDathang()) == null ? null : tmp_1_0.khoId) ? "" : "text-red-700 italic", "");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ((tmp_2_0 = ctx_r1.DetailDathang()) == null ? null : tmp_2_0.kho == null ? null : tmp_2_0.kho.name) || "Ch\u01B0a Ch\u1ECDn Kho", " ");
    \u0275\u0275advance();
    \u0275\u0275classMapInterpolate1("font-bold uppercase ", ((tmp_3_0 = ctx_r1.DetailDathang()) == null ? null : tmp_3_0.nhacungcapId) ? "" : "text-red-700 italic", "");
    \u0275\u0275advance();
    \u0275\u0275textInterpolate1(" ", ((tmp_4_0 = ctx_r1.DetailDathang()) == null ? null : tmp_4_0.nhacungcap == null ? null : tmp_4_0.nhacungcap.name) || "Ch\u01B0a Ch\u1ECDn Kh\xE1ch H\xE0ng", " ");
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.isEdit() && ((tmp_5_0 = ctx_r1.DetailDathang()) == null ? null : tmp_5_0.nhacungcap == null ? null : tmp_5_0.nhacungcap.ghichu));
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.isEdit());
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", ctx_r1.isEdit());
    \u0275\u0275advance();
    \u0275\u0275property("ngIf", !ctx_r1.isEdit());
  }
}
var DetailDathangComponent = class _DetailDathangComponent {
  _ListdathangComponent = inject(ListDathangComponent);
  _DathangService = inject(DathangService);
  _NhacungcapService = inject(NhacungcapService);
  _BanggiaService = inject(BanggiaService);
  _SanphamService = inject(SanphamService);
  _KhoService = inject(KhoService);
  _route = inject(ActivatedRoute);
  _router = inject(Router);
  _snackBar = inject(MatSnackBar);
  constructor() {
    this._route.paramMap.subscribe((params) => __async(this, null, function* () {
      const id = params.get("id");
      this._DathangService.setDathangId(id);
      yield this._NhacungcapService.getAllNhacungcap();
      this.filterNhacungcap = this.ListNhacungcap().filter((v) => v.isActive);
      yield this._KhoService.getAllKho();
      this.filterKho = this.ListKho();
      yield this._BanggiaService.getAllBanggia();
      this.filterBanggia = this._BanggiaService.ListBanggia();
      yield this._SanphamService.getAllSanpham();
      this.filterSanpham = this._SanphamService.ListSanpham();
      this.dataSource.data = this.DetailDathang().sanpham;
    }));
    effect(() => __async(this, null, function* () {
      const id = this._DathangService.dathangId();
      if (!id) {
        this._router.navigate(["/admin/dathang"]);
        this._ListdathangComponent.drawer.close();
      }
      if (id === "new") {
        this.DetailDathang.set({
          title: GenId(8, false),
          madncc: GenId(8, false),
          type: "dathang",
          ngaynhan: (0, import_moment.default)().add(1, "days").format("YYYY-MM-DD")
        });
        this._ListdathangComponent.drawer.open();
        this.isEdit.update((value) => !value);
        this._router.navigate(["/admin/dathang", "new"]);
      } else {
        yield this._DathangService.getDathangByid(id);
        this.ListFilter = this.DetailDathang().sanpham;
        this._ListdathangComponent.drawer.open();
        this._router.navigate(["/admin/dathang", id]);
      }
    }));
  }
  DetailDathang = this._DathangService.DetailDathang;
  ListNhacungcap = this._NhacungcapService.ListNhacungcap;
  ListKho = this._KhoService.ListKho;
  isEdit = signal(false);
  isDelete = signal(false);
  filterNhacungcap = [];
  filterKho = [];
  filterBanggia = [];
  filterSanpham = [];
  dathangId = this._DathangService.dathangId;
  ngOnInit() {
    return __async(this, null, function* () {
    });
  }
  handleDathangAction() {
    return __async(this, null, function* () {
      if (this.dathangId() === "new") {
        yield this.createDathang();
      } else {
        yield this.updateDathang();
      }
    });
  }
  createDathang() {
    return __async(this, null, function* () {
      try {
        this.DetailDathang.update((v) => {
          v.sanpham = this.dataSource.data;
          v.ngaynhan = (0, import_moment.default)(v.ngaygiao).format("YYYY-MM-DD");
          return v;
        });
        yield this._DathangService.CreateDathang(this.DetailDathang());
        this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng", "", {
          duration: 1e3,
          horizontalPosition: "end",
          verticalPosition: "top",
          panelClass: ["snackbar-success"]
        });
        this.isEdit.update((value) => !value);
      } catch (error) {
        console.error("L\u1ED7i khi t\u1EA1o dathang:", error);
      }
    });
  }
  isPrint = signal(false);
  PrintDathang() {
    const printContent = document.getElementById("chuphinh");
    if (!printContent) {
      console.error("Print content element not found");
      return;
    }
    window.focus();
    html2canvas_esm_default(printContent).then((canvas) => {
      canvas.toBlob((blob) => {
        if (blob) {
          const item = new ClipboardItem({ "image/png": blob });
          navigator.clipboard.write([item]).then(() => {
            console.log("Image copied to clipboard successfully");
            this._snackBar.open("\u0110\xE3 Ch\u1EE5p H\xECnh Xong", "", {
              duration: 1e3,
              horizontalPosition: "end",
              verticalPosition: "top",
              panelClass: ["snackbar-success"]
            });
          }).catch((error) => {
            console.error("Error copying image to clipboard:", error);
          });
        } else {
          console.error("Failed to convert canvas to Blob");
        }
      }, "image/png");
    }).catch((error) => console.error("Error generating image:", error));
  }
  printContent() {
    const printContent = document.getElementById("printContent");
    if (printContent) {
      const newWindow = window.open("", "_blank");
      const tailwindCSS = `
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: { extend: {} }
      };
    </script>
  `;
      if (newWindow) {
        newWindow.document.write(`
          <html>
          <head>
            <title>In B\u1EA3ng</title>
             ${tailwindCSS}
            <style>
              body { font-size: 12px; font-family: Arial, sans-serif; }
              table { width: 100%; border-collapse: collapse; }
              th, td { border: 1px solid #000; padding: 4px; text-align: left; }
              @media print { 
              body { margin: 0; } 
              img {height:80px}
              }
            </style>
          </head>
          <body>
            ${printContent.outerHTML}
            <script>
              window.onload = function() { window.print(); window.close(); }
            </script>
          </body>
          </html>
        `);
        newWindow.document.close();
        this.DetailDathang.update((v) => {
          v.printCount = v.printCount + 1;
          return v;
        });
        console.log(this.DetailDathang());
        this._DathangService.updateDathang(this.DetailDathang());
      } else {
        console.error("Kh\xF4ng th\u1EC3 m\u1EDF c\u1EEDa s\u1ED5 in");
      }
    } else {
      console.error("Kh\xF4ng t\xECm th\u1EA5y ph\u1EA7n t\u1EED printContent");
    }
  }
  updateDathang() {
    return __async(this, null, function* () {
      try {
        console.log(this.DetailDathang());
        this.DetailDathang.update((v) => {
          v.sanpham = this.dataSource.data.map((item) => {
            const _a = item, { TonKho } = _a, rest = __objRest(_a, ["TonKho"]);
            return rest;
          });
          return v;
        });
        yield this._DathangService.updateDathang(this.DetailDathang());
        this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng", "", {
          duration: 1e3,
          horizontalPosition: "end",
          verticalPosition: "top",
          panelClass: ["snackbar-success"]
        });
        this.isEdit.update((value) => !value);
      } catch (error) {
        console.error("L\u1ED7i khi c\u1EADp nh\u1EADt dathang:", error);
      }
    });
  }
  DeleteData() {
    return __async(this, null, function* () {
      try {
        yield this._DathangService.DeleteDathang(this.DetailDathang());
        this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng", "", {
          duration: 1e3,
          horizontalPosition: "end",
          verticalPosition: "top",
          panelClass: ["snackbar-success"]
        });
        this._router.navigate(["/admin/dathang"]);
      } catch (error) {
        console.error("L\u1ED7i khi x\xF3a dathang:", error);
      }
    });
  }
  goBack() {
    this._router.navigate(["/admin/dathang"]);
    this._ListdathangComponent.drawer.close();
  }
  trackByFn(index, item) {
    return item.id;
  }
  toggleEdit() {
    this.isEdit.update((value) => !value);
  }
  toggleDelete() {
    this.isDelete.update((value) => !value);
  }
  FillSlug() {
  }
  DoFindKho(event) {
    return __async(this, null, function* () {
      const value = event.target.value.trim().toLowerCase();
      if (!value) {
        this.filterKho = this.ListKho();
        return;
      }
      this.filterKho = this.ListKho().filter((v) => v.name.toLowerCase().includes(value));
    });
  }
  SelectKho(event) {
    const selectedKho = this.ListKho().find((v) => v.id === event.value);
    console.log(selectedKho);
    if (selectedKho) {
      this.DetailDathang.update((v) => {
        const kho = {
          name: selectedKho.name,
          diachi: selectedKho.diachi,
          sdt: selectedKho.sdt,
          ghichu: selectedKho.ghichu
        };
        v.khoId = selectedKho.id;
        v.kho = kho;
        return v;
      });
    }
    console.log(this.DetailDathang());
  }
  DoFindNhacungcap(event) {
    return __async(this, null, function* () {
      const value = event.target.value.trim().toLowerCase();
      if (!value) {
        yield this._NhacungcapService.getNhacungcapBy({});
        this.filterNhacungcap = this.ListNhacungcap();
        return;
      }
      yield this._NhacungcapService.getNhacungcapBy({ name: value });
      this.filterNhacungcap = this.ListNhacungcap();
    });
  }
  DoFindBanggia(event) {
    const query = event.target.value.toLowerCase();
  }
  UpdateBangia() {
  }
  SelectBanggia(event) {
    console.log(event.value);
  }
  Chonnhacungcap(item) {
    this.DetailDathang.update((v) => {
      v.nhacungcapId = item.id;
      return v;
    });
  }
  EnterUpdateValue(event, order, element, field, type) {
    const newValue = type === "number" ? Number(event.target.innerText.trim()) || 0 : event.target.innerText.trim();
    const keyboardEvent = event;
    if (keyboardEvent.key === "Enter" && !keyboardEvent.shiftKey) {
      event.preventDefault();
    }
    if (type === "number") {
      const allowedKeys = [
        "Backspace",
        "Delete",
        "ArrowLeft",
        "ArrowRight",
        "Tab"
      ];
      if (!/^\d$/.test(keyboardEvent.key) && !allowedKeys.includes(keyboardEvent.key)) {
        event.preventDefault();
      }
    }
    const index = this.dataSource.data.findIndex((item) => item.order === order);
    this.DetailDathang.update((v) => {
      if (index !== null) {
        if (field === "sldat") {
          v.sanpham[index]["sldat"] = v.sanpham[index]["slgiao"] = v.sanpham[index]["slnhan"] = newValue;
          const inputs = document.querySelectorAll(".sldat-input");
          if (index < this.dataSource.filteredData.length - 1) {
            const nextInput = inputs[index + 1];
            if (nextInput) {
              if (nextInput instanceof HTMLInputElement) {
                nextInput.focus();
                nextInput.select();
              }
              setTimeout(() => {
                if (document.createRange && window.getSelection) {
                  const range = document.createRange();
                  range.selectNodeContents(nextInput);
                  const selection = window.getSelection();
                  selection?.removeAllRanges();
                  selection?.addRange(range);
                }
              }, 10);
            }
          }
        } else if (field === "ghichu") {
          v.sanpham[index][field] = newValue;
          const inputs = document.querySelectorAll(".ghichu-input");
          if (index < this.dataSource.filteredData.length - 1) {
            const nextInput = inputs[index + 1];
            if (nextInput) {
              if (nextInput instanceof HTMLInputElement) {
                nextInput.focus();
                nextInput.select();
              }
              setTimeout(() => {
                if (document.createRange && window.getSelection) {
                  const range = document.createRange();
                  range.selectNodeContents(nextInput);
                  const selection = window.getSelection();
                  selection?.removeAllRanges();
                  selection?.addRange(range);
                }
              }, 10);
            }
          }
        } else if (field === "slgiao") {
          const newGiao = newValue;
          if (newGiao < v.sanpham[index]["sldat"]) {
            v.sanpham[index]["slgiao"] = v.sanpham[index]["sldat"];
            this._snackBar.open("S\u1ED1 l\u01B0\u1EE3ng giao ph\u1EA3i l\u1EDBn h\u01A1n s\u1ED1 l\u01B0\u1EE3ng \u0111\u1EB7t", "", {
              duration: 1e3,
              horizontalPosition: "end",
              verticalPosition: "top",
              panelClass: ["snackbar-error"]
            });
          } else {
            v.sanpham[index]["slgiao"] = newGiao;
          }
        } else if (field === "gianhap") {
          v.sanpham[index]["ttnhan"] = Number((Number(newValue) * v.sanpham[index]["slnhan"]).toFixed(2)) || 0;
          v.sanpham[index][field] = Number(newValue);
        } else if (field === "slnhan") {
          v.sanpham[index]["ttnhan"] = Number((v.sanpham[index]["gianhap"] * Number(newValue)).toFixed(2)) || 0;
          v.sanpham[index][field] = Number(newValue);
        } else {
          v.sanpham[index][field] = newValue;
        }
      } else {
        v[field] = newValue;
      }
      return v;
    });
  }
  UpdateBlurValue(event, order, element, field, type) {
    console.log("UpdateBlurValue", event, order, element, field, type);
    const newValue = type === "number" ? Number(event.target.innerText.trim()) || 0 : event.target.innerText.trim();
    const index = this.dataSource.data.findIndex((item) => item.order === order);
    this.DetailDathang.update((v) => {
      if (index !== null) {
        if (field === "sldat") {
          v.sanpham[index]["sldat"] = v.sanpham[index]["slgiao"] = v.sanpham[index]["slnhan"] = newValue;
        } else if (field === "ghichu") {
          v.sanpham[index][field] = newValue;
        } else if (field === "gianhap") {
          v.sanpham[index]["ttnhan"] = Number((Number(newValue) * v.sanpham[index]["slnhan"]).toFixed(2)) || 0;
          v.sanpham[index][field] = Number(newValue);
        } else if (field === "slnhan") {
          v.sanpham[index]["ttnhan"] = Number((v.sanpham[index]["gianhap"] * Number(newValue)).toFixed(2)) || 0;
          v.sanpham[index][field] = Number(newValue);
        } else if (field === "slgiao") {
          const newGiao = newValue;
          if (newGiao < v.sanpham[index]["sldat"]) {
            v.sanpham[index]["slgiao"] = v.sanpham[index]["sldat"];
            this._snackBar.open("S\u1ED1 l\u01B0\u1EE3ng giao ph\u1EA3i l\u1EDBn h\u01A1n s\u1ED1 l\u01B0\u1EE3ng \u0111\u1EB7t", "", {
              duration: 1e3,
              horizontalPosition: "end",
              verticalPosition: "top",
              panelClass: ["snackbar-error"]
            });
          } else {
            v.sanpham[index]["slgiao"] = newGiao;
          }
        } else {
          v.sanpham[index][field] = newValue;
        }
      } else {
        v[field] = newValue;
      }
      return v;
    });
  }
  Tongcong = 0;
  Tong = 0;
  Tinhtongcong(value) {
    this.Tongcong = value.Tongcong;
    this.Tong = value.Tong;
  }
  TinhTong(items, fieldTong) {
    return items?.reduce((sum, item) => sum + (item[fieldTong] || 0), 0) || 0;
  }
  SelectNhacungcap(event) {
    const selectedNhacungcap = this.ListNhacungcap().find((v) => v.id === event.value);
    console.log(selectedNhacungcap);
    if (selectedNhacungcap) {
      this.DetailDathang.update((v) => {
        const nhacungcap = {
          name: selectedNhacungcap.name,
          mancc: selectedNhacungcap.mancc,
          diachi: selectedNhacungcap.diachi,
          sdt: selectedNhacungcap.sdt,
          ghichu: selectedNhacungcap.ghichu
        };
        v.nhacungcapId = selectedNhacungcap.id;
        v.nhacungcap = nhacungcap;
        return v;
      });
    }
    console.log(this.DetailDathang());
  }
  displayedColumns = [
    "STT",
    "title",
    "masp",
    "dvt",
    "sldat",
    // 'slgiao',
    "slnhan",
    "gianhap",
    "ttnhan",
    "ghichu"
  ];
  ColumnName = {
    STT: "STT",
    title: "Ti\xEAu \u0110\u1EC1",
    masp: "M\xE3 SP",
    dvt: "\u0110\u01A1n V\u1ECB T\xEDnh",
    sldat: "SL \u0110\u1EB7t",
    // slgiao: 'SL Giao',
    slnhan: "SL Nh\u1EADn",
    gianhap: "Gi\xE1 Nh\u1EADp",
    ttnhan: "T\u1ED5ng Ti\u1EC1n",
    ghichu: "Ghi Ch\xFA"
  };
  dataSource = new MatTableDataSource([]);
  CountItem = this.dataSource.data.length;
  paginator;
  sort;
  _GoogleSheetService = inject(GoogleSheetService);
  LoadDrive() {
    return __async(this, null, function* () {
      const DriveInfo = {
        IdSheet: "15npo25qyH5FmfcEjl1uyqqyFMS_vdFnmxM_kt0KYmZk",
        SheetName: "DatHImport",
        ApiKey: "AIzaSyD33kgZJKdFpv1JrKHacjCQccL_O0a2Eao"
      };
      const result = yield this._GoogleSheetService.getDrive(DriveInfo);
      const data = ConvertDriveData(result.values);
      console.log(data);
      this.DetailDathang.update((v) => {
        v.sanpham = data.map((v1) => {
          v1.sldat = Number(v1.sldat) || 0;
          v1.slgiao = Number(v1.slgiao) || 0;
          v1.slnhan = Number(v1.slnhan) || 0;
          v1.ttdat = Number(v1.ttdat) || 0;
          v1.ttgiao = Number(v1.ttgiao) || 0;
          v1.ttnhan = Number(v1.ttnhan) || 0;
          const item = this._SanphamService.ListSanpham().find((v2) => v2.masp === v1.masp);
          console.log(item);
          if (item) {
            return __spreadValues(__spreadValues({}, item), v1);
          }
          return v1;
        });
        return v;
      });
      console.log(this.DetailDathang());
      this.dataSource.data = this.DetailDathang().sanpham;
      this.reloadfilter();
    });
  }
  applyFilter(event) {
    const filterValue = event.target.value;
    this.dataSource.filter = filterValue.trim().toLowerCase();
  }
  EmptyCart() {
    this.DetailDathang.update((v) => {
      v.sanpham = [];
      return v;
    });
    this.dataSource.data = this.DetailDathang().sanpham;
    this.reloadfilter();
  }
  getName(id) {
    return this.ListNhacungcap().find((v) => v.id === id);
  }
  reloadfilter() {
    this.filterSanpham = this._SanphamService.ListSanpham().filter((v) => !this.DetailDathang().sanpham.some((v2) => v2.id === v.id));
  }
  // RemoveSanpham(item:any){
  //   this.DetailBanggia.update((v:any)=>{
  //     v.sanpham = v.sanpham.filter((v1:any) => v1.id !== item.id);
  //     this.reloadfilter();
  //     return v;
  //   })
  //   this.dataSource().data = this.DetailBanggia().sanpham;
  //   this.dataSource().paginator = this.paginator;
  //   this.dataSource().sort = this.sort;
  // }
  DoFindSanpham(event) {
    const value = event.target.value;
    console.log(value);
    this.filterSanpham = this._SanphamService.ListSanpham().filter((v) => v.title.toLowerCase().includes(value.toLowerCase()));
  }
  SelectSanpham(event) {
    const value = event.value;
    const item = this._SanphamService.ListSanpham().find((v) => v.id === value);
    this.DetailDathang.update((v) => {
      if (!v.sanpham) {
        v.sanpham = [];
        item.sldat = item.slgiao = 1;
        v.sanpham.push(item);
      } else {
        item.sldat = item.slgiao = 1;
        v.sanpham.push(item);
      }
      this.reloadfilter();
      return v;
    });
    this.dataSource.data = this.DetailDathang().sanpham;
  }
  RemoveSanpham(item) {
    this.DetailDathang.update((v) => {
      v.sanpham = v.sanpham.filter((v1) => v1.id !== item.id);
      this.reloadfilter();
      return v;
    });
    this.dataSource.data = this.DetailDathang().sanpham;
  }
  GetGoiy(item) {
    const result = parseFloat(((item.soluongkho - item.soluong) * (1 + item.haohut / 100)).toString()).toFixed(2);
    if (Number(result) < 0) {
      return 0;
    }
    return result;
  }
  doFilterSanpham(event) {
    this.filterSanpham = this._SanphamService.ListSanpham().filter((v) => removeVietnameseAccents(v.title).includes(event.target.value.toLowerCase()) || v.title.toLowerCase().includes(event.target.value.toLowerCase()));
    const query = event.target.value.toLowerCase();
  }
  ListFilter = [];
  ChosenItem(item) {
    console.log(item);
    const CheckItem = this.filterSanpham.filter((v) => v.id === item.id);
    const CheckItem1 = this.ListFilter.filter((v) => v.id === item.id);
    if (CheckItem1.length > 0) {
      this.ListFilter = this.ListFilter.filter((v) => v.id !== item.id);
    } else {
      this.ListFilter = [...this.ListFilter, ...CheckItem];
    }
    this.ListFilter.forEach((v) => {
      v.idSP = v.id;
    });
  }
  ChosenAll(list) {
    this.ListFilter = list;
  }
  ResetFilter() {
    this.ListFilter = this.filterSanpham;
    this.dataSource.data = this.filterSanpham;
  }
  EmptyFiter() {
    this.ListFilter = [];
  }
  CheckItem(item) {
    return this.ListFilter.find((v) => v.id === item.id) ? true : false;
  }
  ApplyFilterColum(menu) {
    console.log(this.ListFilter);
    this.ListFilter.forEach((v) => {
      v.sldat = v.slgiao = v.slnhan = 1;
    });
    this.dataSource.data = this.ListFilter;
    this.DetailDathang.update((v) => {
      v.sanpham = this.ListFilter;
      return v;
    });
    this.dataSource.data.sort((a, b) => a.order - b.order);
    menu.closeMenu();
  }
  GiaoDonhang() {
    this.DetailDathang.update((v) => {
      v.status = "dagiao";
      return v;
    });
    this._DathangService.updateDathang(this.DetailDathang()).then((res) => {
      this._snackBar.open("Giao \u0110\u01A1n H\xE0ng Th\xE0nh C\xF4ng", "", {
        duration: 1e3,
        horizontalPosition: "end",
        verticalPosition: "top",
        panelClass: ["snackbar-success"]
      });
    });
  }
  Danhanhang() {
    this.DetailDathang.update((v) => {
      v.status = "danhan";
      return v;
    });
    this._DathangService.updateDathang(this.DetailDathang()).then((res) => {
      this._snackBar.open("\u0110\xE3 Nh\u1EADn H\xE0ng Th\xE0nh C\xF4ng", "", {
        duration: 1e3,
        horizontalPosition: "end",
        verticalPosition: "top",
        panelClass: ["snackbar-success"]
      });
      this.isEdit.update((value) => !value);
    });
  }
  Dathang() {
    this.DetailDathang.update((v) => {
      v.status = "dadat";
      return v;
    });
    this._DathangService.updateDathang(this.DetailDathang()).then((res) => {
      this._snackBar.open("V\u1EC1 \u0110\u1EB7t H\xE0ng Th\xE0nh C\xF4ng", "", {
        duration: 1e3,
        horizontalPosition: "end",
        verticalPosition: "top",
        panelClass: ["snackbar-success"]
      });
      this.isEdit.update((value) => !value);
    });
  }
  static \u0275fac = function DetailDathangComponent_Factory(__ngFactoryType__) {
    return new (__ngFactoryType__ || _DetailDathangComponent)();
  };
  static \u0275cmp = /* @__PURE__ */ \u0275\u0275defineComponent({ type: _DetailDathangComponent, selectors: [["app-detaildathang"]], viewQuery: function DetailDathangComponent_Query(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275viewQuery(MatPaginator, 5);
      \u0275\u0275viewQuery(MatSort, 5);
    }
    if (rf & 2) {
      let _t;
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.paginator = _t.first);
      \u0275\u0275queryRefresh(_t = \u0275\u0275loadQuery()) && (ctx.sort = _t.first);
    }
  }, decls: 20, vars: 6, consts: [["menuTrigger", "matMenuTrigger"], ["menu", "matMenu"], [1, "flex", "flex-row", "justify-between", "items-center", "space-x-2", "p-2"], ["mat-icon-button", "", "color", "primary", 3, "click"], [1, "font-bold", "truncate"], [1, "flex", "flex-row", "space-x-2", "items-center"], ["mat-flat-button", "", "color", "primary", 3, "click", 4, "ngIf"], ["mat-flat-button", "", "color", "primary", 3, "disabled", "click", 4, "ngIf"], ["mat-flat-button", "", "color", "primary", 3, "disabled"], [1, "relative", "flex", "flex-col", "w-full", "p-4", "overflow-auto"], [4, "ngIf"], ["mat-flat-button", "", "color", "primary", 3, "click"], ["mat-flat-button", "", "color", "primary", 3, "click", "disabled"], ["mat-icon-button", "", "color", "primary", 3, "click", 4, "ngIf"], [1, "flex", "flex-col", "space-y-4", "items-center", "justify-center"], [1, "font-bold", "text-2xl"], [1, "flex", "flex-row", "space-x-2", "items-center", "justify-center"], ["mat-flat-button", "", "color", "warn", 3, "click"], ["id", "printContent", 1, "min-w-[800px]", "flex", "flex-col", "space-y-6", "items-center", "p-2", "border", "rounded-lg"], [1, "w-full", "flex", "flex-col", "space-y-4", "items-center", "justify-center"], [1, "font-bold", "uppercase"], ["class", "p-2 rounded-lg border text-red-600", 3, "innerHTML", 4, "ngIf"], ["class", "grid lg:grid-cols-3 grid-cols-1 gap-4", 4, "ngIf"], ["class", "w-full flex flex-col overflow-y-auto", 4, "ngIf"], ["id", "chuphinh", "class", "border-collapse border mt-4", 4, "ngIf"], [1, "p-2", "rounded-lg", "border", "text-red-600", 3, "innerHTML"], [1, "grid", "lg:grid-cols-3", "grid-cols-1", "gap-4"], [1, "w-full", "flex", "flex-col", "overflow-y-auto"], [1, "cursor-pointer", "w-full", "relative", "flex", "lg:flex-row", "lg:space-y-2", "space-y-0", "flex-col", "space-x-2", "justify-between", "items-center", "p-2", "bg-white", "rounded-lg"], [1, "w-full", "flex", "flex-row", "space-x-2", "items-center"], ["appearance", "outline", "subscriptSizing", "dynamic"], [3, "ngModelChange", "selectionChange", "ngModel", "ngModelOptions"], [1, "w-full", "flex", "flex-col"], ["appearance", "outline", "subscriptSizing", "dynamic", 1, "w-full", "p-2"], ["matInput", "", "placeholder", "T\xECm Ki\u1EBFm", 3, "input"], [1, "overflow-y-auto", "max-h-44"], [3, "value"], ["matInput", "", "placeholder", "T\xECm Ki\u1EBFm", 3, "keyup"], ["mat-flat-button", "", "color", "primary", 3, "disabled", "matMenuTriggerFor"], [1, "cursor-pointer", "flex", "flex-col", "space-y-4", "p-3", 3, "click"], [1, "relative", "w-full"], ["type", "text", "placeholder", "T\xECm Ki\u1EBFm...", 1, "block", "w-full", "pl-10", "pr-4", "py-2", "text-gray-700", "bg-white", "border", "border-gray-300", "rounded-lg", "focus:border-blue-400", "focus:ring-blue-400", "focus:outline-none", "focus:ring", "focus:ring-opacity-40", 3, "keyup"], [1, "absolute", "inset-y-0", "left-0", "flex", "items-center", "pl-3", "pointer-events-none"], [1, "material-symbols-outlined", "text-gray-500"], [1, "flex", "flex-row", "space-x-2", "items-center", "justify-between"], [1, "text-xs", "text-blue-600", "underline", 3, "click"], [1, "w-full", "flex", "flex-col", "space-y-2", "max-h-44", "overflow-auto"], ["class", "flex flex-row space-x-2 items-center p-2 rounded-lg hover:bg-slate-100", 3, "click", 4, "ngFor", "ngForOf", "ngForTrackBy"], [1, "flex", "flex-row", "space-x-2", "items-end", "justify-end"], ["matTooltip", "L\xE0m Tr\u1ED1ng Gi\u1ECF H\xE0ng", "color", "warn", "mat-icon-button", "", 3, "click", "disabled"], [1, "w-full", "overflow-auto"], ["mat-table", "", "matSort", "", 1, "!border", "w-full", "cursor-pointer", 3, "dataSource"], [3, "matColumnDef"], ["mat-header-row", "", 4, "matHeaderRowDef"], ["mat-row", "", 4, "matRowDef", "matRowDefColumns"], ["mat-footer-row", "", 4, "matFooterRowDef"], ["class", "mat-row", 4, "matNoDataRow"], [3, "pageSizeOptions", "pageSize"], [1, "flex", "flex-row", "space-x-2", "items-center", "p-2", "rounded-lg", "hover:bg-slate-100", 3, "click"], ["class", "material-symbols-outlined text-blue-600", 4, "ngIf"], [1, "material-symbols-outlined", "text-blue-600"], ["class", "whitespace-nowrap", "mat-header-cell", "", "mat-sort-header", "", 4, "matHeaderCellDef"], ["mat-cell", "", 4, "matCellDef"], ["mat-footer-cell", "", 4, "matFooterCellDef"], ["mat-header-cell", "", "mat-sort-header", "", 1, "whitespace-nowrap"], [1, "line-clamp-4", "me-4"], ["mat-cell", ""], [1, "max-w-20", "line-clamp-4", "flex", "flex-row", "items-center"], [1, "ghichu-input", "p-2", "min-w-28", "bg-slate-200", "focus:border", "rounded-lg", "focus:border-blue-600", "focus:bg-slate-100", "focus:outline-none", 3, "contentEditable"], [1, "max-w-40", "line-clamp-4"], ["mat-icon-button", "", "color", "warn", 3, "click"], ["class", "flex flex-row space-x-1 items-center", 4, "ngIf"], [1, "flex", "flex-row", "space-x-1", "items-center"], [1, "sldat-input", "p-2", "min-w-28", "bg-slate-200", "focus:border", "rounded-lg", "focus:border-blue-600", "focus:bg-slate-100", "focus:outline-none", 3, "blur", "keydown.enter", "contentEditable"], ["class", "slgiao-input p-2 min-w-28 bg-slate-200 focus:border rounded-lg focus:border-blue-600 focus:bg-slate-100 focus:outline-none", 3, "contentEditable", "blur", "keydown.enter", 4, "ngIf"], [1, "slgiao-input", "p-2", "min-w-28", "bg-slate-200", "focus:border", "rounded-lg", "focus:border-blue-600", "focus:bg-slate-100", "focus:outline-none", 3, "blur", "keydown.enter", "contentEditable"], ["class", "slnhan-input p-2 min-w-28 bg-slate-200 focus:border rounded-lg focus:border-blue-600 focus:bg-slate-100 focus:outline-none", 3, "contentEditable", "blur", "keydown.enter", 4, "ngIf"], [1, "slnhan-input", "p-2", "min-w-28", "bg-slate-200", "focus:border", "rounded-lg", "focus:border-blue-600", "focus:bg-slate-100", "focus:outline-none", 3, "blur", "keydown.enter", "contentEditable"], ["class", "gianhap-input p-2 min-w-28 bg-slate-200 focus:border rounded-lg focus:border-blue-600 focus:bg-slate-100 focus:outline-none", 3, "contentEditable", "blur", "keydown.enter", 4, "ngIf"], [1, "gianhap-input", "p-2", "min-w-28", "bg-slate-200", "focus:border", "rounded-lg", "focus:border-blue-600", "focus:bg-slate-100", "focus:outline-none", 3, "blur", "keydown.enter", "contentEditable"], [1, "ghichu-input", "p-2", "min-w-28", "bg-slate-200", "focus:border", "rounded-lg", "focus:border-blue-600", "focus:bg-slate-100", "focus:outline-none", 3, "blur", "keydown.enter", "contentEditable"], ["mat-footer-cell", ""], [1, "font-bold"], ["mat-header-row", ""], ["mat-row", ""], ["mat-footer-row", ""], [1, "mat-row"], ["colspan", "4", 1, "mat-cell", "p-4"], ["id", "chuphinh", 1, "border-collapse", "border", "mt-4"], [1, "border"], [1, "border", "p-2"], [1, "whitespace-nowrap", "border", "p-2"], ["colspan", "3", 1, "border", "p-2", "text-start"], [1, "border", "p-2", "text-end", "font-bold"], [1, "border", "p-2", "text-end"], [1, "whitespace-nowrap", "border", "p-2", "text-center"], [1, "whitespace-nowrap", "border", "p-2", "text-end", "max-w-10"]], template: function DetailDathangComponent_Template(rf, ctx) {
    if (rf & 1) {
      \u0275\u0275elementStart(0, "div", 2)(1, "button", 3);
      \u0275\u0275listener("click", function DetailDathangComponent_Template_button_click_1_listener() {
        return ctx.goBack();
      });
      \u0275\u0275elementStart(2, "mat-icon");
      \u0275\u0275text(3, "arrow_back");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(4, "div", 4);
      \u0275\u0275text(5);
      \u0275\u0275elementEnd();
      \u0275\u0275elementStart(6, "div", 5);
      \u0275\u0275template(7, DetailDathangComponent_button_7_Template, 2, 0, "button", 6)(8, DetailDathangComponent_button_8_Template, 2, 1, "button", 7);
      \u0275\u0275elementStart(9, "button", 3);
      \u0275\u0275listener("click", function DetailDathangComponent_Template_button_click_9_listener() {
        return ctx.PrintDathang();
      });
      \u0275\u0275elementStart(10, "mat-icon");
      \u0275\u0275text(11, "image");
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(12, "button", 3);
      \u0275\u0275listener("click", function DetailDathangComponent_Template_button_click_12_listener() {
        return ctx.printContent();
      });
      \u0275\u0275elementStart(13, "mat-icon");
      \u0275\u0275text(14, "print");
      \u0275\u0275elementEnd()();
      \u0275\u0275template(15, DetailDathangComponent_Conditional_15_Template, 2, 2)(16, DetailDathangComponent_Conditional_16_Template, 2, 1, "button", 8);
      \u0275\u0275elementEnd()();
      \u0275\u0275elementStart(17, "div", 9);
      \u0275\u0275template(18, DetailDathangComponent_ng_container_18_Template, 9, 0, "ng-container", 10)(19, DetailDathangComponent_ng_container_19_Template, 13, 12, "ng-container", 10);
      \u0275\u0275elementEnd();
    }
    if (rf & 2) {
      \u0275\u0275advance(5);
      \u0275\u0275textInterpolate1("", ctx.DetailDathang().madncc || "Kh\xF4ng c\xF3 m\xE3 \u0111\u1EB7t h\xE0ng", " ");
      \u0275\u0275advance(2);
      \u0275\u0275property("ngIf", ctx.DetailDathang().status == "danhan");
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", ctx.DetailDathang().status == "dadat");
      \u0275\u0275advance(7);
      \u0275\u0275conditional(ctx.DetailDathang().status !== "danhan" ? 15 : 16);
      \u0275\u0275advance(3);
      \u0275\u0275property("ngIf", ctx.isDelete());
      \u0275\u0275advance();
      \u0275\u0275property("ngIf", !ctx.isDelete());
    }
  }, dependencies: [
    MatFormFieldModule,
    MatInputModule,
    FormsModule,
    MatIconModule,
    MatIcon,
    MatButtonModule,
    MatButton,
    MatIconButton,
    MatSelectModule,
    MatDialogModule,
    CommonModule,
    NgIf,
    DecimalPipe,
    MatSlideToggleModule,
    MatMenuModule,
    MatDatepickerModule,
    MatTableModule,
    MatSortModule,
    MatPaginatorModule
  ], encapsulation: 2 });
};
__decorate([
  Debounce(100)
], DetailDathangComponent.prototype, "DoFindNhacungcap", null);
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && \u0275setClassDebugInfo(DetailDathangComponent, { className: "DetailDathangComponent", filePath: "src/app/admin/dathang/detaildathang/detaildathang.component.ts", lineNumber: 64 });
})();
export {
  DetailDathangComponent
};
//# sourceMappingURL=chunk-OFHE23XH.mjs.map

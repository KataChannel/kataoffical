import './polyfills.server.mjs';
import{g as ae,k as re,n as P}from"./chunk-3D2MDCMQ.mjs";import{a as ie,b as oe}from"./chunk-N7GI3TQX.mjs";import"./chunk-4CWYXATI.mjs";import"./chunk-DFENS3WL.mjs";import{a as ne}from"./chunk-TR46WZ3I.mjs";import"./chunk-SNGSS6UM.mjs";import"./chunk-73IBRO6I.mjs";import"./chunk-KDEBFOHW.mjs";import"./chunk-DHMJTHFT.mjs";import"./chunk-TUXQOILX.mjs";import"./chunk-KN34LDGT.mjs";import"./chunk-N7WAOINW.mjs";import"./chunk-PDYHWB5Z.mjs";import"./chunk-7LTMKYPE.mjs";import{b as ee}from"./chunk-C46W5ZNA.mjs";import"./chunk-BNX6HL3E.mjs";import{a as W,b as zt,c as Xt}from"./chunk-72Z7B4L4.mjs";import{c as Ht,d as Wt,e as Kt,g as jt,h as Gt,j as Ot,k as Ut,m as qt,n as Qt,p as Yt,q as Jt,r as Zt,s as te}from"./chunk-O5QB3POD.mjs";import{a as Pt,b as Nt,c as $t,k as Rt}from"./chunk-7RYM7M2F.mjs";import{c as It,h as Lt}from"./chunk-VVGSYJK4.mjs";import{a as A}from"./chunk-26NM6QMQ.mjs";import{d as Bt}from"./chunk-4AA42E7K.mjs";import"./chunk-VKZDLN2B.mjs";import{b as vt,c as bt,d as Dt}from"./chunk-ZYVGB4QF.mjs";import{b as At}from"./chunk-LFVPDMHP.mjs";import{A as J,B as Vt,b as wt,g as St,j as Et,p as Ft,r as Q,u as Tt,x as Y,y as Mt}from"./chunk-EPDP2QN3.mjs";import"./chunk-AMJ6U7FR.mjs";import{a as q,b as yt}from"./chunk-ADGAW7R6.mjs";import"./chunk-6EFOJMAD.mjs";import"./chunk-VT4NXQX5.mjs";import{a as kt}from"./chunk-P5O5LZCS.mjs";import"./chunk-6CMIKFNE.mjs";import"./chunk-PFC65XRO.mjs";import{a as O,c as U,e as xt}from"./chunk-FMDQCH3J.mjs";import{_ as Ct}from"./chunk-FRFHEJIU.mjs";import"./chunk-7T6LZHUD.mjs";import{a as gt,d as ft}from"./chunk-N6ZUYKC5.mjs";import"./chunk-5YOTNGM2.mjs";import{n as ut,o as G,x as pt,z as _t}from"./chunk-OZK2OCZT.mjs";import{$b as nt,Bc as lt,Cc as st,Dc as ct,Fb as Z,Gc as V,Hc as h,Ic as j,Jc as v,Kc as ht,Lc as dt,Mb as D,Mc as z,Nc as X,Oc as H,Ra as B,Vb as tt,Wb as et,Wc as T,Yb as p,Yc as M,dc as it,fc as ot,gc as at,hc as rt,ic as r,jc as l,kc as N,lc as $,mc as R,oc as I,pa as L,tb as d,tc as x,vc as s,ya as f,za as C,zd as mt}from"./chunk-TKMPR5S6.mjs";import"./chunk-XAZRL6IZ.mjs";import{a as he}from"./chunk-UBJTQR5H.mjs";import{a as b,b as S,g as ce,j as k}from"./chunk-RIAI3ORJ.mjs";var se=ce(he());var de=()=>[Y,Q,J,q,O,U,vt,bt,ut,G];function me(o,e){if(o&1){let t=I();r(0,"button",6),x("click",function(){f(t);let i=s();return C(i.handleChotkhoAction())}),r(1,"mat-icon"),h(2,"save"),l()()}}function ue(o,e){if(o&1){let t=I();$(0),r(1,"div",12)(2,"div",13),h(3,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),l(),r(4,"div",14)(5,"button",15),x("click",function(){f(t);let i=s();return C(i.DeleteData())}),h(6,"\u0110\u1ED3ng \xDD"),l(),r(7,"button",16),x("click",function(){f(t);let i=s();return C(i.toggleDelete())}),h(8,"Hu\u1EF7 B\u1ECF"),l()()(),R()}}function pe(o,e){if(o&1){let t=I();r(0,"div",19)(1,"h3",20),h(2,"Th\xF4ng tin ch\u1ED1t kho"),l(),r(3,"div",21)(4,"mat-form-field",22)(5,"mat-label"),h(6,"Ti\xEAu \u0110\u1EC1"),l(),r(7,"input",23),H("ngModelChange",function(i){f(t);let a=s(2);return X(a.DetailChotkho().title,i)||(a.DetailChotkho().title=i),C(i)}),l()(),r(8,"mat-form-field",22)(9,"mat-label"),h(10,"Ng\xE0y Ch\u1ED1t"),l(),r(11,"input",24),H("ngModelChange",function(i){f(t);let a=s(2);return X(a.DetailChotkho().ngaychot,i)||(a.DetailChotkho().ngaychot=i),C(i)}),l(),N(12,"mat-datepicker-toggle",25)(13,"mat-datepicker",null,0),l(),r(15,"mat-form-field",26)(16,"mat-label"),h(17,"Ghi Ch\xFA"),l(),r(18,"textarea",27),H("ngModelChange",function(i){f(t);let a=s(2);return X(a.DetailChotkho().ghichu,i)||(a.DetailChotkho().ghichu=i),C(i)}),l()()()()}if(o&2){let t=V(14),n=s(2);d(7),z("ngModel",n.DetailChotkho().title),p("disabled",!n.isEdit()),d(4),p("matDatepicker",t),z("ngModel",n.DetailChotkho().ngaychot),p("disabled",!n.isEdit()),d(),p("for",t),d(6),z("ngModel",n.DetailChotkho().ghichu),p("disabled",!n.isEdit())}}function _e(o,e){o&1&&(r(0,"span",68),h(1,"check_box"),l())}function ge(o,e){o&1&&(r(0,"span",69),h(1,"check_box_outline_blank"),l())}function fe(o,e){if(o&1){let t=I();r(0,"div",62),x("click",function(){let i=f(t).$implicit,a=s(5);return C(a.ChosenItem(i))}),D(1,_e,2,0,"span",63)(2,ge,2,0,"span",64),r(3,"div",65)(4,"span",66),h(5),l(),r(6,"span",67),h(7),l()()()}if(o&2){let t=e.$implicit,n=s(5);d(),p("ngIf",n.CheckItem(t)),d(),p("ngIf",!n.CheckItem(t)),d(3),j(t.title||"Ch\u01B0a C\xF3 T\xEAn"),d(2),ht("M\xE3: ",t.masp," - \u0110VT: ",t.dvt,"")}}function Ce(o,e){o&1&&(r(0,"div",70),h(1," Kh\xF4ng c\xF3 s\u1EA3n ph\u1EA9m kh\u1EA3 d\u1EE5ng "),l())}function xe(o,e){if(o&1){let t=I();r(0,"div",37)(1,"div",38)(2,"button",39,1)(4,"mat-icon"),h(5,"inventory"),l(),h(6),l(),r(7,"mat-menu",null,2)(9,"div",40),x("click",function(i){return f(t),C(i.stopPropagation())}),r(10,"div",41)(11,"div",42),h(12,"T\xECnh tr\u1EA1ng s\u1EA3n ph\u1EA9m:"),l(),r(13,"div",43),h(14),l()(),r(15,"div",44)(16,"input",45,3),x("keyup",function(i){f(t);let a=s(4);return C(a.doFilterSanpham(i))}),l(),r(18,"div",46)(19,"span",47),h(20,"search"),l()()(),r(21,"div",48)(22,"div",8)(23,"span",49),x("click",function(){f(t);let i=s(4);return C(i.ChosenAll(i.ListSanpham))}),h(24),l(),r(25,"span",50),x("click",function(){f(t);let i=s(4);return C(i.EmptyFiter())}),h(26,"Xo\xE1 T\u1EA5t C\u1EA3"),l()(),r(27,"span",51),x("click",function(){f(t);let i=s(4);return C(i.ResetFilter())}),h(28,"L\xE0m M\u1EDBi"),l()(),r(29,"div",52),D(30,fe,8,5,"div",53)(31,Ce,2,0,"div",54),l(),r(32,"div",55)(33,"button",16),x("click",function(){f(t);let i=V(3);return C(i.closeMenu())}),h(34,"\u0110\xF3ng"),l(),r(35,"button",15),x("click",function(){f(t);let i=V(3),a=s(4);return C(a.ApplyFilterColum(i))}),h(36,"\xC1p D\u1EE5ng"),l()()()(),r(37,"div",56)(38,"mat-form-field",22)(39,"mat-label"),h(40,"T\xECm Ki\u1EBFm"),l(),r(41,"input",57),x("keyup",function(i){f(t);let a=s(4);return C(a.applyFilter(i))}),l()(),r(42,"button",58),x("click",function(){f(t);let i=V(46);return C(i.click())}),r(43,"mat-icon"),h(44,"file_upload"),l()(),r(45,"input",59,4),x("change",function(i){f(t);let a=s(4);return C(a.ImportExcel(i))}),l(),r(47,"button",60),x("click",function(){f(t);let i=s(4);return C(i.ExportExample())}),r(48,"mat-icon"),h(49,"file_download"),l()(),r(50,"button",61),x("click",function(){f(t);let i=s(4);return C(i.EmptyCart())}),r(51,"mat-icon"),h(52,"delete"),l()()()()()}if(o&2){let t=V(8),n=s(4);d(2),p("disabled",!n.isEdit())("matMenuTriggerFor",t),d(4),v(" ",n.ListFilter.length," S\u1EA3n Ph\u1EA9m \u0110\xE3 Ch\u1ECDn "),d(8),dt(" \u2022 ",n.ListFilter.length," s\u1EA3n ph\u1EA9m \u0111\xE3 ch\u1ECDn \u2022 ",n.ListSanpham.length-n.ListFilter.length," s\u1EA3n ph\u1EA9m kh\u1EA3 d\u1EE5ng \u2022 ",n.ListSanpham.length," t\u1ED5ng s\u1EA3n ph\u1EA9m "),d(10),v("Ch\u1ECDn T\u1EA5t C\u1EA3 (",n.ListSanpham.length-n.ListFilter.length," s\u1EA3n ph\u1EA9m kh\u1EA3 d\u1EE5ng)"),d(6),p("ngForOf",n.getFilteredSanpham())("ngForTrackBy",n.trackByFn),d(),p("ngIf",n.ListSanpham.length===0),d(19),p("disabled",!n.isEdit())}}function ke(o,e){o&1&&(r(0,"div",36),D(1,xe,53,11),tt(2,1,de),et(),l())}function ye(o,e){if(o&1&&(r(0,"th",73)(1,"span",74),h(2),l()()),o&2){let t=s().$implicit,n=s(3);d(2),v(" ",n.ColumnName[t]," ")}}function ve(o,e){if(o&1){let t=I();r(0,"span",76)(1,"span"),h(2),l(),r(3,"button",80),x("click",function(){f(t);let i=s().$implicit,a=s(4);return C(a.RemoveSanpham(i))}),r(4,"mat-icon"),h(5,"delete"),l()()()}if(o&2){let t=s().index,n=s(4);d(2),v("",t+1," "),d(),p("disabled",!n.isEdit())}}function be(o,e){if(o&1){let t=I();r(0,"div",83),x("blur",function(i){f(t);let a=s(2),c=a.$implicit,m=a.index,u=s(4);return C(u.updateValue(i,m,c,"sltonthucte","number"))})("keydown.enter",function(i){f(t);let a=s(2),c=a.$implicit,m=a.index,u=s(4);return C(u.updateValue(i,m,c,"sltonthucte","number"))}),h(1),T(2,"number"),l()}if(o&2){let t=s(2).$implicit,n=s().$implicit;p("contentEditable",!0),d(),v(" ",M(2,2,t[n]||0,"1.0-3")," ")}}function De(o,e){if(o&1&&(r(0,"span",79),h(1),T(2,"number"),l()),o&2){let t=s(2).$implicit,n=s().$implicit;d(),v(" ",M(2,1,t[n],"1.0-3")," ")}}function we(o,e){if(o&1&&D(0,be,3,5,"div",81)(1,De,3,4,"span",82),o&2){let t=s(5);p("ngIf",t.isEdit()),d(),p("ngIf",!t.isEdit())}}function Se(o,e){if(o&1){let t=I();r(0,"div",85),x("blur",function(i){f(t);let a=s(2),c=a.$implicit,m=a.index,u=s(4);return C(u.updateValue(i,m,c,"slhuy","number"))})("keydown.enter",function(i){f(t);let a=s(2),c=a.$implicit,m=a.index,u=s(4);return C(u.updateValue(i,m,c,"slhuy","number"))}),h(1),T(2,"number"),l()}if(o&2){let t=s(2).$implicit,n=s().$implicit;p("contentEditable",!0),d(),v(" ",M(2,2,t[n]||0,"1.0-3")," ")}}function Ee(o,e){if(o&1&&(r(0,"span",79),h(1),T(2,"number"),l()),o&2){let t=s(2).$implicit,n=s().$implicit;d(),v(" ",M(2,1,t[n],"1.0-3")," ")}}function Fe(o,e){if(o&1&&D(0,Se,3,5,"div",84)(1,Ee,3,4,"span",82),o&2){let t=s(5);p("ngIf",t.isEdit()),d(),p("ngIf",!t.isEdit())}}function Ie(o,e){if(o&1&&(r(0,"span",79),h(1),T(2,"number"),l()),o&2){let t=s().$implicit,n=s().$implicit;nt(t[n]>0?"text-green-600":t[n]<0?"text-red-600":"text-yellow-600"),d(),v(" ",M(2,3,t[n],"1.0-3")," ")}}function Le(o,e){if(o&1&&(r(0,"span",78),h(1),l()),o&2){let t=s().$implicit;d(),v(" ",t.title||(t.sanpham==null?null:t.sanpham.title)," ")}}function Te(o,e){if(o&1&&(r(0,"span",78),h(1),l()),o&2){let t=s().$implicit;d(),v(" ",t.masp||(t.sanpham==null?null:t.sanpham.masp)," ")}}function Me(o,e){if(o&1&&(r(0,"span",78),h(1),l()),o&2){let t=s().$implicit;d(),v(" ",t.dvt||(t.sanpham==null?null:t.sanpham.dvt)," ")}}function Ve(o,e){if(o&1&&(r(0,"span",79),h(1),T(2,"number"),l()),o&2){let t=s().$implicit,n=s().$implicit;d(),v(" ",M(2,1,t[n],"1.0-3")," ")}}function Ae(o,e){if(o&1&&(r(0,"span",78),h(1),l()),o&2){let t=s().$implicit,n=s().$implicit;d(),v(" ",t[n]," ")}}function Be(o,e){if(o&1&&(r(0,"td",75),D(1,ve,6,2,"span",76)(2,we,2,2)(3,Fe,2,2)(4,Ie,3,6,"span",77)(5,Le,2,1,"span",78)(6,Te,2,1,"span",78)(7,Me,2,1,"span",78)(8,Ve,3,4,"span",79)(9,Ae,2,1,"span",78),l()),o&2){let t,n=s().$implicit;d(),it((t=n)==="STT"?1:t==="sltonthucte"?2:t==="slhuy"?3:t==="chenhlech"?4:t==="title"?5:t==="masp"?6:t==="dvt"?7:t==="sltonhethong"?8:9)}}function Pe(o,e){if(o&1&&($(0,32),D(1,ye,3,1,"th",71)(2,Be,10,1,"td",72),R()),o&2){let t=e.$implicit;p("matColumnDef",t)}}function Ne(o,e){o&1&&N(0,"tr",86)}function $e(o,e){o&1&&N(0,"tr",87)}function Re(o,e){o&1&&(r(0,"tr",88)(1,"td",89),h(2,"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u"),l()())}function ze(o,e){if(o&1&&(r(0,"div",28),D(1,ke,4,0,"div",29),r(2,"div",30)(3,"table",31),at(4,Pe,3,1,"ng-container",32,ot),D(6,Ne,1,0,"tr",33)(7,$e,1,0,"tr",34)(8,Re,3,0,"tr",35),l()()()),o&2){let t=s(2);d(),p("ngIf",t.isEdit()),d(2),p("dataSource",t.dataSource()),d(),rt(t.displayedColumns),d(2),p("matHeaderRowDef",t.displayedColumns),d(),p("matRowDefColumns",t.displayedColumns)}}function Xe(o,e){if(o&1&&($(0),D(1,pe,19,8,"div",17)(2,ze,9,4,"div",18),R()),o&2){let t=s();d(),p("ngIf",t.DetailChotkho()),d(),p("ngIf",t.DetailChotkho())}}var le=class o{_ListChotkhoComponent=L(oe);_ChotkhoService=L(ie);_SanphamService=L(ne);_route=L(gt);_router=L(ft);_snackBar=L(kt);_dialog=L(It);sort;dataSource=B(new te([]));displayedColumns=["STT","title","masp","dvt","sltonhethong","sltonthucte","slhuy","chenhlech"];ColumnName={STT:"STT",title:"T\xEAn S\u1EA3n Ph\u1EA9m",masp:"M\xE3 SP",dvt:"\u0110\u01A1n V\u1ECB",sltonhethong:"SL H\u1EC7 Th\u1ED1ng",sltonthucte:"SL Th\u1EF1c T\u1EBF",slhuy:"SL H\u1EE7y",chenhlech:"Ch\xEAnh L\u1EC7ch"};DetailChotkho=B({id:void 0,title:"",ngaychot:new Date,ghichu:"",khoId:"",userId:"",isActive:!0,details:[]});constructor(){this._route.paramMap.subscribe(e=>{let t=e.get("id");this._ChotkhoService.setChotkhoId(t)}),mt(()=>k(this,null,function*(){let e=this._ChotkhoService.DetailChotkho();e&&(this.DetailChotkho.set(e),this.dataSource.update(t=>(t.data=e.details||[],t)),this.ListFilter=e.details||[],this.ListSanpham.length>0&&this.updateAvailableProducts())}))}isEdit=B(!1);isDelete=B(!1);chotkhoId=this._ChotkhoService.chotkhoId;ListSanpham=[];filterSanpham=[];ListFilter=[];searchTerm="";getFilteredSanpham(){if(!this.searchTerm||this.searchTerm.length<2)return this.ListSanpham;let e=A(this.searchTerm.toLowerCase());return this.ListSanpham.filter(t=>{let n=A(t.title?.toLowerCase()||""),i=A(t.masp?.toLowerCase()||"");return n.includes(e)||i.includes(e)||t.title?.toLowerCase().includes(this.searchTerm)||t.masp?.toLowerCase().includes(this.searchTerm)})}ngOnInit(){return k(this,null,function*(){let e=this._ChotkhoService.chotkhoId();if(e||(this._router.navigate(["/admin/chotkho"]),this._ListChotkhoComponent.drawer.close()),e==="new"){this.loadNewSanphamList();let t={title:"Ch\u1ED1t Kho Ng\xE0y "+new Date().toLocaleDateString(),ngaychot:new Date,ghichu:"",khoId:"",userId:"",isActive:!0,details:[]};this.DetailChotkho.set(t),this._ChotkhoService.DetailChotkho.set(t),this._ListChotkhoComponent.drawer.open(),this.isEdit.update(n=>!0),this._router.navigate(["/admin/chotkho","new"])}else e&&(yield this._ChotkhoService.getChotkhoById(e),yield this.loadSanphamList(),setTimeout(()=>{let t=this._ChotkhoService.DetailChotkho()},1e3),this._ListChotkhoComponent.drawer.open(),this._router.navigate(["/admin/chotkho",e]))})}handleChotkhoAction(){return k(this,null,function*(){this.chotkhoId()==="new"?yield this.createChotkho():yield this.updateChotkho()})}createChotkho(){return k(this,null,function*(){try{let e=this.DetailChotkho(),t=yield this._ChotkhoService.createChotkhoWithDetails(e);t&&t.id&&this._router.navigate(["/admin/chotkho",t.id]),this._snackBar.open("T\u1EA1o ch\u1ED1t kho th\xE0nh c\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(n=>!1)}catch(e){console.error("L\u1ED7i khi t\u1EA1o ch\u1ED1t kho:",e),this._snackBar.open("L\u1ED7i khi t\u1EA1o ch\u1ED1t kho","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}updateChotkho(){return k(this,null,function*(){try{let e=this.DetailChotkho();e?.id&&(yield this._ChotkhoService.updateChotkhoWithDetails(e.id,e),this._snackBar.open("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(t=>!1))}catch(e){console.error("L\u1ED7i khi c\u1EADp nh\u1EADt ch\u1ED1t kho:",e),this._snackBar.open("L\u1ED7i khi c\u1EADp nh\u1EADt ch\u1ED1t kho","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}DeleteData(){return k(this,null,function*(){try{let e=this.DetailChotkho();e?.id&&(yield this._ChotkhoService.deleteChotkho(e.id),this._snackBar.open("X\xF3a th\xE0nh c\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/chotkho"]))}catch(e){console.error("L\u1ED7i khi x\xF3a ch\u1ED1t kho:",e),this._snackBar.open("L\u1ED7i khi x\xF3a ch\u1ED1t kho","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}onQuantityChange(){let e=this.DetailChotkho();if(e){let t=Number(e.sltonhethong)||0,n=Number(e.sltonthucte)||0,i=Number(e.slhuy)||0,a=t-n-i;this.DetailChotkho.update(c=>S(b({},c),{chenhlech:a}))}}detailDisplayedColumns=["sanpham","sltonhethong","sltonthucte","slhuy","chenhlech","actions"];removeDetail(e){let n=(this.DetailChotkho().details||[]).filter(i=>i!==e);this.DetailChotkho.update(i=>S(b({},i),{details:n}))}deleteDetailFromDatabase(e){return k(this,null,function*(){try{e.id&&this.DetailChotkho().id?(yield this._ChotkhoService.deleteChotkhoDetail(e.id,this.DetailChotkho().id))&&this._snackBar.open("X\xF3a chi ti\u1EBFt th\xE0nh c\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}):this.removeDetail(e)}catch(t){console.error("L\u1ED7i khi x\xF3a chi ti\u1EBFt:",t),this._snackBar.open("L\u1ED7i khi x\xF3a chi ti\u1EBFt","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}updateChenhLech(e){let t=Number(e.sltonhethong)||0,n=Number(e.sltonthucte)||0,i=Number(e.slhuy)||0;e.chenhlech=t-n-i}goBack(){this._router.navigate(["/admin/chotkho"]),this._ListChotkhoComponent.drawer.close()}trackByFn(e,t){return t.id||e}toggleEdit(){this.isEdit.update(e=>!e)}toggleDelete(){this.isDelete.update(e=>!e)}FillSlug(){this.DetailChotkho.update(e=>(e.slug=Bt(e.title),e))}loadNewSanphamList(){return k(this,null,function*(){try{let t=(yield this._ChotkhoService.getAllProducts()).map(n=>({id:n.id,sanphamId:n.id,title:n.title,masp:n.masp,dvt:n.dvt,sltonhethong:n.tonkho?.slton||0,sltonthucte:n.tonkho?.sltinhthucte||0,slhuy:n.tonkho?.slhuy||0,chenhlech:(n.tonkho?.slton||0)-(n.tonkho?.sltinhthucte||0)-(n.slhuy||0),dongia:n.dongia}));this.ListSanpham=t,this.filterSanpham=this.ListSanpham.filter(n=>!this.ListFilter.find(i=>i.id===n.id)),this.updateAvailableProducts()}catch(e){console.error("Error loading sanpham list:",e),this._snackBar.open("L\u1ED7i khi t\u1EA3i danh s\xE1ch s\u1EA3n ph\u1EA9m","\u0110\xF3ng",{duration:3e3,panelClass:["snackbar-error"]})}})}loadSanphamList(){return k(this,null,function*(){try{let t=(yield this._ChotkhoService.getAllProducts()).map(n=>({id:n.id,sanphamId:n.id,title:n.title,masp:n.masp,dvt:n.dvt,sltonhethong:n.sltonhethong||0,sltonthucte:n.sltonthucte||0,slhuy:n.slhuy||0,chenhlech:(n.sltonhethong||0)-(n.sltonthucte||0)-(n.slhuy||0),dongia:n.dongia}));this.ListSanpham=t,this.filterSanpham=this.ListSanpham.filter(n=>!this.ListFilter.find(i=>i.id===n.id)),this.updateAvailableProducts()}catch(e){console.error("Error loading sanpham list:",e),this._snackBar.open("L\u1ED7i khi t\u1EA3i danh s\xE1ch s\u1EA3n ph\u1EA9m","\u0110\xF3ng",{duration:3e3,panelClass:["snackbar-error"]})}})}DoOutFilter(e){return k(this,null,function*(){console.log("C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m cho ch\u1ED1t kho:",e);try{this.DetailChotkho.update(n=>S(b({},n),{details:e.map(i=>({sanphamId:i.sanphamId||i.id,sanpham:{id:i.sanphamId||i.id,masp:i.masp,title:i.title,dvt:i.dvt,dongia:i.dongia},sltonhethong:Number(i.sltonhethong)||0,sltonthucte:Number(i.sltonthucte)||0,slhuy:Number(i.slhuy)||0,chenhlech:Number(i.chenhlech)||0,ghichu:i.ghichu||"",isActive:!0,title:i.title,masp:i.masp,dvt:i.dvt}))})),this.filterSanpham=this.DetailChotkho().details,this.dataSource.update(n=>(n.data=[...this.DetailChotkho().details],n.sort=this.sort,n));let t=e.map(n=>n.sanphamId||n.id);this.ListSanpham=this.ListSanpham.filter(n=>!t.includes(n.id||n.sanphamId)),this._snackBar.open("C\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m th\xE0nh c\xF4ng","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}catch(t){console.error("L\u1ED7i c\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m:",t),this._snackBar.open("L\u1ED7i c\u1EADp nh\u1EADt s\u1EA3n ph\u1EA9m","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}EmptyCart(){let e=this.DetailChotkho().details||[];this.DetailChotkho.update(t=>S(b({},t),{details:[]})),this.dataSource.update(t=>(t.data=[],t)),e.forEach(t=>{let n={id:t.sanphamId||t.id,sanphamId:t.sanphamId||t.id,title:t.title||t.sanpham?.title,masp:t.masp||t.sanpham?.masp,dvt:t.dvt||t.sanpham?.dvt,sltonhethong:t.sltonhethong||0,sltonthucte:t.sltonthucte||0,slhuy:t.slhuy||0,chenhlech:t.chenhlech||0,dongia:t.dongia||t.sanpham?.dongia||0};this.ListSanpham.some(a=>a.id===n.id||a.sanphamId===n.id)||this.ListSanpham.push(n)}),console.log("Restored products to ListSanpham:",this.ListSanpham),this._snackBar.open("\u0110\xE3 x\xF3a t\u1EA5t c\u1EA3 s\u1EA3n ph\u1EA9m","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}RemoveSanpham(e){let n=(this.DetailChotkho().details||[]).filter(m=>m.id!==e.id&&m.sanphamId!==e.sanphamId);this.DetailChotkho.update(m=>S(b({},m),{details:n})),this.dataSource.update(m=>(m.data=[...n],m));let i=e.sanphamId||e.id,a={id:i,sanphamId:i,title:e.title||e.sanpham?.title,masp:e.masp||e.sanpham?.masp,dvt:e.dvt||e.sanpham?.dvt,sltonhethong:e.sltonhethong||0,sltonthucte:e.sltonthucte||0,slhuy:e.slhuy||0,chenhlech:e.chenhlech||0,dongia:e.dongia||e.sanpham?.dongia||0};this.ListSanpham.some(m=>m.id===i||m.sanphamId===i)||(this.ListSanpham.push(a),console.log("Added product back to ListSanpham:",a)),this._snackBar.open("\u0110\xE3 x\xF3a s\u1EA3n ph\u1EA9m","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}updateValue(e,t,n,i,a){e.preventDefault(),e.stopPropagation();let c=e.target.innerText.trim();if(a==="number"){let u=c.replace(/,/g,"").replace(/[^0-9.-]/g,"");c=Number(u)||0}this.DetailChotkho.update(u=>{let _=(u.details||[]).map((y,w)=>{if(w===t||y.sanphamId===n.sanphamId){let g=b({},y);if(g[i]=c,i==="sltonthucte"||i==="slhuy"){let E=Number(g.sltonhethong)||0,F=Number(g.sltonthucte)||0,K=Number(g.slhuy)||0;g.chenhlech=E-F-K}return g}return y});return S(b({},u),{details:_})});let m=this.DetailChotkho().details||[];this.dataSource.update(u=>(u.data=[...m],u))}doFilterSanpham(e){return k(this,null,function*(){let t=e.target.value.trim().toLowerCase();if(this.searchTerm=t,e.key==="Enter"){let n=this.getFilteredSanpham();if(n.length>0){let i=n.find(a=>!this.CheckItem(a));i&&(this.ChosenItem(i),e.target.value="",this.searchTerm="")}}})}ChosenItem(e){let t=this.filterSanpham.find(i=>i.id===e.id);if(this.ListFilter.find(i=>i.id===e.id||i.sanphamId===e.id))this.ListFilter=this.ListFilter.filter(i=>i.id!==e.id&&i.sanphamId!==e.id),console.log(`Removed product: ${e.title}`);else if(t){let i=S(b({},t),{sanphamId:t.id,sltonhethong:t.sltonhethong||0,sltonthucte:t.sltonthucte||0,slhuy:t.slhuy||0,chenhlech:t.chenhlech||0,order:this.ListFilter.length+1});this.ListFilter.findIndex(c=>c.id===e.id||c.sanphamId===e.id)===-1&&this.ListFilter.push(i)}}ChosenAll(e){return k(this,null,function*(){let n=e.filter(i=>!this.ListFilter.find(a=>a.id===i.id||a.sanphamId===i.id)).map((i,a)=>S(b({},i),{sanphamId:i.id,sltonhethong:i.sltonhethong||0,sltonthucte:i.sltonthucte||0,slhuy:i.slhuy||0,chenhlech:i.chenhlech||0,order:this.ListFilter.length+a+1}));this.ListFilter=[...this.ListFilter,...n],console.log(`Added ${n.length} unique products. Total: ${this.ListFilter.length} products`)})}ResetFilter(){this.filterSanpham=this.ListSanpham.filter(e=>!this.ListFilter.find(t=>t.id===e.id)),console.log(`Reset filter. Showing ${this.filterSanpham.length} available products`)}EmptyFiter(){this.ListFilter=[],this.updateAvailableProducts(),console.log("Cleared all selected products")}updateAvailableProducts(){}CheckItem(e){return!!this.ListFilter.find(t=>t.id===e.id||t.sanphamId===e.id)}ApplyFilterColum(e){this.DetailChotkho.update(t=>(t.details=[...this.ListFilter],t)),this.dataSource.update(t=>(t.data=[...this.ListFilter],t)),e.closeMenu(),console.log("Applied filter. Selected products:",this.ListFilter.length)}applyFilter(e){let t=e.target.value;this.dataSource().filter=t.trim().toLowerCase()}ImportExcel(e){return k(this,null,function*(){try{let t=e.target.files[0];if(!t){this._snackBar.open("Vui l\xF2ng ch\u1ECDn file Excel","\u0110\xF3ng",{duration:3e3,panelClass:["snackbar-error"]});return}if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/octet-stream"].includes(t.type)&&!t.name.endsWith(".xlsx")&&!t.name.endsWith(".xls")){this._snackBar.open("Vui l\xF2ng ch\u1ECDn file Excel (.xlsx ho\u1EB7c .xls)","\u0110\xF3ng",{duration:3e3,panelClass:["snackbar-error"]});return}this._snackBar.open("\u0110ang x\u1EED l\xFD file Excel...","",{duration:2e3,panelClass:["snackbar-info"]});let i=yield this.readExcelFile(t);if(!i||i.length===0){this._snackBar.open("File Excel kh\xF4ng c\xF3 d\u1EEF li\u1EC7u ho\u1EB7c kh\xF4ng h\u1EE3p l\u1EC7","\u0110\xF3ng",{duration:3e3,panelClass:["snackbar-error"]});return}this.ListSanpham.length===0&&(yield this.loadNewSanphamList());let a=yield this.processExcelData(i);if(a.length===0){this._snackBar.open("Kh\xF4ng t\xECm th\u1EA5y s\u1EA3n ph\u1EA9m n\xE0o kh\u1EDBp v\u1EDBi m\xE3 s\u1EA3n ph\u1EA9m trong file Excel","\u0110\xF3ng",{duration:4e3,panelClass:["snackbar-warning"]});return}this.DetailChotkho.update(c=>{let u=[...c.details||[]];return a.forEach(_=>{let y=u.findIndex(w=>w.sanphamId===_.sanphamId);y>=0?u[y]=S(b(b({},u[y]),_),{chenhlech:this.calculateChenhLech(_.sltonhethong||u[y].sltonhethong||0,_.sltonthucte||0,_.slhuy||0)}):u.push(_)}),S(b({},c),{details:u})}),this.dataSource.update(c=>(c.data=[...this.DetailChotkho().details],c.sort=this.sort,c)),this.ListFilter=this.DetailChotkho().details||[],e.target.value="",this._snackBar.open(`Import th\xE0nh c\xF4ng ${a.length} s\u1EA3n ph\u1EA9m t\u1EEB Excel`,"\u0110\xF3ng",{duration:4e3,panelClass:["snackbar-success"]}),console.log("Excel import completed:",{importedItems:a.length,totalDetails:this.DetailChotkho().details?.length||0})}catch(t){console.error("Error importing Excel:",t),this._snackBar.open(`L\u1ED7i khi import Excel: ${t instanceof Error?t.message:"Unknown error"}`,"\u0110\xF3ng",{duration:5e3,panelClass:["snackbar-error"]})}})}readExcelFile(e){return k(this,null,function*(){return new Promise((t,n)=>{let i=new FileReader;i.onload=a=>{try{let c=new Uint8Array(a.target.result),m=ae(c,{type:"array"}),u=m.SheetNames[0],_=m.Sheets[u],y=P.sheet_to_json(_,{header:1,defval:"",raw:!1});t(y)}catch{n(new Error("Kh\xF4ng th\u1EC3 \u0111\u1ECDc file Excel. Vui l\xF2ng ki\u1EC3m tra \u0111\u1ECBnh d\u1EA1ng file."))}},i.onerror=()=>{n(new Error("L\u1ED7i khi \u0111\u1ECDc file"))},i.readAsArrayBuffer(e)})})}processExcelData(e){return k(this,null,function*(){try{if(!e||e.length<2)throw new Error("File Excel ph\u1EA3i c\xF3 \xEDt nh\u1EA5t 2 d\xF2ng (header + data)");let t=e[0].map(c=>A(String(c).toLowerCase().trim())),n={masp:this.findColumnIndex(t,["masp","ma sp","ma san pham","product code"]),sltonthucte:this.findColumnIndex(t,["sltonthucte","sl ton thuc te","so luong ton thuc te","actual stock"]),slhuy:this.findColumnIndex(t,["slhuy","sl huy","so luong huy","damaged quantity"])};if(n.masp===-1)throw new Error('Kh\xF4ng t\xECm th\u1EA5y c\u1ED9t "masp" trong file Excel');let i=[],a=[];for(let c=1;c<e.length;c++){let m=e[c];if(!m||m.length===0)continue;let u=String(m[n.masp]||"").trim();if(!u)continue;let _=this.ListSanpham.find(K=>K.masp?.toLowerCase().trim()===u.toLowerCase().trim());if(!_){a.push(u);continue}let y=this.parseNumber(m[n.sltonthucte]),w=this.parseNumber(m[n.slhuy]),g=_.sltonhethong||0,E=this.calculateChenhLech(g,y,w),F={id:void 0,sanphamId:_.id,sanpham:{id:_.id,masp:_.masp,title:_.title,dvt:_.dvt,dongia:_.dongia},sltonhethong:g,sltonthucte:y,slhuy:w,chenhlech:E,ghichu:`Import t\u1EEB Excel - ${new Date().toLocaleString()}`,isActive:!0,title:_.title,masp:_.masp,dvt:_.dvt};i.push(F)}return a.length>0&&(console.warn("Products not found in system:",a),this._snackBar.open(`C\u1EA3nh b\xE1o: ${a.length} s\u1EA3n ph\u1EA9m kh\xF4ng t\xECm th\u1EA5y trong h\u1EC7 th\u1ED1ng`,"Xem chi ti\u1EBFt",{duration:5e3,panelClass:["snackbar-warning"]}).onAction().subscribe(()=>{console.log("Not found products:",a.join(", "))})),i}catch(t){throw console.error("Error processing Excel data:",t),t}})}findColumnIndex(e,t){for(let n of t){let i=A(n.toLowerCase().trim()),a=e.findIndex(c=>c.includes(i));if(a!==-1)return a}return-1}parseNumber(e){if(e==null||e==="")return 0;let t=String(e).replace(/,/g,"").replace(/\s/g,""),n=parseFloat(t);return isNaN(n)?0:Math.floor(n)}calculateChenhLech(e,t,n){return(e||0)-(t||0)-(n||0)}ExportExample(){return k(this,null,function*(){try{this.ListSanpham.length===0&&(yield this.loadNewSanphamList());let e=this.createExampleData(),t=P.book_new(),n=P.aoa_to_sheet(e),i=[{wch:15},{wch:35},{wch:10},{wch:20},{wch:15},{wch:15},{wch:50}];n["!cols"]=i,["A1","B1","C1","D1","E1","F1","G1"].forEach(g=>{n[g]&&(n[g].s={font:{bold:!0,color:{rgb:"FFFFFF"},sz:12},fill:{fgColor:{rgb:"4472C4"}},alignment:{horizontal:"center",vertical:"center"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}})});for(let g=2;g<=14;g++){let E=`A${g}`;n[E]&&(n[E].s={font:{color:{rgb:"0066CC"},sz:10,bold:g===2||g===13},fill:{fgColor:{rgb:"F0F8FF"}},alignment:{horizontal:"left",vertical:"center"}})}let c=15,m=Math.min(10,this.ListSanpham.length||10);for(let g=c;g<c+m;g++)["A","E","F"].forEach(E=>{let F=`${E}${g}`;n[F]&&(n[F].s={fill:{fgColor:{rgb:"FFFFCC"}},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},alignment:{horizontal:"center",vertical:"center"}})}),["B","C","D","G"].forEach(E=>{let F=`${E}${g}`;n[F]&&(n[F].s={fill:{fgColor:{rgb:"F5F5F5"}},font:{color:{rgb:"666666"}},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},alignment:{horizontal:"left",vertical:"center"}})});P.book_append_sheet(t,n,"M\u1EABu Import Ch\u1ED1t Kho");let u=new Date,_=u.getFullYear()+String(u.getMonth()+1).padStart(2,"0")+String(u.getDate()).padStart(2,"0"),y=String(u.getHours()).padStart(2,"0")+String(u.getMinutes()).padStart(2,"0"),w=`Mau_Import_ChotkKho_${_}_${y}.xlsx`;try{se.writeFile(t,w)}catch(g){console.warn("Styled export failed, using regular export:",g),re(t,w)}this._snackBar.open(`\u0110\xE3 t\u1EA3i xu\u1ED1ng file m\u1EABu: ${w}`,"\u0110\xF3ng",{duration:4e3,panelClass:["snackbar-success"]}),console.log("Excel template exported successfully:",w)}catch(e){console.error("Error exporting Excel template:",e),this._snackBar.open(`L\u1ED7i khi t\u1EA1o file m\u1EABu: ${e instanceof Error?e.message:"Unknown error"}`,"\u0110\xF3ng",{duration:5e3,panelClass:["snackbar-error"]})}})}createExampleData(){let e=["masp","title (Tham kh\u1EA3o - kh\xF4ng import)","dvt (Tham kh\u1EA3o - kh\xF4ng import)","sltonhethong (Tham kh\u1EA3o - t\u1EEB h\u1EC7 th\u1ED1ng)","sltonthucte","slhuy","Ghi ch\xFA h\u01B0\u1EDBng d\u1EABn"],t=[];if(this.ListSanpham.length>0)this.ListSanpham.slice(0,Math.min(10,this.ListSanpham.length)).forEach((a,c)=>{let m=a.sltonhethong||Math.floor(Math.random()*100)+1,u=Math.floor(m*(.8+Math.random()*.4)),_=Math.floor(Math.random()*5);t.push([a.masp||`SP${String(c+1).padStart(3,"0")}`,a.title||`S\u1EA3n ph\u1EA9m m\u1EABu ${c+1}`,a.dvt||"C\xE1i",m,u,_,c===0?"C\u1ED9t n\xE0y ch\u1EC9 \u0111\u1EC3 h\u01B0\u1EDBng d\u1EABn, kh\xF4ng \u0111\u01B0\u1EE3c import":""])});else for(let i=1;i<=10;i++){let a=Math.floor(Math.random()*100)+1,c=Math.floor(a*(.8+Math.random()*.4)),m=Math.floor(Math.random()*5);t.push([`SP${String(i).padStart(3,"0")}`,`S\u1EA3n ph\u1EA9m m\u1EABu ${i}`,"C\xE1i",a,c,m,i===1?"C\u1ED9t n\xE0y ch\u1EC9 \u0111\u1EC3 h\u01B0\u1EDBng d\u1EABn, kh\xF4ng \u0111\u01B0\u1EE3c import":""])}return[e,...[[],["H\u01AF\u1EDANG D\u1EAAN S\u1EEC D\u1EE4NG:"],["1. Ch\u1EC9 c\u1EA7n \u0111i\u1EC1n d\u1EEF li\u1EC7u v\xE0o c\xE1c c\u1ED9t: masp, sltonthucte, slhuy"],['2. C\u1ED9t "masp" l\xE0 B\u1EAET BU\u1ED8C - ph\u1EA3i kh\u1EDBp v\u1EDBi m\xE3 s\u1EA3n ph\u1EA9m trong h\u1EC7 th\u1ED1ng'],['3. C\u1ED9t "sltonthucte" l\xE0 s\u1ED1 l\u01B0\u1EE3ng t\u1ED3n th\u1EF1c t\u1EBF (m\u1EB7c \u0111\u1ECBnh 0 n\u1EBFu \u0111\u1EC3 tr\u1ED1ng)'],['4. C\u1ED9t "slhuy" l\xE0 s\u1ED1 l\u01B0\u1EE3ng h\u1EE7y (m\u1EB7c \u0111\u1ECBnh 0 n\u1EBFu \u0111\u1EC3 tr\u1ED1ng)'],['5. C\u1ED9t "sltonhethong" s\u1EBD \u0111\u01B0\u1EE3c l\u1EA5y t\u1EEB h\u1EC7 th\u1ED1ng t\u1EF1 \u0111\u1ED9ng'],["6. Ch\xEAnh l\u1EC7ch = sltonhethong - sltonthucte - slhuy (t\u1EF1 \u0111\u1ED9ng t\xEDnh)"],["7. C\xE1c c\u1ED9t kh\xE1c ch\u1EC9 \u0111\u1EC3 tham kh\u1EA3o, kh\xF4ng \u0111\u01B0\u1EE3c import"],["8. X\xF3a c\xE1c d\xF2ng h\u01B0\u1EDBng d\u1EABn n\xE0y tr\u01B0\u1EDBc khi import"],[],["D\u1EEE LI\u1EC6U M\u1EAAU (B\u1EAFt \u0111\u1EA7u t\u1EEB d\xF2ng ti\u1EBFp theo):"]],...t]}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=Z({type:o,selectors:[["app-detailchotkho"]],viewQuery:function(t,n){if(t&1&&lt(W,5),t&2){let i;st(i=ct())&&(n.sort=i.first)}},decls:11,vars:4,consts:[["picker",""],["menuTrigger","matMenuTrigger"],["menu","matMenu"],["searchInput",""],["uploadfile",""],[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[4,"ngIf"],[1,"flex","flex-col","space-y-4","items-center","justify-center"],[1,"font-bold","text-2xl"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],["class","p-4 rounded-lg mb-4",4,"ngIf"],["class","bg-white p-4 rounded-lg border",4,"ngIf"],[1,"p-4","rounded-lg","mb-4"],[1,"text-lg","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp ti\xEAu \u0111\u1EC1",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Ch\u1ECDn ng\xE0y ch\u1ED1t",3,"ngModelChange","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["appearance","outline","subscriptSizing","dynamic",1,"md:col-span-2"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp ghi ch\xFA","rows","2",3,"ngModelChange","ngModel","disabled"],[1,"bg-white","p-4","rounded-lg","border"],["class","w-full flex flex-col overflow-y-auto mb-4",4,"ngIf"],[1,"w-full","overflow-auto"],["mat-table","","matSort","",1,"!border","w-full","cursor-pointer",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"w-full","flex","flex-col","overflow-y-auto","mb-4"],[1,"cursor-pointer","w-full","relative","flex","lg:flex-row","lg:space-y-2","space-y-0","flex-col","space-x-2","justify-between","items-center","p-2","bg-white","rounded-lg"],[1,"w-full","flex","lg:flex-row","flex-col","gap-2","items-center"],["mat-flat-button","","color","primary",3,"disabled","matMenuTriggerFor"],[1,"cursor-pointer","flex","flex-col","space-y-4","p-3",3,"click"],[1,"bg-blue-50","p-2","rounded-lg"],[1,"text-sm","font-medium","text-blue-800"],[1,"text-xs","text-blue-600"],[1,"relative","w-full"],["type","text","placeholder","T\xECm Ki\u1EBFm...",1,"block","w-full","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],[1,"flex","flex-row","space-x-2","items-center","justify-between"],[1,"text-xs","text-blue-600","underline",3,"click"],[1,"text-xs","text-red-600","underline",3,"click"],[1,"text-xs","text-green-600","underline",3,"click"],[1,"w-full","flex","flex-col","space-y-2","max-h-44","overflow-auto"],["class","flex flex-row space-x-2 items-center p-2 rounded-lg hover:bg-slate-100 cursor-pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center text-gray-500 p-4",4,"ngIf"],[1,"flex","flex-row","space-x-2","items-end","justify-end"],[1,"flex","flex-row","gap-2","justify-items-center"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"keyup"],["matTooltip","T\u1EA3i l\xEAn file excel","color","primary","mat-icon-button","",3,"click"],["multiple","","type","file",1,"hidden",3,"change"],["matTooltip","T\u1EA3i xu\u1ED1ng file m\u1EABu Excel","color","primary","mat-icon-button","",3,"click"],["matTooltip","L\xE0m Tr\u1ED1ng Gi\u1ECF H\xE0ng","color","warn","mat-icon-button","",3,"click","disabled"],[1,"flex","flex-row","space-x-2","items-center","p-2","rounded-lg","hover:bg-slate-100","cursor-pointer",3,"click"],["class","material-symbols-outlined text-green-600",4,"ngIf"],["class","material-symbols-outlined text-gray-400",4,"ngIf"],[1,"flex","flex-col","flex-1"],[1,"font-medium"],[1,"text-xs","text-gray-500"],[1,"material-symbols-outlined","text-green-600"],[1,"material-symbols-outlined","text-gray-400"],[1,"text-center","text-gray-500","p-4"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],[1,"line-clamp-4","me-4"],["mat-cell",""],[1,"max-w-20","line-clamp-4","flex","flex-row","items-center"],[1,"max-w-20","line-clamp-4",3,"class"],[1,"max-w-40","line-clamp-4"],[1,"max-w-20","line-clamp-4"],["mat-icon-button","","color","warn",3,"click","disabled"],["class","sltonthucte-input p-2 min-w-28 bg-slate-200 focus:border rounded-lg focus:border-blue-600 focus:bg-slate-100 focus:outline-none cursor-text",3,"contentEditable","blur","keydown.enter",4,"ngIf"],["class","max-w-20 line-clamp-4",4,"ngIf"],[1,"sltonthucte-input","p-2","min-w-28","bg-slate-200","focus:border","rounded-lg","focus:border-blue-600","focus:bg-slate-100","focus:outline-none","cursor-text",3,"blur","keydown.enter","contentEditable"],["class","slhuy-input p-2 min-w-28 bg-slate-200 focus:border rounded-lg focus:border-blue-600 focus:bg-slate-100 focus:outline-none cursor-text",3,"contentEditable","blur","keydown.enter",4,"ngIf"],[1,"slhuy-input","p-2","min-w-28","bg-slate-200","focus:border","rounded-lg","focus:border-blue-600","focus:bg-slate-100","focus:outline-none","cursor-text",3,"blur","keydown.enter","contentEditable"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","8",1,"mat-cell","p-4"]],template:function(t,n){if(t&1&&(r(0,"div",5)(1,"button",6),x("click",function(){return n.goBack()}),r(2,"mat-icon"),h(3,"arrow_back"),l()(),r(4,"div",7),h(5),l(),r(6,"div",8),D(7,me,3,0,"button",9),l()(),r(8,"div",10),D(9,ue,9,0,"ng-container",11)(10,Xe,3,2,"ng-container",11),l()),t&2){let i;d(5),j(((i=n.DetailChotkho())==null?null:i.title)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),d(2),p("ngIf",n.isEdit()),d(2),p("ngIf",n.isDelete()),d(),p("ngIf",!n.isDelete())}},dependencies:[Mt,Y,Q,Tt,Vt,J,Ft,wt,St,Et,yt,q,xt,O,U,At,Lt,Rt,Pt,Nt,$t,Ct,Zt,Ht,Kt,Ut,jt,Wt,qt,Gt,Ot,Qt,Yt,Jt,Xt,W,zt,Dt,_t,G,pt,ee],encapsulation:2})};export{le as DetailChotkhoComponent};

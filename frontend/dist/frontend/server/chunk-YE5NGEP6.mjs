import './polyfills.server.mjs';
import{b as Xe,f as Ye}from"./chunk-6U5WG2CK.mjs";import{a as Ze,b as et,c as tt,d as nt,f as it}from"./chunk-F66R5CR3.mjs";import{a as ae,b as re,c as oe,d as le}from"./chunk-D626X3AU.mjs";import{a as De,b as Oe}from"./chunk-UKVYI7NX.mjs";import{a as Te,b as we,c as Pe,d as Me,f as Ie,g as Le}from"./chunk-QHKEBWIO.mjs";import{a as ze,b as Ke}from"./chunk-LFUKLPS4.mjs";import{a as D,b as Ve,c as Fe}from"./chunk-UWYQSDH5.mjs";import{a as Re,b as ke,c as Ae,d as He,e as Qe,g as Be,h as Ge,j as Ne,k as qe,m as We,n as $e,p as je,r as Ue,s as Je}from"./chunk-3WL3NMNZ.mjs";import{c as _e,f as ue,g as ge,h as xe}from"./chunk-KVUHCEAF.mjs";import{a as ye,b as Ee}from"./chunk-PHB7O5XE.mjs";import{A as be,b as me,g as se,j as ce,l as de,o as pe,q as fe,r as he,w as Se,x as ve,z as Ce}from"./chunk-KHW5ZZEG.mjs";import"./chunk-J6642ETB.mjs";import{a as ne,b as ie}from"./chunk-X7LLP2RY.mjs";import{a as z}from"./chunk-6EFOJMAD.mjs";import{a as ee,b as te}from"./chunk-Y4GFH6XC.mjs";import"./chunk-2DIQ5JYQ.mjs";import"./chunk-RLIINVZD.mjs";import{a as X,c as Y,e as Z}from"./chunk-7QZZCVTG.mjs";import{ka as K}from"./chunk-LYCTG6ML.mjs";import"./chunk-7T6LZHUD.mjs";import{b as T,d as J}from"./chunk-EMLDMP5T.mjs";import{m as q,n as W,o as $,v as j,y as U}from"./chunk-7VXCQSQV.mjs";import{$b as R,Bc as k,Cc as V,Dc as F,E as A,Fb as B,Hc as i,Ic as p,Jc as x,Kc as G,Mb as d,Mc as v,Nc as C,Oc as b,Wc as I,Xc as L,Yb as c,ad as N,ic as n,ja as H,jc as t,kc as w,lc as h,mc as S,oa as Q,oc as y,tb as o,tc as f,vc as s,ya as u,yb as M,za as g}from"./chunk-KYBR54ZN.mjs";import"./chunk-XAZRL6IZ.mjs";import"./chunk-RIAI3ORJ.mjs";var P=z.APIURL,O=class r{constructor(a){this.http=a}baseUrl=`${P}/performance`;getRealTimeStats(){return this.http.get(`${this.baseUrl}/stats`)}getDatabaseStats(a=24){let e=new T().set("hours",a.toString());return this.http.get(`${this.baseUrl}/db-stats`,{params:e})}getLogs(a={}){let e=new T;return a.limit&&(e=e.set("limit",a.limit.toString())),a.offset&&(e=e.set("offset",a.offset.toString())),a.operation&&(e=e.set("operation",a.operation)),a.success!==void 0&&(e=e.set("success",a.success.toString())),a.minDuration&&(e=e.set("minDuration",a.minDuration.toString())),a.hours&&(e=e.set("hours",a.hours.toString())),this.http.get(`${this.baseUrl}/logs`,{params:e})}getTrends(a=24){let e=new T().set("hours",a.toString());return this.http.get(`${this.baseUrl}/trends`,{params:e})}getSummary(a=24){let e=new T().set("hours",a.toString());return this.http.get(`${this.baseUrl}/summary`,{params:e})}cleanupLogs(a=30){let e=new T().set("days",a.toString());return this.http.get(`${this.baseUrl}/cleanup`,{params:e})}clearMemoryMetrics(){return this.http.get(`${this.baseUrl}/clear`)}testFastOperation(){return this.http.get(`${P}/test-performance/fast`)}testSlowOperation(){return this.http.get(`${P}/test-performance/slow`)}testErrorOperation(){return this.http.get(`${P}/test-performance/error`)}testBulkOperations(){return this.http.post(`${P}/test-performance/bulk`,{})}static \u0275fac=function(e){return new(e||r)(Q(J))};static \u0275prov=H({token:r,factory:r.\u0275fac,providedIn:"root"})};var lt=["logDetailsModal"];function mt(r,a){if(r&1&&(n(0,"mat-card",31)(1,"mat-card-content",32)(2,"mat-icon",33),i(3,"error"),t(),n(4,"span"),i(5),t()()()),r&2){let e=s();o(5),p(e.errorMessage)}}function st(r,a){r&1&&(n(0,"div",34),w(1,"mat-spinner",35),t())}function ct(r,a){if(r&1&&(n(0,"div",44)(1,"h2",45)(2,"mat-icon",46),i(3,"flash_on"),t(),i(4," Real-time Performance "),t(),n(5,"div",47)(6,"mat-card",48)(7,"mat-card-content",49)(8,"div",50),i(9),t(),n(10,"div",51),i(11,"Total Operations"),t()()(),n(12,"mat-card",52)(13,"mat-card-content",49)(14,"div",50),i(15),t(),n(16,"div",53),i(17,"Success Rate (5m)"),t()()(),n(18,"mat-card",54)(19,"mat-card-content",49)(20,"div",50),i(21),t(),n(22,"div",55),i(23,"Avg Response (5m)"),t()()(),n(24,"mat-card",56)(25,"mat-card-content",49)(26,"div",50),i(27),t(),n(28,"div",57),i(29,"Error Rate"),t()()()()()),r&2){let e=s(2);o(9),p(e.summary.realTime.totalOperations),o(6),p((e.summary.realTime.recent==null||e.summary.realTime.recent.last5Minutes==null?null:e.summary.realTime.recent.last5Minutes.successRate)||"100%"),o(6),p((e.summary.realTime.recent==null||e.summary.realTime.recent.last5Minutes==null?null:e.summary.realTime.recent.last5Minutes.averageResponseTime)||"0ms"),o(6),p(e.summary.realTime.errorRate)}}function dt(r,a){if(r&1&&(n(0,"div",44)(1,"h2",45)(2,"mat-icon",58),i(3,"storage"),t(),i(4),t(),n(5,"div",47)(6,"mat-card",59)(7,"mat-card-content",49)(8,"div",60),i(9),t(),n(10,"div",61),i(11,"Total Operations"),t()()(),n(12,"mat-card",59)(13,"mat-card-content",49)(14,"div",62),i(15),t(),n(16,"div",61),i(17,"Success Rate"),t()()(),n(18,"mat-card",59)(19,"mat-card-content",49)(20,"div",63),i(21),t(),n(22,"div",61),i(23,"Avg Duration"),t()()(),n(24,"mat-card",59)(25,"mat-card-content",49)(26,"div",64),i(27),t(),n(28,"div",61),i(29,"Max Duration"),t()()()()()),r&2){let e=s(2);o(4),x(" Historical Performance (",e.dbStats.timeRange,") "),o(5),p(e.dbStats.overview.totalOperations),o(6),p(e.dbStats.overview.successRate),o(6),p(e.dbStats.overview.avgDuration),o(6),p(e.dbStats.overview.maxDuration)}}function pt(r,a){r&1&&(n(0,"div",65)(1,"mat-icon",66),i(2,"check_circle"),t(),n(3,"p"),i(4,"No slow operations found"),t()())}function _t(r,a){if(r&1&&(n(0,"div",67)(1,"div",68)(2,"div",69)(3,"div",70),i(4),t(),n(5,"div",71),i(6),t()(),n(7,"mat-chip",72),i(8),t()()()),r&2){let e=a.$implicit,l=s(2);o(4),p(e.name),o(2),p(l.formatTimestamp(e.timestamp)),o(),c("ngClass",l.getDurationColor(e.duration)),o(),x(" ",e.duration," ")}}function ut(r,a){r&1&&(n(0,"div",65)(1,"mat-icon",73),i(2,"verified"),t(),n(3,"p"),i(4,"No recent errors"),t()())}function gt(r,a){if(r&1&&(n(0,"div",67)(1,"div",68)(2,"div",69)(3,"div",74),i(4),t(),n(5,"div",75),i(6),t(),n(7,"div",76),i(8),t()(),n(9,"mat-chip",77),i(10),t()()()),r&2){let e=a.$implicit,l=s(2);o(4),p(e.name),o(2),p(e.error),o(2),p(l.formatTimestamp(e.timestamp)),o(2),p(e.duration)}}function xt(r,a){if(r&1&&(n(0,"div",36),d(1,ct,30,4,"div",37)(2,dt,30,5,"div",37),n(3,"div",38)(4,"mat-card")(5,"mat-card-header",39)(6,"mat-card-title",25)(7,"mat-icon",40),i(8,"hourglass_bottom"),t(),i(9," Slowest Operations "),t()(),n(10,"mat-card-content",26),d(11,pt,5,0,"div",41)(12,_t,9,4,"div",42),t()(),n(13,"mat-card")(14,"mat-card-header",39)(15,"mat-card-title",25)(16,"mat-icon",43),i(17,"error"),t(),i(18," Recent Errors "),t()(),n(19,"mat-card-content",26),d(20,ut,5,0,"div",41)(21,gt,11,4,"div",42),t()()()()),r&2){let e=s();o(),c("ngIf",e.summary==null?null:e.summary.realTime),o(),c("ngIf",e.dbStats),o(9),c("ngIf",(e.dbStats==null||e.dbStats.slowestOperations==null?null:e.dbStats.slowestOperations.length)===0),o(),c("ngForOf",e.dbStats==null?null:e.dbStats.slowestOperations),o(8),c("ngIf",(e.dbStats==null||e.dbStats.recentErrors==null?null:e.dbStats.recentErrors.length)===0),o(),c("ngForOf",e.dbStats==null?null:e.dbStats.recentErrors)}}function ft(r,a){if(r&1){let e=y();n(0,"mat-form-field",80)(1,"mat-label"),i(2,"GraphQL Operation"),t(),n(3,"mat-select",10),b("ngModelChange",function(m){u(e);let _=s(2);return C(_.selectedOperationType,m)||(_.selectedOperationType=m),g(m)}),f("selectionChange",function(){u(e);let m=s(2);return g(m.onFilterChange())}),n(4,"mat-option",81),i(5,"All Operations"),t(),n(6,"mat-option",124),i(7,"Query"),t(),n(8,"mat-option",125),i(9,"Mutation"),t(),n(10,"mat-option",126),i(11,"Subscription"),t()()()}if(r&2){let e=s(2);o(3),v("ngModel",e.selectedOperationType)}}function ht(r,a){r&1&&(n(0,"th",127),i(1,"Timestamp"),t())}function St(r,a){if(r&1&&(n(0,"td",128),i(1),t()),r&2){let e=a.$implicit,l=s(2);o(),x(" ",l.formatTimestamp(e.timestamp)," ")}}function vt(r,a){r&1&&(n(0,"th",129),i(1,"Operation"),t())}function Ct(r,a){r&1&&(n(0,"mat-icon",135),i(1," graphql "),t())}function bt(r,a){r&1&&(n(0,"mat-icon",136),i(1," http "),t())}function yt(r,a){if(r&1&&(n(0,"div",137),i(1),t()),r&2){let e=s().$implicit,l=s(2);o(),G(" ",l.getOperationType(e)," ",l.getFieldName(e)," ")}}function Et(r,a){if(r&1&&(n(0,"td",130)(1,"div",25),d(2,Ct,2,0,"mat-icon",131)(3,bt,2,0,"mat-icon",132),n(4,"div")(5,"div",133),i(6),t(),d(7,yt,2,2,"div",134),t()()()),r&2){let e=a.$implicit,l=s(2);o(2),c("ngIf",l.isGraphQLLog(e)),o(),c("ngIf",!l.isGraphQLLog(e)),o(3),p(l.getOperationName(e)),o(),c("ngIf",l.getOperationType(e))}}function Tt(r,a){r&1&&(n(0,"th",127),i(1,"Duration"),t())}function wt(r,a){if(r&1&&(n(0,"td",138)(1,"mat-chip",139),i(2),t()()),r&2){let e=a.$implicit,l=s(2);o(),c("ngClass",l.getDurationColor(e.duration+"ms")),o(),x(" ",e.duration.toFixed(2),"ms ")}}function Pt(r,a){r&1&&(n(0,"th",140),i(1,"Status"),t())}function Mt(r,a){r&1&&(n(0,"mat-icon",145),i(1,"check_circle"),t())}function It(r,a){r&1&&(n(0,"mat-icon",146),i(1,"error"),t())}function Lt(r,a){if(r&1&&(n(0,"div",147),i(1),t()),r&2){let e=s().$implicit;o(),x(" ",e.error," ")}}function Dt(r,a){if(r&1&&(n(0,"td",138)(1,"div",25)(2,"mat-chip",141),i(3),t(),d(4,Mt,2,0,"mat-icon",142)(5,It,2,0,"mat-icon",143),t(),d(6,Lt,2,1,"div",144),t()),r&2){let e=a.$implicit;o(2),c("color",e.success?"primary":"warn"),o(),x(" ",e.statusCode||(e.success?"200":"ERROR")," "),o(),c("ngIf",e.success),o(),c("ngIf",!e.success),o(),c("ngIf",!e.success&&e.error)}}function Ot(r,a){r&1&&(n(0,"th",127),i(1,"Type"),t())}function Rt(r,a){if(r&1&&(n(0,"mat-chip",150),i(1),t()),r&2){let e=s().$implicit,l=s(2);o(),x(" ",l.getOperationType(e)||"GraphQL"," ")}}function kt(r,a){if(r&1&&(n(0,"mat-chip",151),i(1),t()),r&2){let e=s().$implicit;o(),x(" ",e.method||"HTTP"," ")}}function Vt(r,a){if(r&1&&(n(0,"td",138),d(1,Rt,2,1,"mat-chip",148)(2,kt,2,1,"mat-chip",149),t()),r&2){let e=a.$implicit,l=s(2);o(),c("ngIf",l.isGraphQLLog(e)),o(),c("ngIf",!l.isGraphQLLog(e))}}function Ft(r,a){r&1&&(n(0,"th",127),i(1,"Endpoint"),t())}function At(r,a){if(r&1&&(n(0,"td",128)(1,"div",152),i(2),t()()),r&2){let e=a.$implicit,l=s(2);o(),c("title",l.getEndpointPath(e)),o(),x(" ",l.getEndpointPath(e)," ")}}function Ht(r,a){r&1&&(n(0,"th",153),i(1,"Memory"),t())}function Qt(r,a){if(r&1&&(n(0,"span",156),i(1),t()),r&2){let e=s().$implicit;o(),x(" ",e.memoryUsage.toFixed(1),"MB ")}}function Bt(r,a){r&1&&(n(0,"span",157),i(1,"-"),t())}function Gt(r,a){if(r&1&&(n(0,"td",128),d(1,Qt,2,1,"span",154)(2,Bt,2,0,"span",155),t()),r&2){let e=a.$implicit;o(),c("ngIf",e.memoryUsage),o(),c("ngIf",!e.memoryUsage)}}function Nt(r,a){r&1&&(n(0,"th",158),i(1,"Details"),t())}function qt(r,a){r&1&&(n(0,"span",161),i(1," Args "),t())}function Wt(r,a){if(r&1){let e=y();n(0,"td",138)(1,"div",25)(2,"button",159),f("click",function(){let m=u(e).$implicit,_=s(2);return g(_.showLogDetails(m))}),n(3,"mat-icon",8),i(4,"visibility"),t()(),d(5,qt,2,0,"span",160),t()()}if(r&2){let e=a.$implicit,l=s(2);o(5),c("ngIf",l.hasGraphQLArgs(e))}}function $t(r,a){r&1&&w(0,"tr",162)}function jt(r,a){if(r&1){let e=y();n(0,"tr",163),f("click",function(){let m=u(e).$implicit,_=s(2);return g(_.showLogDetails(m))}),t()}}function Ut(r,a){r&1&&(n(0,"div",164)(1,"mat-icon",165),i(2,"list_alt"),t(),n(3,"p",166),i(4,"No performance logs found"),t(),n(5,"p",8),i(6,"Try adjusting your filters or time range"),t()())}function Jt(r,a){if(r&1){let e=y();n(0,"div",36)(1,"mat-card",78)(2,"mat-card-header")(3,"mat-card-title",25)(4,"mat-icon"),i(5,"filter_list"),t(),i(6," Filters "),t()(),n(7,"mat-card-content",26)(8,"div",79)(9,"mat-form-field",80)(10,"mat-label"),i(11,"Request Type"),t(),n(12,"mat-select",10),b("ngModelChange",function(m){u(e);let _=s();return C(_.selectedRequestType,m)||(_.selectedRequestType=m),g(m)}),f("selectionChange",function(){u(e);let m=s();return g(m.onFilterChange())}),n(13,"mat-option",81),i(14,"All Types"),t(),n(15,"mat-option",82),i(16,"GraphQL Only"),t(),n(17,"mat-option",83),i(18,"HTTP Only"),t()()(),d(19,ft,12,1,"mat-form-field",84),n(20,"mat-form-field",80)(21,"mat-label"),i(22,"Operation/Field Filter"),t(),n(23,"input",85),b("ngModelChange",function(m){u(e);let _=s();return C(_.selectedOperation,m)||(_.selectedOperation=m),g(m)}),f("input",function(){u(e);let m=s();return g(m.onFilterChange())}),t(),n(24,"mat-hint"),i(25,"Search by operation name or service"),t()(),n(26,"mat-form-field",80)(27,"mat-label"),i(28,"Success Status"),t(),n(29,"mat-select",10),b("ngModelChange",function(m){u(e);let _=s();return C(_.selectedSuccess,m)||(_.selectedSuccess=m),g(m)}),f("selectionChange",function(){u(e);let m=s();return g(m.onFilterChange())}),n(30,"mat-option",81),i(31,"All Status"),t(),n(32,"mat-option",86),i(33,"Success Only"),t(),n(34,"mat-option",87),i(35,"Errors Only"),t()()(),n(36,"mat-form-field",80)(37,"mat-label"),i(38,"Min Duration (ms)"),t(),n(39,"input",88),b("ngModelChange",function(m){u(e);let _=s();return C(_.minDuration,m)||(_.minDuration=m),g(m)}),f("input",function(){u(e);let m=s();return g(m.onFilterChange())}),t(),n(40,"mat-hint"),i(41,"Filter slow operations"),t()(),n(42,"mat-form-field",80)(43,"mat-label"),i(44,"Results Limit"),t(),n(45,"mat-select",10),b("ngModelChange",function(m){u(e);let _=s();return C(_.logLimit,m)||(_.logLimit=m),g(m)}),f("selectionChange",function(){u(e);let m=s();return g(m.onFilterChange())}),n(46,"mat-option",89),i(47,"25"),t(),n(48,"mat-option",90),i(49,"50"),t(),n(50,"mat-option",91),i(51,"100"),t(),n(52,"mat-option",92),i(53,"200"),t(),n(54,"mat-option",93),i(55,"500"),t()()()(),n(56,"div",94)(57,"button",30),f("click",function(){u(e);let m=s();return g(m.loadLogs())}),n(58,"mat-icon"),i(59,"search"),t(),i(60," Search Logs "),t(),n(61,"button",95),f("click",function(){u(e);let m=s();return g(m.loadAllData())}),n(62,"mat-icon"),i(63,"refresh"),t(),i(64," Refresh All "),t(),n(65,"button",29),f("click",function(){u(e);let m=s();return g(m.resetFilters())}),n(66,"mat-icon"),i(67,"clear"),t(),i(68," Clear Filters "),t()(),n(69,"div",96)(70,"div",49)(71,"div",97),i(72),t(),n(73,"div",98),i(74,"Total Logs"),t()(),n(75,"div",49)(76,"div",99),i(77),t(),n(78,"div",98),i(79,"GraphQL"),t()(),n(80,"div",49)(81,"div",100),i(82),t(),n(83,"div",98),i(84,"Successful"),t()(),n(85,"div",49)(86,"div",101),i(87),t(),n(88,"div",98),i(89,"Avg Duration"),t()()()()(),n(90,"mat-card")(91,"mat-card-header")(92,"mat-card-title",25)(93,"mat-icon"),i(94,"list"),t(),i(95),t()(),n(96,"mat-card-content",102)(97,"div",103)(98,"table",104),h(99,105),d(100,ht,2,0,"th",106)(101,St,2,1,"td",107),S(),h(102,108),d(103,vt,2,0,"th",109)(104,Et,8,4,"td",110),S(),h(105,111),d(106,Tt,2,0,"th",106)(107,wt,3,2,"td",112),S(),h(108,113),d(109,Pt,2,0,"th",114)(110,Dt,7,5,"td",112),S(),h(111,115),d(112,Ot,2,0,"th",106)(113,Vt,3,2,"td",112),S(),h(114,116),d(115,Ft,2,0,"th",106)(116,At,3,2,"td",107),S(),h(117,117),d(118,Ht,2,0,"th",118)(119,Gt,3,2,"td",107),S(),h(120,119),d(121,Nt,2,0,"th",120)(122,Wt,6,1,"td",112),S(),d(123,$t,1,0,"tr",121)(124,jt,1,0,"tr",122),t(),d(125,Ut,7,0,"div",123),t()()()()}if(r&2){let e=s();o(12),v("ngModel",e.selectedRequestType),o(7),c("ngIf",e.selectedRequestType==="all"||e.selectedRequestType==="graphql"),o(4),v("ngModel",e.selectedOperation),o(6),v("ngModel",e.selectedSuccess),o(10),v("ngModel",e.minDuration),o(6),v("ngModel",e.logLimit),o(27),p(e.logs.length),o(5),p(e.getGraphQLLogsCount()),o(5),p(e.getSuccessfulLogsCount()),o(5),x("",e.getAverageDuration(),"ms"),o(8),x(" Performance Logs (",e.logs.length,") "),o(3),c("dataSource",e.dataSource),o(25),c("matHeaderRowDef",e.displayedColumns),o(),c("matRowDefColumns",e.displayedColumns),o(),c("ngIf",e.dataSource.data.length===0)}}function zt(r,a){r&1&&(n(0,"th",158),i(1,"Hour"),t())}function Kt(r,a){if(r&1&&(n(0,"td",128),i(1),t()),r&2){let e=a.$implicit,l=s(2);o(),x(" ",l.formatTimestamp(e.hour)," ")}}function Xt(r,a){r&1&&(n(0,"th",158),i(1,"Total Operations"),t())}function Yt(r,a){if(r&1&&(n(0,"td",130),i(1),t()),r&2){let e=a.$implicit;o(),x(" ",e.totalOperations," ")}}function Zt(r,a){r&1&&(n(0,"th",158),i(1,"Avg Duration"),t())}function en(r,a){if(r&1&&(n(0,"td",138)(1,"mat-chip",139),i(2),t()()),r&2){let e=a.$implicit,l=s(2);o(),c("ngClass",l.getDurationColor(e.avgDuration)),o(),x(" ",e.avgDuration," ")}}function tn(r,a){r&1&&(n(0,"th",158),i(1,"Max Duration"),t())}function nn(r,a){if(r&1&&(n(0,"td",138)(1,"mat-chip",139),i(2),t()()),r&2){let e=a.$implicit,l=s(2);o(),c("ngClass",l.getDurationColor(e.maxDuration)),o(),x(" ",e.maxDuration," ")}}function an(r,a){r&1&&(n(0,"th",158),i(1,"Error Count"),t())}function rn(r,a){if(r&1&&(n(0,"td",138)(1,"mat-chip",175),i(2),t()()),r&2){let e=a.$implicit;o(),c("color",e.errorCount>0?"warn":"primary"),o(),x(" ",e.errorCount," ")}}function on(r,a){r&1&&(n(0,"th",158),i(1,"Error Rate"),t())}function ln(r,a){if(r&1&&(n(0,"td",128),i(1),t()),r&2){let e=a.$implicit;o(),x(" ",e.errorRate," ")}}function mn(r,a){r&1&&w(0,"tr",162)}function sn(r,a){r&1&&w(0,"tr",176)}function cn(r,a){if(r&1&&(n(0,"div",36)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title",25)(4,"mat-icon"),i(5,"trending_up"),t(),i(6," Performance Trends "),t()(),n(7,"mat-card-content",102)(8,"div",103)(9,"table",167),h(10,168),d(11,zt,2,0,"th",120)(12,Kt,2,1,"td",107),S(),h(13,169),d(14,Xt,2,0,"th",120)(15,Yt,2,1,"td",110),S(),h(16,170),d(17,Zt,2,0,"th",120)(18,en,3,2,"td",112),S(),h(19,171),d(20,tn,2,0,"th",120)(21,nn,3,2,"td",112),S(),h(22,172),d(23,an,2,0,"th",120)(24,rn,3,2,"td",112),S(),h(25,173),d(26,on,2,0,"th",120)(27,ln,2,1,"td",107),S(),d(28,mn,1,0,"tr",121)(29,sn,1,0,"tr",174),t()()()()()),r&2){let e=s();o(9),c("dataSource",e.trends),o(19),c("matHeaderRowDef",e.displayedTrendColumns),o(),c("matRowDefColumns",e.displayedTrendColumns)}}function dn(r,a){r&1&&(n(0,"div",186)(1,"mat-icon",165),i(2,"science"),t(),n(3,"p",166),i(4,"No test results yet"),t(),n(5,"p",8),i(6,"Run some tests above to see results"),t()())}function pn(r,a){if(r&1&&(n(0,"div",192)(1,"div",193)(2,"mat-icon",8),i(3,"error"),t(),n(4,"span",133),i(5,"Error:"),t()(),n(6,"p",194),i(7),t()()),r&2){let e=s().$implicit;o(7),p(e.error)}}function _n(r,a){if(r&1&&(n(0,"div",195)(1,"div",196)(2,"mat-icon",8),i(3,"code"),t(),n(4,"span",133),i(5,"Result:"),t()(),n(6,"pre",197),i(7),I(8,"json"),t()()),r&2){let e=s().$implicit;o(7),p(L(8,1,e.result))}}function un(r,a){if(r&1&&(n(0,"mat-expansion-panel",187)(1,"mat-expansion-panel-header")(2,"mat-panel-title",3)(3,"mat-icon"),i(4),t(),n(5,"span",188),i(6),t(),n(7,"mat-chip",175),i(8),t()(),n(9,"mat-panel-description"),i(10),t()(),n(11,"div",189),d(12,pn,8,1,"div",190)(13,_n,9,3,"div",191),t()()),r&2){let e=a.$implicit,l=s(2);o(3),R(e.success?"text-green-600":"text-red-600"),o(),x(" ",e.success?"check_circle":"error"," "),o(2),x("",e.type," Test"),o(),c("color",e.success?"primary":"warn"),o(),p(e.duration),o(2),x(" ",l.formatTimestamp(e.timestamp)," "),o(2),c("ngIf",e.error),o(),c("ngIf",e.result)}}function gn(r,a){if(r&1){let e=y();n(0,"div",36)(1,"mat-card",78)(2,"mat-card-header")(3,"mat-card-title",25)(4,"mat-icon"),i(5,"science"),t(),i(6," Test Operations "),t(),n(7,"mat-card-subtitle"),i(8,"Use these operations to test the performance logging system"),t()(),n(9,"mat-card-content",26)(10,"div",47)(11,"button",177),f("click",function(){u(e);let m=s();return g(m.runTest("fast"))}),n(12,"mat-icon",178),i(13,"flash_on"),t(),n(14,"span"),i(15,"Test Fast (~100ms)"),t()(),n(16,"button",179),f("click",function(){u(e);let m=s();return g(m.runTest("slow"))}),n(17,"mat-icon",178),i(18,"hourglass_bottom"),t(),n(19,"span"),i(20,"Test Slow (~2000ms)"),t()(),n(21,"button",180),f("click",function(){u(e);let m=s();return g(m.runTest("error"))}),n(22,"mat-icon",178),i(23,"error"),t(),n(24,"span"),i(25,"Test Error"),t()(),n(26,"button",181),f("click",function(){u(e);let m=s();return g(m.runTest("bulk"))}),n(27,"mat-icon",178),i(28,"layers"),t(),n(29,"span"),i(30,"Test Bulk (10 ops)"),t()()()()(),n(31,"mat-card")(32,"mat-card-header",182)(33,"mat-card-title",25)(34,"mat-icon"),i(35,"assignment_turned_in"),t(),i(36," Test Results "),t(),n(37,"button",183),f("click",function(){u(e);let m=s();return g(m.testResults=[])}),n(38,"mat-icon"),i(39,"clear_all"),t(),i(40," Clear Results "),t()(),n(41,"mat-card-content",26),d(42,dn,7,0,"div",184)(43,un,14,9,"mat-expansion-panel",185),t()()()}if(r&2){let e=s();o(42),c("ngIf",e.testResults.length===0),o(),c("ngForOf",e.testResults)}}function xn(r,a){if(r&1&&(n(0,"div",215)(1,"span",133),i(2,"Method:"),t(),n(3,"mat-chip",151),i(4),t()()),r&2){let e=s(3);o(4),p(e.selectedLog.method||"Unknown")}}function fn(r,a){if(r&1&&(n(0,"div",215)(1,"span",133),i(2,"Operation:"),t(),n(3,"mat-chip",150),i(4),t()()),r&2){let e=s(3);o(4),p(e.getOperationType(e.selectedLog))}}function hn(r,a){if(r&1&&(n(0,"mat-card",222)(1,"mat-card-header")(2,"mat-card-title",223),i(3,"Error Details"),t()(),n(4,"mat-card-content")(5,"pre",224),i(6),t()()()),r&2){let e=s(3);o(6),p(e.selectedLog.error)}}function Sn(r,a){if(r&1&&(n(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),i(3,"Arguments"),t()(),n(4,"mat-card-content")(5,"pre",227),i(6),I(7,"json"),t()()()),r&2){let e=s(4);o(6),p(L(7,1,e.getGraphQLArgs(e.selectedLog)))}}function vn(r,a){if(r&1&&(n(0,"mat-tab",225)(1,"div",212)(2,"div",38)(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),i(6,"Operation Details"),t()(),n(7,"mat-card-content")(8,"div",214)(9,"div",215)(10,"span",133),i(11,"Operation Type:"),t(),n(12,"mat-chip",150),i(13),t()(),n(14,"div",215)(15,"span",133),i(16,"Field Name:"),t(),n(17,"code",216),i(18),t()(),n(19,"div",215)(20,"span",133),i(21,"Parent Type:"),t(),n(22,"span"),i(23),t()()()()(),d(24,Sn,8,3,"mat-card",226),t()()()),r&2){let e=s(3);o(13),p(e.getOperationType(e.selectedLog)),o(5),p(e.getFieldName(e.selectedLog)),o(5),p(e.getParentType(e.selectedLog)),o(),c("ngIf",e.hasGraphQLArgs(e.selectedLog))}}function Cn(r,a){if(r&1&&(n(0,"mat-tab",228)(1,"div",212)(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),i(5,"Request Context"),t()(),n(6,"mat-card-content")(7,"pre",229),i(8),I(9,"json"),t()()()()()),r&2){let e=s(3);o(8),p(L(9,1,e.selectedLog.context))}}function bn(r,a){if(r&1&&(n(0,"mat-dialog-content",102)(1,"div",203)(2,"div",204)(3,"div",3)(4,"mat-icon",205),i(5),t(),n(6,"div")(7,"h2",206),i(8),t(),n(9,"p",51),i(10),t()()(),n(11,"div",207)(12,"div",208),i(13),t(),n(14,"mat-chip",209),i(15),t()()()(),n(16,"mat-tab-group",210)(17,"mat-tab",211)(18,"div",212)(19,"div",213)(20,"mat-card")(21,"mat-card-header")(22,"mat-card-title"),i(23,"Request Information"),t()(),n(24,"mat-card-content")(25,"div",214)(26,"div",215)(27,"span",133),i(28,"Request ID:"),t(),n(29,"code",216),i(30),t()(),n(31,"div",215)(32,"span",133),i(33,"Type:"),t(),n(34,"span"),i(35),t()(),d(36,xn,5,1,"div",217)(37,fn,5,1,"div",217),n(38,"div",215)(39,"span",133),i(40,"Status Code:"),t(),n(41,"span"),i(42),t()(),n(43,"div",215)(44,"span",133),i(45,"Endpoint:"),t(),n(46,"code",218),i(47),t()()()()(),n(48,"mat-card")(49,"mat-card-header")(50,"mat-card-title"),i(51,"Performance Metrics"),t()(),n(52,"mat-card-content")(53,"div",214)(54,"div",182)(55,"span",133),i(56,"Duration:"),t(),n(57,"mat-chip",139),i(58),t()(),n(59,"div",215)(60,"span",133),i(61,"Memory Usage:"),t(),n(62,"span"),i(63),t()(),n(64,"div",215)(65,"span",133),i(66,"Success:"),t(),n(67,"mat-icon"),i(68),t()()()()()(),d(69,hn,7,1,"mat-card",219),t()(),d(70,vn,25,4,"mat-tab",220)(71,Cn,10,3,"mat-tab",221),t()()),r&2){let e=s(2);o(5),x(" ",e.isGraphQLLog(e.selectedLog)?"graphql":"http"," "),o(3),p(e.getOperationName(e.selectedLog)),o(2),p(e.formatTimestamp(e.selectedLog.timestamp)),o(3),x("",e.selectedLog.duration.toFixed(2),"ms"),o(),c("color",e.selectedLog.success?"primary":"warn"),o(),x(" ",e.selectedLog.success?"SUCCESS":"ERROR"," "),o(15),p(e.selectedLog.id||"N/A"),o(5),p(e.isGraphQLLog(e.selectedLog)?"GraphQL":"HTTP"),o(),c("ngIf",!e.isGraphQLLog(e.selectedLog)),o(),c("ngIf",e.isGraphQLLog(e.selectedLog)),o(5),p(e.selectedLog.statusCode||"N/A"),o(5),p(e.getEndpointPath(e.selectedLog)),o(10),c("ngClass",e.getDurationColor(e.selectedLog.duration+"ms")),o(),x(" ",e.selectedLog.duration.toFixed(2),"ms "),o(5),p(e.selectedLog.memoryUsage?e.selectedLog.memoryUsage.toFixed(1)+"MB":"N/A"),o(4),R(e.selectedLog.success?"text-green-600":"text-red-600"),o(),x(" ",e.selectedLog.success?"check_circle":"error"," "),o(),c("ngIf",!e.selectedLog.success&&e.selectedLog.error),o(),c("ngIf",e.isGraphQLLog(e.selectedLog)),o(),c("ngIf",e.selectedLog.context)}}function yn(r,a){if(r&1){let e=y();n(0,"div",198),d(1,bn,72,21,"mat-dialog-content",199),n(2,"mat-dialog-actions",200)(3,"button",201),f("click",function(){u(e);let m=s();return g(m.closeLogDetails())}),i(4,"Close"),t(),n(5,"button",202),f("click",function(){u(e);let m=s();return g(m.copyLogDetails())}),n(6,"mat-icon"),i(7,"content_copy"),t(),i(8," Copy Details "),t()()()}if(r&2){let e=s();o(),c("ngIf",e.selectedLog)}}var at=class r{constructor(a,e,l){this.performanceService=a;this.snackBar=e;this.dialog=l}summary=null;dbStats=null;logs=[];dataSource=new Je([]);trends=[];selectedLog=null;selectedHours=24;selectedOperation="";selectedSuccess="all";selectedOperationType="all";selectedRequestType="all";minDuration=null;logLimit=50;activeTab="dashboard";isLoading=!1;errorMessage="";autoRefresh=!1;refreshInterval=null;testResults=[];logDetailsModalTemplate;sort;displayedColumns=["timestamp","operation","duration","status","method","url","memory","context"];displayedTrendColumns=["hour","totalOperations","avgDuration","maxDuration","errorCount","errorRate"];ngOnInit(){this.loadAllData()}ngAfterViewInit(){this.dataSource.sortingDataAccessor=(a,e)=>{switch(e){case"operation":return this.getOperationName(a);case"status":return a.success;case"memory":return a.memoryUsage||0;case"duration":return a.duration;case"timestamp":return new Date(a.timestamp).getTime();case"method":return this.isGraphQLLog(a)?this.getOperationType(a):a.method;case"url":return this.getEndpointPath(a);default:return a[e]}},this.dataSource.sort=this.sort,this.dataSource.data.length>0&&this.dataSource._updateChangeSubscription()}ngOnDestroy(){this.refreshInterval&&this.refreshInterval.unsubscribe()}loadAllData(){this.isLoading=!0,this.errorMessage="",this.performanceService.getSummary(this.selectedHours).subscribe({next:a=>{this.summary=a},error:a=>{console.error("Error loading summary:",a),this.errorMessage="Failed to load performance summary",this.showSnackBar("Failed to load performance summary","error")}}),this.performanceService.getDatabaseStats(this.selectedHours).subscribe({next:a=>{this.dbStats=a},error:a=>{console.error("Error loading database stats:",a)}}),this.performanceService.getTrends(this.selectedHours).subscribe({next:a=>{this.trends=a},error:a=>{console.error("Error loading trends:",a)}}),this.loadLogs(),this.isLoading=!1}loadLogs(){let a={hours:this.selectedHours,limit:this.logLimit,operation:this.selectedOperation||void 0,success:this.selectedSuccess==="all"?void 0:this.selectedSuccess==="true",minDuration:this.minDuration||void 0,requestType:this.selectedRequestType==="all"?void 0:this.selectedRequestType,operationType:this.selectedOperationType==="all"?void 0:this.selectedOperationType};this.performanceService.getLogs(a).subscribe({next:e=>{let l=e;this.selectedRequestType==="graphql"?l=l.filter(m=>this.isGraphQLLog(m)):this.selectedRequestType==="http"&&(l=l.filter(m=>!this.isGraphQLLog(m))),this.selectedOperationType!=="all"&&(l=l.filter(m=>this.isGraphQLLog(m)&&this.getOperationType(m).toLowerCase()===this.selectedOperationType)),this.logs=l,this.dataSource.data=l,this.sort&&(this.dataSource.sort=this.sort)},error:e=>{console.error("Error loading logs:",e),this.showSnackBar("Error loading performance logs","error")}})}onFilterChange(){this.loadLogs()}onHoursChange(){this.loadAllData()}toggleAutoRefresh(){this.autoRefresh?this.refreshInterval=A(3e4).subscribe(()=>{this.loadAllData()}):this.refreshInterval&&(this.refreshInterval.unsubscribe(),this.refreshInterval=null)}runTest(a){let e;switch(a){case"fast":e=this.performanceService.testFastOperation();break;case"slow":e=this.performanceService.testSlowOperation();break;case"error":e=this.performanceService.testErrorOperation();break;case"bulk":e=this.performanceService.testBulkOperations();break;default:return}let l=Date.now();e.subscribe({next:m=>{let _=Date.now()-l;this.testResults.unshift({type:a,success:!0,duration:_+"ms",result:m,timestamp:new Date().toISOString()}),setTimeout(()=>this.loadAllData(),1e3)},error:m=>{let _=Date.now()-l;this.testResults.unshift({type:a,success:!1,duration:_+"ms",error:m.message,timestamp:new Date().toISOString()})}})}showSnackBar(a,e="info"){let l={duration:3e3,panelClass:[`snack-${e}`]};this.snackBar.open(a,"Close",l)}getDurationColor(a){let e=parseFloat(a.replace("ms",""));return e>1e3?"text-red-600 bg-red-100":e>500?"text-orange-600 bg-orange-100":"text-green-600 bg-green-100"}formatTimestamp(a){return new Date(a).toLocaleString()}cleanupLogs(){this.performanceService.cleanupLogs(30).subscribe({next:a=>{this.showSnackBar(a.message,"success"),this.loadAllData()},error:a=>{this.showSnackBar("Error cleaning up logs: "+a.message,"error")}})}clearMemoryMetrics(){this.performanceService.clearMemoryMetrics().subscribe({next:a=>{this.showSnackBar(a.message,"success"),this.loadAllData()},error:a=>{this.showSnackBar("Error clearing metrics: "+a.message,"error")}})}isGraphQLLog(a){return a.context&&(a.context.method==="GRAPHQL"||a.context.operation||a.context.fieldName||a.url?.includes("/graphql"))}getOperationName(a){return this.isGraphQLLog(a)?a.context?.fieldName||a.name||"GraphQL Operation":a.name||a.url||"HTTP Request"}getOperationType(a){return a.context?.operation||"query"}getFieldName(a){return a.context?.fieldName||"unknown"}getParentType(a){return a.context?.parentType||"Query"}getEndpointPath(a){if(this.isGraphQLLog(a)){let e=this.getFieldName(a),l=this.getOperationType(a);return`/graphql/${e} (${l})`}return a.url||a.context?.url||"-"}hasGraphQLArgs(a){return a.context&&a.context.args&&Object.keys(a.context.args).length>0}getGraphQLArgs(a){return a.context?.args||{}}showLogDetails(a){this.selectedLog=a;let e=this.dialog.open(this.logDetailsModalTemplate,{width:"90vw",maxWidth:"1200px",maxHeight:"90vh"})}closeLogDetails(){this.selectedLog=null,this.dialog.closeAll()}copyLogDetails(){if(this.selectedLog){let a={id:this.selectedLog.id,name:this.selectedLog.name,duration:this.selectedLog.duration,timestamp:this.selectedLog.timestamp,success:this.selectedLog.success,error:this.selectedLog.error,context:this.selectedLog.context};navigator.clipboard.writeText(JSON.stringify(a,null,2)).then(()=>{this.showSnackBar("Log details copied to clipboard","success")}).catch(()=>{this.showSnackBar("Failed to copy to clipboard","error")})}}resetFilters(){this.selectedOperation="",this.selectedSuccess="all",this.selectedOperationType="all",this.selectedRequestType="all",this.minDuration=null,this.logLimit=50,this.onFilterChange()}getGraphQLLogsCount(){return this.logs.filter(a=>this.isGraphQLLog(a)).length}getSuccessfulLogsCount(){return this.logs.filter(a=>a.success).length}getAverageDuration(){return this.logs.length===0?"0":(this.logs.reduce((e,l)=>e+l.duration,0)/this.logs.length).toFixed(1)}static \u0275fac=function(e){return new(e||r)(M(O),M(ee),M(_e))};static \u0275cmp=B({type:r,selectors:[["app-performance"]],viewQuery:function(e,l){if(e&1&&(k(lt,5),k(D,5)),e&2){let m;V(m=F())&&(l.logDetailsModalTemplate=m.first),V(m=F())&&(l.sort=m.first)}},decls:61,vars:4,consts:[["logDetailsModal",""],[1,"p-6","w-full","mx-auto"],[1,"flex","flex-col","lg:flex-row","justify-between","items-start","lg:items-center","mb-8","gap-4"],[1,"flex","items-center","gap-3"],[1,"text-blue-600","text-3xl"],[1,"text-3xl","font-bold","text-gray-800"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["color","primary",3,"ngModelChange","change","ngModel"],[1,"text-sm"],["appearance","outline",1,"w-40"],[3,"ngModelChange","selectionChange","ngModel"],["value","1"],["value","6"],["value","24"],["value","72"],["value","168"],["class","mb-6 border-l-4 border-red-500 bg-red-50",4,"ngIf"],["class","flex justify-center items-center py-12",4,"ngIf"],["mat-align-tabs","start",1,"mb-8"],["label","Dashboard"],["matTabContent",""],["label","Performance Logs"],["label","Trends"],["label","Test Operations"],[1,"mt-8"],[1,"flex","items-center","gap-2"],[1,"p-4"],[1,"flex","flex-wrap","gap-3"],["mat-raised-button","","color","warn",1,"flex","items-center","gap-2",3,"click"],["mat-stroked-button","",1,"flex","items-center","gap-2",3,"click"],["mat-raised-button","","color","primary",1,"flex","items-center","gap-2",3,"click"],[1,"mb-6","border-l-4","border-red-500","bg-red-50"],[1,"flex","items-center","gap-3","text-red-700"],[1,"text-red-500"],[1,"flex","justify-center","items-center","py-12"],["diameter","60"],[1,"py-6"],["class","mb-8",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-gray-50"],[1,"text-orange-600"],["class","text-center text-gray-500 py-8",4,"ngIf"],["class","border-b border-gray-200 py-3 last:border-b-0",4,"ngFor","ngForOf"],[1,"text-red-600"],[1,"mb-8"],[1,"text-xl","font-semibold","mb-4","flex","items-center","gap-2"],[1,"text-yellow-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"bg-gradient-to-r","from-blue-500","to-blue-600","text-white"],[1,"text-center"],[1,"text-3xl","font-bold"],[1,"text-blue-100"],[1,"bg-gradient-to-r","from-green-500","to-green-600","text-white"],[1,"text-green-100"],[1,"bg-gradient-to-r","from-cyan-500","to-cyan-600","text-white"],[1,"text-cyan-100"],[1,"bg-gradient-to-r","from-orange-500","to-orange-600","text-white"],[1,"text-orange-100"],[1,"text-purple-600"],[1,"hover:shadow-lg","transition-shadow"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-gray-600"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-cyan-600"],[1,"text-2xl","font-bold","text-red-600"],[1,"text-center","text-gray-500","py-8"],[1,"text-4xl","mb-2","text-gray-400"],[1,"border-b","border-gray-200","py-3","last:border-b-0"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"ml-2",3,"ngClass"],[1,"text-4xl","mb-2","text-green-400"],[1,"font-medium","text-red-600"],[1,"text-sm","text-gray-600","mt-1"],[1,"text-xs","text-gray-500","mt-1"],["color","warn",1,"ml-2"],[1,"mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-6","gap-4"],["appearance","outline"],["value","all"],["value","graphql"],["value","http"],["appearance","outline",4,"ngIf"],["matInput","","placeholder","e.g., findMany, DonhangService",3,"ngModelChange","input","ngModel"],["value","true"],["value","false"],["matInput","","type","number","placeholder","1000",3,"ngModelChange","input","ngModel"],["value","25"],["value","50"],["value","100"],["value","200"],["value","500"],[1,"flex","flex-wrap","gap-3","mt-4"],["mat-raised-button","","color","accent",1,"flex","items-center","gap-2",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mt-4","pt-4","border-t"],[1,"text-lg","font-bold","text-blue-600"],[1,"text-sm","text-gray-600"],[1,"text-lg","font-bold","text-purple-600"],[1,"text-lg","font-bold","text-green-600"],[1,"text-lg","font-bold","text-orange-600"],[1,"p-0"],[1,"overflow-x-auto"],["mat-table","","matSort","",1,"w-full",3,"dataSource"],["matColumnDef","timestamp"],["mat-header-cell","","mat-sort-header","","class","font-semibold",4,"matHeaderCellDef"],["mat-cell","","class","text-sm",4,"matCellDef"],["matColumnDef","operation"],["mat-header-cell","","mat-sort-header","operation","class","font-semibold",4,"matHeaderCellDef"],["mat-cell","","class","font-medium",4,"matCellDef"],["matColumnDef","duration"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","status","class","font-semibold",4,"matHeaderCellDef"],["matColumnDef","method"],["matColumnDef","url"],["matColumnDef","memory"],["mat-header-cell","","mat-sort-header","memory","class","font-semibold",4,"matHeaderCellDef"],["matColumnDef","context"],["mat-header-cell","","class","font-semibold",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50 transition-colors cursor-pointer",3,"click",4,"matRowDef","matRowDefColumns"],["class","text-center py-12 text-gray-500",4,"ngIf"],["value","query"],["value","mutation"],["value","subscription"],["mat-header-cell","","mat-sort-header","",1,"font-semibold"],["mat-cell","",1,"text-sm"],["mat-header-cell","","mat-sort-header","operation",1,"font-semibold"],["mat-cell","",1,"font-medium"],["class","text-purple-600 text-sm",4,"ngIf"],["class","text-blue-600 text-sm",4,"ngIf"],[1,"font-medium"],["class","text-xs text-gray-500",4,"ngIf"],[1,"text-purple-600","text-sm"],[1,"text-blue-600","text-sm"],[1,"text-xs","text-gray-500"],["mat-cell",""],[3,"ngClass"],["mat-header-cell","","mat-sort-header","status",1,"font-semibold"],[1,"text-xs",3,"color"],["class","text-green-600 text-sm",4,"ngIf"],["class","text-red-600 text-sm",4,"ngIf"],["class","text-red-600 text-xs mt-1 truncate max-w-xs",4,"ngIf"],[1,"text-green-600","text-sm"],[1,"text-red-600","text-sm"],[1,"text-red-600","text-xs","mt-1","truncate","max-w-xs"],["class","bg-purple-100 text-purple-800",4,"ngIf"],["color","accent",4,"ngIf"],[1,"bg-purple-100","text-purple-800"],["color","accent"],[1,"max-w-xs","truncate",3,"title"],["mat-header-cell","","mat-sort-header","memory",1,"font-semibold"],["class","px-2 py-1 bg-gray-100 rounded text-xs",4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"px-2","py-1","bg-gray-100","rounded","text-xs"],[1,"text-gray-400"],["mat-header-cell","",1,"font-semibold"],["mat-icon-button","","color","primary","matTooltip","View detailed information",3,"click"],["class","text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",4,"ngIf"],[1,"text-xs","bg-blue-100","text-blue-800","px-2","py-1","rounded"],["mat-header-row",""],["mat-row","",1,"hover:bg-gray-50","transition-colors","cursor-pointer",3,"click"],[1,"text-center","py-12","text-gray-500"],[1,"text-6xl","mb-4","text-gray-300"],[1,"text-lg"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","hour"],["matColumnDef","totalOperations"],["matColumnDef","avgDuration"],["matColumnDef","maxDuration"],["matColumnDef","errorCount"],["matColumnDef","errorRate"],["mat-row","","class","hover:bg-gray-50 transition-colors",4,"matRowDef","matRowDefColumns"],[3,"color"],["mat-row","",1,"hover:bg-gray-50","transition-colors"],["mat-raised-button","","color","primary",1,"h-20","flex","flex-col","justify-center",3,"click"],[1,"mb-2"],["mat-raised-button","","color","accent",1,"h-20","flex","flex-col","justify-center",3,"click"],["mat-raised-button","","color","warn",1,"h-20","flex","flex-col","justify-center",3,"click"],["mat-raised-button","",1,"h-20","flex","flex-col","justify-center","bg-purple-600","text-white",3,"click"],[1,"flex","justify-between","items-center"],["mat-stroked-button","","color","warn",3,"click"],["class","text-center text-gray-500 py-12",4,"ngIf"],["class","mb-3",4,"ngFor","ngForOf"],[1,"text-center","text-gray-500","py-12"],[1,"mb-3"],[1,"capitalize","font-medium"],[1,"pt-4"],["class","bg-red-50 border border-red-200 rounded p-3 mb-4",4,"ngIf"],["class","bg-gray-50 border border-gray-200 rounded p-3",4,"ngIf"],[1,"bg-red-50","border","border-red-200","rounded","p-3","mb-4"],[1,"flex","items-center","gap-2","text-red-700"],[1,"text-red-600","mt-1"],[1,"bg-gray-50","border","border-gray-200","rounded","p-3"],[1,"flex","items-center","gap-2","text-gray-700","mb-2"],[1,"text-sm","bg-white","p-3","rounded","border","overflow-auto","max-h-40"],[1,"max-w-4xl","w-full"],["class","p-0",4,"ngIf"],["align","end",1,"p-4","bg-gray-50"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","text-white","p-6"],[1,"flex","items-center","justify-between"],[1,"text-2xl"],[1,"text-xl","font-bold"],[1,"text-right"],[1,"text-2xl","font-bold"],[1,"mt-2",3,"color"],[1,"min-h-96"],["label","Overview"],[1,"p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-3"],[1,"flex","justify-between"],[1,"text-sm","bg-gray-100","px-2","py-1","rounded"],["class","flex justify-between",4,"ngIf"],[1,"text-sm","break-all"],["class","mt-6 border-l-4 border-red-500",4,"ngIf"],["label","GraphQL Details",4,"ngIf"],["label","Full Context",4,"ngIf"],[1,"mt-6","border-l-4","border-red-500"],[1,"text-red-700"],[1,"bg-red-50","p-4","rounded","overflow-auto","text-sm","text-red-800"],["label","GraphQL Details"],[4,"ngIf"],[1,"bg-gray-50","p-4","rounded","overflow-auto","text-sm","max-h-64"],["label","Full Context"],[1,"bg-gray-50","p-4","rounded","overflow-auto","text-sm","max-h-96"]],template:function(e,l){if(e&1){let m=y();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"mat-icon",4),i(4,"speed"),t(),n(5,"h1",5),i(6,"Performance Dashboard"),t()(),n(7,"div",6)(8,"mat-slide-toggle",7),b("ngModelChange",function(E){return u(m),C(l.autoRefresh,E)||(l.autoRefresh=E),g(E)}),f("change",function(){return u(m),g(l.toggleAutoRefresh())}),n(9,"span",8),i(10,"Auto Refresh (30s)"),t()(),n(11,"mat-form-field",9)(12,"mat-label"),i(13,"Time Range"),t(),n(14,"mat-select",10),b("ngModelChange",function(E){return u(m),C(l.selectedHours,E)||(l.selectedHours=E),g(E)}),f("selectionChange",function(){return u(m),g(l.onHoursChange())}),n(15,"mat-option",11),i(16,"Last Hour"),t(),n(17,"mat-option",12),i(18,"Last 6 Hours"),t(),n(19,"mat-option",13),i(20,"Last 24 Hours"),t(),n(21,"mat-option",14),i(22,"Last 3 Days"),t(),n(23,"mat-option",15),i(24,"Last Week"),t()()()()(),d(25,mt,6,1,"mat-card",16)(26,st,2,0,"div",17),n(27,"mat-tab-group",18)(28,"mat-tab",19),d(29,xt,22,6,"ng-template",20),t(),n(30,"mat-tab",21),d(31,Jt,126,15,"ng-template",20),t(),n(32,"mat-tab",22),d(33,cn,30,3,"ng-template",20),t(),n(34,"mat-tab",23),d(35,gn,44,2,"ng-template",20),t()(),n(36,"mat-card",24)(37,"mat-card-header")(38,"mat-card-title",25)(39,"mat-icon"),i(40,"settings"),t(),i(41," Management Actions "),t()(),n(42,"mat-card-content",26)(43,"div",27)(44,"button",28),f("click",function(){return u(m),g(l.cleanupLogs())}),n(45,"mat-icon"),i(46,"delete_sweep"),t(),n(47,"span"),i(48,"Cleanup Old Logs (30 days)"),t()(),n(49,"button",29),f("click",function(){return u(m),g(l.clearMemoryMetrics())}),n(50,"mat-icon"),i(51,"memory"),t(),n(52,"span"),i(53,"Clear Memory Metrics"),t()(),n(54,"button",30),f("click",function(){return u(m),g(l.loadAllData())}),n(55,"mat-icon"),i(56,"refresh"),t(),n(57,"span"),i(58,"Refresh All Data"),t()()()()()(),d(59,yn,9,1,"ng-template",null,0,N)}e&2&&(o(8),v("ngModel",l.autoRefresh),o(6),v("ngModel",l.selectedHours),o(11),c("ngIf",l.errorMessage),o(),c("ngIf",l.isLoading))},dependencies:[U,q,W,$,j,pe,me,de,se,ce,Le,Te,Pe,Ie,Me,we,le,ae,re,oe,Z,X,Y,ie,ne,Ee,Se,fe,he,ye,K,be,Ce,ve,Ke,ze,Ye,Xe,Ue,Ae,Qe,qe,Be,He,We,Ge,Ne,$e,je,Fe,D,Ve,Oe,De,te,xe,ge,ue,it,Ze,et,nt,tt,ke,Re],encapsulation:2})};export{at as PerformanceComponent};

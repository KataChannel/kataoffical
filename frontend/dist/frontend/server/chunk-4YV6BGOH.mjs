import './polyfills.server.mjs';
import{a as $}from"./chunk-AQ6NTDO4.mjs";import{a as Z}from"./chunk-EHIOJ53Q.mjs";import{a as U,b as Y}from"./chunk-SWYGK4UR.mjs";import"./chunk-QUSQDTER.mjs";import"./chunk-WJ2ZWVTC.mjs";import"./chunk-PE5EYNGJ.mjs";import{h as z}from"./chunk-26WWJ5GO.mjs";import"./chunk-ZA5LSI2B.mjs";import{b as J}from"./chunk-AL3ZCZTD.mjs";import{d as Q}from"./chunk-SWDJOT3A.mjs";import"./chunk-MGIVCIKU.mjs";import"./chunk-NCVHCAMC.mjs";import{a as W,b as L}from"./chunk-Q2K4SCD6.mjs";import{b as P,g as N,j as R,n as j,p as G,u as H,v as O,x as X,y as q}from"./chunk-IQUZIOHZ.mjs";import"./chunk-SDPZX77S.mjs";import"./chunk-7ZQLLCLM.mjs";import{a as F}from"./chunk-KOBSONV6.mjs";import"./chunk-JSSZE7PS.mjs";import{a as I,c as A,e as B}from"./chunk-6HDYPSHY.mjs";import"./chunk-IDUXSRZE.mjs";import"./chunk-D22ASRXW.mjs";import"./chunk-7T6LZHUD.mjs";import{a as T,d as V}from"./chunk-2ATDIMG4.mjs";import"./chunk-CA6MWP3S.mjs";import{o as S,v}from"./chunk-6BL7Z2F4.mjs";import{Gb as k,Hc as l,Ic as M,Mc as g,Nb as x,Nc as f,Oc as C,Ra as E,Zb as d,hc as n,ic as a,kc as w,lc as y,nc as D,oa as K,sc as _,tb as s,uc as m,ud as b,xa as h,ya as u}from"./chunk-GWTCN232.mjs";import"./chunk-KB5IWD3E.mjs";import{j as p}from"./chunk-RIAI3ORJ.mjs";function te(c,i){if(c&1){let e=D();n(0,"button",1),_("click",function(){h(e);let t=m();return u(t.handleKhoAction())}),n(1,"mat-icon"),l(2,"save"),a()()}}function ie(c,i){if(c&1){let e=D();n(0,"button",1),_("click",function(){h(e);let t=m();return u(t.toggleEdit())}),n(1,"mat-icon"),l(2,"edit"),a()()}}function ne(c,i){if(c&1){let e=D();w(0),n(1,"div",9)(2,"div",10),l(3,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),a(),n(4,"div",11)(5,"button",12),_("click",function(){h(e);let t=m();return u(t.DeleteData())}),l(6,"\u0110\u1ED3ng \xDD"),a(),n(7,"button",13),_("click",function(){h(e);let t=m();return u(t.toggleDelete())}),l(8,"Hu\u1EF7 B\u1ECF"),a()()(),y()}}function oe(c,i){if(c&1){let e=D();w(0)(1),n(2,"div",14)(3,"div",15)(4,"mat-form-field",16)(5,"mat-label"),l(6,"T\xEAn Kho"),a(),n(7,"input",17),C("ngModelChange",function(t){h(e);let r=m();return f(r.DetailKho().name,t)||(r.DetailKho().name=t),u(t)}),a()(),n(8,"mat-form-field",16)(9,"mat-label"),l(10,"M\xE3 Kho"),a(),n(11,"input",18),C("ngModelChange",function(t){h(e);let r=m();return f(r.DetailKho().makho,t)||(r.DetailKho().makho=t),u(t)}),a()(),n(12,"mat-form-field",16)(13,"mat-label"),l(14,"\u0110\u1ECBa Ch\u1EC9"),a(),n(15,"input",19),C("ngModelChange",function(t){h(e);let r=m();return f(r.DetailKho().diachi,t)||(r.DetailKho().diachi=t),u(t)}),a()(),n(16,"mat-form-field",16)(17,"mat-label"),l(18,"S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i"),a(),n(19,"input",20),C("ngModelChange",function(t){h(e);let r=m();return f(r.DetailKho().sdt,t)||(r.DetailKho().sdt=t),u(t)}),a()()(),n(20,"mat-form-field",16)(21,"mat-label"),l(22,"Ghi Ch\xFA"),a(),n(23,"textarea",21),C("ngModelChange",function(t){h(e);let r=m();return f(r.DetailKho().ghichu,t)||(r.DetailKho().ghichu=t),u(t)}),a()()(),y()()}if(c&2){let e=m();s(7),g("ngModel",e.DetailKho().name),d("disabled",!e.isEdit()),s(4),g("ngModel",e.DetailKho().makho),d("disabled",!e.isEdit()),s(4),g("ngModel",e.DetailKho().diachi),d("disabled",!e.isEdit()),s(4),g("ngModel",e.DetailKho().sdt),d("disabled",!e.isEdit()),s(4),g("ngModel",e.DetailKho().ghichu),d("disabled",!e.isEdit())}}var ee=class c{_ListkhoComponent=K($);_KhoService=K(Z);_route=K(T);_router=K(V);_snackBar=K(F);constructor(){this._route.paramMap.subscribe(i=>{let e=i.get("id");this._KhoService.setKhoId(e)}),b(()=>p(this,null,function*(){let i=this._KhoService.khoId();i||(this._router.navigate(["/admin/kho"]),this._ListkhoComponent.drawer.close()),i==="0"?(this._ListkhoComponent.drawer.open(),this.isEdit.update(e=>!e),this._router.navigate(["/admin/kho","0"])):(yield this._KhoService.getKhoByid(i),this._ListkhoComponent.drawer.open(),this._router.navigate(["/admin/kho",i]))}))}DetailKho=this._KhoService.DetailKho;isEdit=E(!1);isDelete=E(!1);khoId=this._KhoService.khoId;ngOnInit(){return p(this,null,function*(){})}handleKhoAction(){return p(this,null,function*(){this.khoId()==="0"?yield this.createKho():yield this.updateKho()})}createKho(){return p(this,null,function*(){try{yield this._KhoService.CreateKho(this.DetailKho()),this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(i=>!i)}catch(i){console.error("L\u1ED7i khi t\u1EA1o kho:",i)}})}updateKho(){return p(this,null,function*(){try{yield this._KhoService.updateKho(this.DetailKho()),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(i=>!i)}catch(i){console.error("L\u1ED7i khi c\u1EADp nh\u1EADt kho:",i)}})}DeleteData(){return p(this,null,function*(){try{yield this._KhoService.DeleteKho(this.DetailKho()),this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/kho"])}catch(i){console.error("L\u1ED7i khi x\xF3a kho:",i)}})}goBack(){this._router.navigate(["/admin/kho"]),this._ListkhoComponent.drawer.close()}trackByFn(i,e){return e.id}toggleEdit(){this.isEdit.update(i=>!i)}toggleDelete(){this.isDelete.update(i=>!i)}FillSlug(){this.DetailKho.update(i=>(i.slug=Q(i.title),i))}static \u0275fac=function(e){return new(e||c)};static \u0275cmp=k({type:c,selectors:[["app-detailkho"]],decls:17,vars:8,consts:[[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],[3,"ngModelChange","ngModel","disabled"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[4,"ngIf"],[1,"flex","flex-col","space-y-4","items-center","justify-center"],[1,"font-bold","text-2xl"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"w-full","flex","flex-col","space-y-2"],[1,"w-full","flex","lg:flex-row","flex-col","lg:space-x-2","space-x-0","space-y-2","items-center"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp T\xEAn Kho",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp M\xE3 Kho",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp \u0110\u1ECBa Ch\u1EC9",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Ghi Ch\xFA",3,"ngModelChange","ngModel","disabled"]],template:function(e,o){if(e&1&&(n(0,"div",0)(1,"button",1),_("click",function(){return o.goBack()}),n(2,"mat-icon"),l(3,"arrow_back"),a()(),n(4,"div",2),l(5),a(),n(6,"div",3)(7,"mat-slide-toggle",4),C("ngModelChange",function(r){return f(o.DetailKho().isActive,r)||(o.DetailKho().isActive=r),r}),l(8),a(),x(9,te,3,0,"button",5)(10,ie,3,0,"button",5),n(11,"button",6),_("click",function(){return o.toggleDelete()}),n(12,"mat-icon"),l(13,"delete"),a()()()(),n(14,"div",7),x(15,ne,9,0,"ng-container",8)(16,oe,24,10,"ng-container",8),a()),e&2){let t;s(5),M(((t=o.DetailKho())==null?null:t.name)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),s(2),g("ngModel",o.DetailKho().isActive),d("disabled",!o.isEdit()),s(),M(o.DetailKho().isActive?"Hi\u1EC3n Th\u1ECB":"\u1EA8n"),s(),d("ngIf",o.isEdit()),s(),d("ngIf",!o.isEdit()),s(5),d("ngIf",o.isDelete()),s(),d("ngIf",!o.isDelete())}},dependencies:[O,H,G,q,X,j,P,N,R,L,W,B,I,A,J,z,v,S,Y,U],encapsulation:2})};export{ee as DetailKhoComponent};

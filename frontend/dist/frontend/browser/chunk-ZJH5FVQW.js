import{a as h}from"./chunk-H7UDLENL.js";import{a as d}from"./chunk-RQQ6YENK.js";import{a as g,d as p}from"./chunk-3QZHTKAG.js";import{ja as c,pa as o,u as n}from"./chunk-WYL4U5YK.js";import{j as i}from"./chunk-6DYNGEAS.js";var m=class s{http=o(p);storageService=o(d);baseUrl=h.APIURL;getHeaders(){return new g({"Content-Type":"application/json",Authorization:"Bearer "+this.storageService.getItem("token")})}getPriceHistory(t,r){return i(this,null,function*(){try{let e=`${this.baseUrl}/banggia/${t}/sanpham/${r}/price-history`;return yield n(this.http.get(e,{headers:this.getHeaders()}))}catch(e){throw console.error("Error fetching price history:",e),e}})}getCurrentPrice(t,r){return i(this,null,function*(){try{let e=`${this.baseUrl}/banggia/${t}/sanpham/${r}/current-price`;return yield n(this.http.get(e,{headers:this.getHeaders()}))}catch(e){throw console.error("Error fetching current price:",e),e}})}bulkUpdatePrices(t){return i(this,null,function*(){try{let r=`${this.baseUrl}/banggia/bulk-update-prices`;return yield n(this.http.post(r,t,{headers:this.getHeaders()}))}catch(r){throw console.error("Error bulk updating prices:",r),r}})}verifyOrderPrices(t){return i(this,null,function*(){try{let r=`${this.baseUrl}/donhang/verify-prices/${t}`;return yield n(this.http.get(r,{headers:this.getHeaders()}))}catch(r){throw console.error("Error verifying order prices:",r),r}})}getPriceAtDate(t,r,e){return i(this,null,function*(){try{let a=e.toISOString(),u=`${this.baseUrl}/donhang/price-at-date?banggiaId=${t}&sanphamId=${r}&date=${a}`;return yield n(this.http.get(u,{headers:this.getHeaders()}))}catch(a){throw console.error("Error fetching price at date:",a),a}})}static \u0275fac=function(r){return new(r||s)};static \u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"})};export{m as a};

import{a as Oe}from"./chunk-UQDLOLVD.js";import{a as pe}from"./chunk-PNEVDSGX.js";import{c as xe,d as we,e as ke,f as Ae,g as Ee,h as Le}from"./chunk-5P7QWTR6.js";import{a as ze,b as Ve,c as Re,d as Be,e as $e,g as Ge,w as qe,x as Ze}from"./chunk-MIK3M6YH.js";import{a as fe,b as he,c as ge}from"./chunk-6DMN2Y4X.js";import{a as Pe,b as Ne}from"./chunk-4LDEQNC7.js";import{d as ye}from"./chunk-DU3FV2IQ.js";import{a as Te,b as Ce}from"./chunk-VDT6LLUL.js";import{b as _e,g as be,j as ve,n as Se,p as De,u as Me,v as He,x as Ie,y as Fe}from"./chunk-TJCNWHB7.js";import{a as g}from"./chunk-GO3VGP6S.js";import{a as ue,b as me}from"./chunk-TV5MBD5E.js";import{a as se,c as ce,e as de}from"./chunk-LGSPPKE4.js";import{ia as le,y as re,z as oe}from"./chunk-7ROZJMXV.js";import{b as ie,c as I,d as ae,e as ne}from"./chunk-QDKCYXS4.js";import{m as X,r as ee,u as te,w as H}from"./chunk-5AAE55N6.js";import{Ac as M,Eb as q,Ec as O,Fc as s,Gc as C,Ic as J,Kc as z,Lb as x,Lc as V,Mc as R,Oc as B,Pc as Q,Ra as y,Uc as K,Vb as h,Wa as v,Wc as W,Yc as Y,Zb as w,ac as Z,bc as U,dc as k,ec as A,fc as r,gc as l,hc as E,ia as G,lc as _,na as b,nb as N,oa as T,qc as p,rb as c,sc as d,vc as j,wb as S,xa as u,ya as m,yc as L,zc as D}from"./chunk-JY44QJM2.js";import{j as f}from"./chunk-6DYNGEAS.js";var $=[{id:"8efd5ba3-d073-4baf-ab89-31180ee7471d",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"098765421",idGroup:"",Code:"751221",Hoten:"test1",Avatar:"",Ngaysinh:null,email:"test1@gmail.com",Gioitinh:"",EditChinhanhs:[],Diachi:[],password:"$2b$10$YSq7l4/1fe7ihGsxRaS/CuG0bP93xyYmcBWVuMbXr96c18HIQOU/e",ListImage:[],Profile:[],Role:"user",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2024-12-11T03:11:52.074Z",UpdateAt:"2024-12-11T03:11:52.074Z",DeleteAt:null,idCreate:null},{id:"930e46a3-c2be-4063-a395-0adda0c24218",ref_id:"0",gid:"115812709741721912709",fid:"",zid:"",pid:"",SDT:"",idGroup:"",Code:"655487",Hoten:"",Avatar:"",Ngaysinh:null,email:"quocbao280783@gmail.com",Gioitinh:"",EditChinhanhs:[],Diachi:[],password:"$2b$10$iqsxkNI.ljPmvC/Cu.0hWOtRVzRkcHmE.xz1Oc59godPAjdLJ.pTS",ListImage:[],Profile:[],Role:"user",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2024-12-06T07:23:12.949Z",UpdateAt:"2024-12-10T05:06:03.000Z",DeleteAt:null,idCreate:null},{id:"ba962571-6c61-4a63-8dfd-7550ef982468",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"",idGroup:"",Code:"342212",Hoten:"",Avatar:"",Ngaysinh:null,email:"chikietit@gmail.com",Gioitinh:"",EditChinhanhs:[],Diachi:[],password:"$2b$10$f6emY.ehT0BnUnObpIz8iOERl8AOOsTDicz9VZsmKHrh5FQyHBRwi",ListImage:[],Profile:[],Role:"user",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2024-12-05T08:29:55.283Z",UpdateAt:"2024-12-05T08:29:55.283Z",DeleteAt:null,idCreate:null},{id:"e94a4da4-12d1-4e3c-8759-23a0a5914156",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"",idGroup:"",Code:"470177",Hoten:"",Avatar:"",Ngaysinh:null,email:"wetdragon1996@gmail.com",Gioitinh:"",EditChinhanhs:[],Diachi:[],password:"$2b$10$HQqUp5pLAPDedsNI4h8s9eg/NB1FCBQ/HtOPOJx72i/v90J4ZV9SK",ListImage:[],Profile:[],Role:"user",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2024-12-02T03:09:43.472Z",UpdateAt:"2024-12-05T09:02:12.000Z",DeleteAt:null,idCreate:null},{id:"0ca0f7b4-56ad-414a-846b-4c867da4c891",ref_id:"0",gid:"116895729763152566602",fid:"",zid:"",pid:"",SDT:"",idGroup:"",Code:"256165",Hoten:"",Avatar:"",Ngaysinh:null,email:"katachanneloffical@gmail.com",Gioitinh:"",EditChinhanhs:[],Diachi:[],password:"$2b$10$pJxBQaiFty9D1e6Bjv.0j.GX5mobsLCt6t22/eoX.Hf8FfIQoo94u",ListImage:[],Profile:[],Role:"user",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2024-11-25T09:18:25.812Z",UpdateAt:"2024-12-17T11:51:53.000Z",DeleteAt:null,idCreate:null},{id:"7fa80031-41e4-4dea-ab3d-8b6b989cf124",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"0934123456",idGroup:"",Code:"896331",Hoten:"H\u1ED3 Anh Tu\u1EA5n",Avatar:"",Ngaysinh:null,email:"tuan.mkt@tuanho.com",Gioitinh:"",EditChinhanhs:[],Diachi:[],password:"$2b$10$iZZK6SLEdvG2Wjj3cdsxFOQYwl.xx9zeRev6wZUG0FYcniyJpcPY6",ListImage:[],Profile:[],Role:"customer",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2024-01-19T01:26:43.112Z",UpdateAt:"2024-01-19T01:26:43.112Z",DeleteAt:null,idCreate:null},{id:"43921534-d600-443e-8ec1-26cc7d93ff18",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"0987654321",idGroup:"caaeadb0-64d3-4e5a-b42f-bc45abbbba06",Code:"757379",Hoten:"Tester",Avatar:"",Ngaysinh:null,email:"tester@gmail.com",Gioitinh:"",EditChinhanhs:[{Title:"Taza Skin Clinic ?\xE0 N?ng",id:"9887ad61-4b2c-4db1-83e6-570f33cb540a",Checked:!1},{Title:"Taza Skin Clinic Nha Trang",id:"e173b1c0-fbdb-4eeb-a00c-b56664068515",Checked:!1},{Title:"Taza Skin Clinic G\xF2 V?p",id:"268b7a06-d2c5-4c98-af1d-334144ae280f",Checked:!1},{Title:"Taza Skin Clinic Th? ??c",id:"f54de1e1-66bd-4690-8015-ad7315d6f14e",Checked:!1},{Title:"Taza Skin Clinic Qu?n 10",id:"ca725bf4-4810-4ea2-8ef2-520b2a3121cc",Checked:!1},{Title:"Timona Academy C? S? Qu?n 10",id:"34aa91e2-c469-42bb-898b-a11618452ebd",Checked:!1},{Title:"Timona Academy C? S? G\xF2 V?p",id:"ee3d1ed9-eafa-4b89-b045-46fa347c377e",Checked:!1},{Title:"Timona Academy c? s? ?\xE0 N?ng",id:"7c152522-3858-4669-b745-a1fd2d25ad9a",Checked:!1},{Title:"Timona Academy c? s? Nha Trang",id:"9a5cdc4d-fbbf-41c2-9222-9c01d5433148",Checked:!1},{Title:"Timona Academy c? s? Th? ??c",id:"c4a68bd5-c120-4bf0-a4d1-447e4921eb76",Checked:!1},{Title:"Timona Academy c? s? C\xE1ch M?ng Th\xE1ng 8",id:"3b9e91d5-21ac-44b2-ba01-e87ee310fdcd",Checked:!1}],Diachi:[],password:"$2b$10$YuEyU32KQxnI8JACV3/Ab.aSxLZilRAn1hcAmwBcUGJ2gp.t/7sI.",ListImage:[],Profile:[],Role:"admin",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2024-01-15T01:02:36.313Z",UpdateAt:"2024-04-09T01:23:42.000Z",DeleteAt:null,idCreate:null},{id:"b045e2e2-5c44-4bef-ba84-7cb6b14ef6a5",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"0786810434",idGroup:"e3be8e89-0530-435d-be42-29e8aef77794",Code:"935519",Hoten:"\u0110an Thanh",Avatar:"",Ngaysinh:null,email:"leadercskh.cgo@tazagroup.vn",Gioitinh:"",EditChinhanhs:[{Title:"Taza Skin Clinic ?\xE0 N?ng",id:"9887ad61-4b2c-4db1-83e6-570f33cb540a",Checked:!0},{Title:"Taza Skin Clinic Nha Trang",id:"e173b1c0-fbdb-4eeb-a00c-b56664068515",Checked:!0},{Title:"Taza Skin Clinic G\xF2 V?p",id:"268b7a06-d2c5-4c98-af1d-334144ae280f",Checked:!0},{Title:"Taza Skin Clinic Th? ??c",id:"f54de1e1-66bd-4690-8015-ad7315d6f14e",Checked:!0},{Title:"Taza Skin Clinic Qu?n 10",id:"ca725bf4-4810-4ea2-8ef2-520b2a3121cc",Checked:!0}],Diachi:[],password:"$2b$10$zimmBmMej7nv2Jpx.BH.JOQ6dSyUZIiKiHZoWBIyccflCxLqftyf2",ListImage:[],Profile:[],Role:"admin",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2023-12-14T01:51:51.061Z",UpdateAt:"2024-11-26T05:07:30.000Z",DeleteAt:null,idCreate:null},{id:"6a56a975-7244-4a50-9f2c-4b7c49b2b4ac",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"0935380828",idGroup:"4817d73d-1eba-4a57-97f1-13452e175478",Code:"515874",Hoten:"Anh S\u01A1n",Avatar:"",Ngaysinh:null,email:"sonpham.design@gmail.com",Gioitinh:"",EditChinhanhs:[{Title:"Taza Skin Clinic ?\xE0 N?ng",id:"9887ad61-4b2c-4db1-83e6-570f33cb540a",Checked:!0},{Title:"Taza Skin Clinic Nha Trang",id:"e173b1c0-fbdb-4eeb-a00c-b56664068515",Checked:!0},{Title:"Taza Skin Clinic G\xF2 V?p",id:"268b7a06-d2c5-4c98-af1d-334144ae280f",Checked:!0},{Title:"Taza Skin Clinic Th? ??c",id:"f54de1e1-66bd-4690-8015-ad7315d6f14e",Checked:!0},{Title:"Taza Skin Clinic Qu?n 10",id:"ca725bf4-4810-4ea2-8ef2-520b2a3121cc",Checked:!0}],Diachi:[],password:"$2b$10$YuEyU32KQxnI8JACV3/Ab.aSxLZilRAn1hcAmwBcUGJ2gp.t/7sI.",ListImage:[],Profile:[],Role:"admin",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2023-12-12T07:19:26.376Z",UpdateAt:"2024-05-31T07:58:02.800Z",DeleteAt:null,idCreate:null},{id:"6b6292d1-84f5-43af-920f-ea812df614a2",ref_id:"0",gid:"",fid:"",zid:"",pid:"",SDT:"0935670135",idGroup:"4817d73d-1eba-4a57-97f1-13452e175478",Code:"563050",Hoten:"Tr\u1EA7n M\u1EF9 Duy\xEAn",Avatar:"",Ngaysinh:null,email:"myduyen.cgo@tazagroup.vn",Gioitinh:"",EditChinhanhs:[{Title:"Taza Skin Clinic ?\xE0 N?ng",id:"9887ad61-4b2c-4db1-83e6-570f33cb540a",Checked:!0},{Title:"Taza Skin Clinic Nha Trang",id:"e173b1c0-fbdb-4eeb-a00c-b56664068515",Checked:!0},{Title:"Taza Skin Clinic G\xF2 V?p",id:"268b7a06-d2c5-4c98-af1d-334144ae280f",Checked:!0},{Title:"Taza Skin Clinic Th? ??c",id:"f54de1e1-66bd-4690-8015-ad7315d6f14e",Checked:!0},{Title:"Taza Skin Clinic Qu?n 10",id:"ca725bf4-4810-4ea2-8ef2-520b2a3121cc",Checked:!0}],Diachi:[],password:"$2b$10$YuEyU32KQxnI8JACV3/Ab.aSxLZilRAn1hcAmwBcUGJ2gp.t/7sI.",ListImage:[],Profile:[],Role:"admin",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2023-12-12T07:18:24.127Z",UpdateAt:"2024-05-31T07:58:38.118Z",DeleteAt:null,idCreate:null},{id:"c47af21e-5d5a-490b-95f6-e86dacc21139",ref_id:"0",gid:"103386279635221088134",fid:"",zid:"",pid:"",SDT:"0977272967",idGroup:"4817d73d-1eba-4a57-97f1-13452e175478",Code:"604815",Hoten:"Ph\u1EA1m Ch\xED Ki\u1EC7t",Avatar:"",Ngaysinh:null,email:"chikiet88@gmail.com",Gioitinh:"",EditChinhanhs:[{Title:"Taza Skin Clinic ?\xE0 N?ng",id:"9887ad61-4b2c-4db1-83e6-570f33cb540a",Checked:!0},{Title:"Taza Skin Clinic Nha Trang",id:"e173b1c0-fbdb-4eeb-a00c-b56664068515",Checked:!0},{Title:"Taza Skin Clinic G\xF2 V?p",id:"268b7a06-d2c5-4c98-af1d-334144ae280f",Checked:!0},{Title:"Taza Skin Clinic Th? ??c",id:"f54de1e1-66bd-4690-8015-ad7315d6f14e",Checked:!0},{Title:"Taza Skin Clinic Qu?n 10",id:"ca725bf4-4810-4ea2-8ef2-520b2a3121cc",Checked:!0}],Diachi:[],password:"$2b$10$PdDd7L4QuFht5iqEMWkPmeIjweFGnp3b.TCtBdZfp/Rpu7fv71hY.",ListImage:[],Profile:[],Role:"admin",Phanquyen:[],Menu:[],fcmToken:[],Type:"",Ordering:1,idDelete:!1,Status:0,CreateAt:"2023-12-11T07:57:50.473Z",UpdateAt:"2024-12-10T13:50:52.000Z",DeleteAt:null,idCreate:null}];var F=[{id:1,Title:"B\xE1o l\u1ED7i",value:"baoloi",bg:"bg-[#f44336]"},{id:2,Title:"H\u1ED7 tr\u1EE3",value:"hotro",bg:"bg-[#4caf50]"},{id:2,Title:"\u0110\u1EC1 Xu\u1EA5t",value:"dexuat",bg:"bg-[#2196f3]"},{id:3,Title:"C\xF4ng vi\u1EC7c",value:"congviec",bg:"bg-[#ff9800]"},{id:4,Title:"Kh\xE1c",value:"khac"}],ct={channels:[{id:1,name:"abc",description:"K\xEAnh h\u1ED7 tr\u1EE3 chung"}],users:[{id:1,username:"testuser",email:"test@example.com"},{id:2,username:"support_admin",email:"support@example.com"}],tickets:[{id:101,user_id:1,channel_id:1,message:"Xin ch\xE0o, t\xF4i g\u1EB7p l\u1ED7i khi \u0111\u0103ng nh\u1EADp v\xE0o h\u1EC7 th\u1ED1ng.",created_at:"2024-02-10T14:00:00Z"}],replies:[{id:201,ticket_id:101,user_id:2,message:"Ch\xE0o b\u1EA1n, b\u1EA1n c\xF3 th\u1EC3 cung c\u1EA5p \u1EA3nh ch\u1EE5p m\xE0n h\xECnh l\u1ED7i kh\xF4ng?",created_at:"2024-02-10T14:05:00Z"},{id:202,ticket_id:101,user_id:1,message:"\u0110\xE2y l\xE0 \u1EA3nh l\u1ED7i khi t\xF4i \u0111\u0103ng nh\u1EADp.",created_at:"2024-02-10T14:10:00Z",attachment:{file_name:"login_error.png",file_url:"https://example.com/files/login_error.png"}},{id:203,ticket_id:101,user_id:2,message:"C\u1EA3m \u01A1n b\u1EA1n! B\u1EA1n th\u1EED x\xF3a cache tr\xECnh duy\u1EC7t v\xE0 th\u1EED l\u1EA1i nh\xE9.",created_at:"2024-02-10T14:15:00Z"},{id:204,ticket_id:101,user_id:1,message:"T\xF4i \u0111\xE3 th\u1EED nh\u01B0ng v\u1EABn g\u1EB7p l\u1ED7i.",created_at:"2024-02-10T14:20:00Z"},{id:205,ticket_id:101,user_id:2,message:"B\u1EA1n c\xF3 th\u1EC3 th\u1EED tr\xEAn m\u1ED9t tr\xECnh duy\u1EC7t kh\xE1c ho\u1EB7c b\u1EADt ch\u1EBF \u0111\u1ED9 \u1EA9n danh?",created_at:"2024-02-10T14:25:00Z"}]};var P=class o{constructor(i,e,t){this._StorageService=i;this.platformId=e;this.router=t;this.isBrowser=H(this.platformId)}_authenticated=!1;APIURL=g.APIURL;isBrowser;ListHotro=y([]);Hotro=y({});CreateHotro(i){return f(this,null,function*(){try{let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},t=yield fetch(`${g.APIURL}/hotro`,e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);let a=yield t.json();return t.ok,this.ListHotro.update(n=>[...n,a]),this.getAllHotro(),a}catch(e){return console.error(e)}})}getAllHotro(){return f(this,null,function*(){try{let i={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this._StorageService.getItem("token")}},e=yield fetch(`${g.APIURL}/hotro?page=1&perPage=10`,i);e.ok;let t=yield e.json();return this.ListHotro.set(t.data),t.data}catch(i){return console.error(i)}})}SearchHotro(i){return f(this,null,function*(){try{let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},t=yield fetch(`${g.APIURL}/setting/search`,e);if(!t.ok)if(t.status===401){let n=JSON.stringify({code:t.status,title:"Vui l\xF2ng \u0111\u0103ng nh\u1EADp l\u1EA1i"});this.router.navigate(["/errorserver"],{queryParams:{data:n}})}else if(t.status===403){let n=JSON.stringify({code:t.status,title:"B\u1EA1n kh\xF4ng c\xF3 quy\u1EC1n truy c\u1EADp"});this.router.navigate(["/errorserver"],{queryParams:{data:n}})}else if(t.status===500){let n=JSON.stringify({code:t.status,title:"L\u1ED7i m\xE1y ch\u1EE7, vui l\xF2ng th\u1EED l\u1EA1i sau"});this.router.navigate(["/errorserver"],{queryParams:{data:n}})}else{let n=JSON.stringify({code:t.status,title:"L\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh"});this.router.navigate(["/errorserver"],{queryParams:{data:n}})}let a=yield t.json();return this.Hotro.set(a.items),a}catch(e){return console.error(e)}})}getHotroByid(i){return f(this,null,function*(){try{let e={method:"GET",headers:{"Content-Type":"application/json"}},t=yield fetch(`${g.APIURL}/hotro/findid/${i}`,e);if(!t.ok)if(t.status===401){let n=JSON.stringify({code:t.status,title:"Vui l\xF2ng \u0111\u0103ng nh\u1EADp l\u1EA1i"});this.router.navigate(["/errorserver"],{queryParams:{data:n}})}else if(t.status===403){let n=JSON.stringify({code:t.status,title:"B\u1EA1n kh\xF4ng c\xF3 quy\u1EC1n truy c\u1EADp"});this.router.navigate(["/errorserver"],{queryParams:{data:n}})}else if(t.status===500){let n=JSON.stringify({code:t.status,title:"L\u1ED7i m\xE1y ch\u1EE7, vui l\xF2ng th\u1EED l\u1EA1i sau"});this.router.navigate(["/errorserver"],{queryParams:{data:n}})}else{let n=JSON.stringify({code:t.status,title:"L\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh"});this.router.navigate(["/errorserver"],{queryParams:{data:n}})}let a=yield t.json();return this.Hotro.set(a),a}catch(e){return console.error(e)}})}updateOneHotro(i){return f(this,null,function*(){try{let e={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},t=yield fetch(`${g.APIURL}/hotro/${i.id}`,e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);let a=yield t.json();return t.ok,this.getAllHotro(),a}catch(e){return console.error(e)}})}DeleteHotro(i){return f(this,null,function*(){try{let e={method:"DELETE",headers:{"Content-Type":"application/json"}},t=yield fetch(`${g.APIURL}/hotro/${i.id}`,e);if(!t.ok)if(t.status===401){let a=JSON.stringify({code:t.status,title:"Vui l\xF2ng \u0111\u0103ng nh\u1EADp l\u1EA1i"});this.router.navigate(["/errorserver"],{queryParams:{data:a}})}else if(t.status===403){let a=JSON.stringify({code:t.status,title:"B\u1EA1n kh\xF4ng c\xF3 quy\u1EC1n truy c\u1EADp"});this.router.navigate(["/errorserver"],{queryParams:{data:a}})}else if(t.status===500){let a=JSON.stringify({code:t.status,title:"L\u1ED7i m\xE1y ch\u1EE7, vui l\xF2ng th\u1EED l\u1EA1i sau"});this.router.navigate(["/errorserver"],{queryParams:{data:a}})}else{let a=JSON.stringify({code:t.status,title:"L\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh"});this.router.navigate(["/errorserver"],{queryParams:{data:a}})}return this.getAllHotro(),yield t.json()}catch(e){return console.error(e)}})}static \u0275fac=function(e){return new(e||o)(b(me),b(v),b(I))};static \u0275prov=G({token:o,factory:o.\u0275fac,providedIn:"root"})};var We=["drawer"],Ye=o=>[o],Ue=()=>({standalone:!0}),Je=(o,i)=>i.id;function Xe(o,i){if(o&1){let e=_();r(0,"div",8)(1,"mat-form-field",16)(2,"mat-label"),s(3,"T\xECm Ki\u1EBFm"),l(),r(4,"input",17,2),p("keyup",function(a){u(e);let n=d();return m(n.applyFilter(a))}),l()(),r(6,"button",18),p("click",function(){u(e);let a=d();return m(a.isSearch=!a.isSearch)}),r(7,"mat-icon"),s(8,"close"),l()()()}}function et(o,i){if(o&1){let e=_();r(0,"div",19)(1,"button",20),p("click",function(){u(e);let a=d(),n=O(18);return m(a.openCreateDialog(n))}),r(2,"mat-icon"),s(3,"add_circle"),l()(),r(4,"button",21),p("click",function(){u(e);let a=d();return m(a.isSearch=!a.isSearch)}),r(5,"mat-icon"),s(6,"search"),l()(),r(7,"button",22),p("click",function(){u(e);let a=d();return m(a.writeExcelFile())}),r(8,"mat-icon"),s(9,"file_download"),l()(),r(10,"button",23),p("click",function(){u(e);let a=O(14);return m(a.click())}),r(11,"mat-icon"),s(12,"file_upload"),l()(),r(13,"input",24,3),p("change",function(a){u(e);let n=d();return m(n.readExcelFile(a))}),l(),r(15,"button",25),p("click",function(){u(e);let a=d();return m(a.LoadDrive())}),r(16,"mat-icon"),s(17,"cloud_download"),l()()()}}function tt(o,i){if(o&1){let e=_();r(0,"div",26),p("click",function(){let a=u(e).$implicit,n=d();return m(n.FilterType(a))}),s(1),l()}if(o&2){let e,t,a=i.$implicit,n=d();w("whitespace-nowrap rounded-lg p-1 text-white ",((e=n.GetNameType(a.value))==null?null:e.bg)||"bg-slate-600",""),c(),J(" ",((t=n.GetNameType(a.value))==null?null:t.Title)||"Kh\xF4ng c\xF3 m\xF4 t\u1EA3"," (",n.CountListType(a),") ")}}function it(o,i){if(o&1&&E(0,"img",27),o&2){let e=d().$implicit;j("src",e==null||e.Nguoitao==null||e.Nguoitao.avatar==null?null:e.Nguoitao.avatar.url,N)}}function at(o,i){o&1&&(r(0,"span",28),s(1," account_circle"),l())}function nt(o,i){if(o&1&&(r(0,"a",14),x(1,it,1,1,"img",27)(2,at,2,0,"span",28),r(3,"div",29)(4,"div",30)(5,"div",31),s(6),l(),r(7,"div",31),s(8),K(9,"date"),l()(),r(10,"div",32),s(11),l(),r(12,"div")(13,"span"),s(14),l()()()()),o&2){let e,t,a=i.$implicit,n=d();h("href",Q(13,Ye,"admin/hotro"+a.id),N)("routerLink",a.id),c(),Z(!(a==null||a.Nguoitao==null)&&a.Nguoitao.avatar?1:2),c(5),C((a==null?null:a.Hoten)||"Ch\u01B0a C\xF3 T\xEAn"),c(2),C(W(9,10,a==null?null:a.CreateAt,"dd/MM/yyyy")),c(3),C(a.Title),c(2),w("rounded-lg p-1 text-white ",((e=n.GetNameType(a.Type))==null?null:e.bg)||"bg-slate-600",""),c(),C(((t=n.GetNameType(a.Type))==null?null:t.Title)||"Kh\xF4ng c\xF3 m\xF4 t\u1EA3")}}function rt(o,i){o&1&&(r(0,"div",15),s(1,"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u."),l())}function ot(o,i){if(o&1&&(r(0,"mat-option",41),s(1),l()),o&2){let e=i.$implicit;h("value",e.value),c(),C(e.Title)}}function lt(o,i){o&1&&(r(0,"div",15),s(1,"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u."),l())}function st(o,i){if(o&1){let e=_();r(0,"h2",33),s(1,"T\u1EA1o M\u1EDBi H\u1ED7 Tr\u1EE3"),l(),r(2,"mat-dialog-content")(3,"div",34)(4,"mat-form-field",16)(5,"mat-label"),s(6,"Ti\xEAu \u0110\u1EC1"),l(),r(7,"input",35),R("ngModelChange",function(a){u(e);let n=d();return V(n.Detail.Title,a)||(n.Detail.Title=a),m(a)}),l()(),r(8,"mat-form-field",16)(9,"mat-label"),s(10,"Danh M\u1EE5c"),l(),r(11,"mat-select",36),R("ngModelChange",function(a){u(e);let n=d();return V(n.Detail.Type,a)||(n.Detail.Type=a),m(a)}),r(12,"div",37)(13,"mat-form-field",38)(14,"input",39),p("input",function(a){u(e);let n=d();return m(n.DoFindKhachhang(a))}),l()(),r(15,"div",40),k(16,ot,2,2,"mat-option",41,Je,!1,lt,2,0,"div",15),l()()()()()(),r(19,"mat-dialog-actions",42)(20,"button",43),s(21,"\u0110\xF3ng"),l(),r(22,"button",44),p("click",function(){u(e);let a=d();return m(a.create())}),s(23,"T\u1EA1o"),l()()}if(o&2){let e=d();c(7),z("ngModel",e.Detail.Title),h("ngModelOptions",B(5,Ue)),c(4),z("ngModel",e.Detail.Type),h("ngModelOptions",B(6,Ue)),c(5),A(e.FilterListType)}}var je=class o{constructor(i,e,t){this._breakpointObserver=i;this._router=e;this.platformId=t;H(this.platformId)&&(this.FilterColumns=JSON.parse(localStorage.getItem("hotro_FilterColumns")||"[]")),this._AdminmainComponent.drawer1.close(),this._AdminmainComponent.drawer.close(),this._AdminmainComponent.drawer.mode="over"}Detail={Type:"baoloi"};dataSource;displayedColumns=[];ColumnName={STT:"STT"};FilterColumns=[];Columns=[];ListHotro=y([]);InitHotro=[];CountItem=0;isFullScreen=!1;profile={};paginator;sort;drawer;_hotrosService=T(P);_UserService=T(pe);_AdminmainComponent=T(Oe);_snackBar=T(ue);ngOnInit(){return f(this,null,function*(){this.profile=yield this._UserService.getProfile(),yield this._hotrosService.getAllHotro(),this.ListHotro=this._hotrosService.ListHotro,this.InitHotro=this.ListHotro(),this.initializeColumns(),this.setupDataSource(),this.setupDrawer()})}initializeColumns(){this.Columns=Object.keys($[0]).map(i=>({key:i,value:$[0][i],isShow:!0})),this.FilterColumns.length===0?this.FilterColumns=this.Columns:localStorage.setItem("hotro_FilterColumns",JSON.stringify(this.FilterColumns)),this.displayedColumns=this.FilterColumns.filter(i=>i.isShow).map(i=>i.key),this.ColumnName=this.FilterColumns.reduce((i,e)=>(e.isShow&&(i[e.key]=e.value),i),{})}setupDataSource(){this.dataSource=new Ze(this.ListHotro().slice(1).map(i=>this.FilterColumns.filter(e=>e.isShow).reduce((e,t)=>(e[t.key]=i[t.key],e),{}))),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.paginator&&(this.paginator._intl.itemsPerPageLabel="S\u1ED1 l\u01B0\u1EE3ng 1 trang",this.paginator._intl.nextPageLabel="Ti\u1EBFp Theo",this.paginator._intl.previousPageLabel="V\u1EC1 Tr\u01B0\u1EDBc",this.paginator._intl.firstPageLabel="Trang \u0110\u1EA7u",this.paginator._intl.lastPageLabel="Trang Cu\u1ED1i")}setupDrawer(){this._breakpointObserver.observe([oe.Handset]).subscribe(i=>{i.matches?this.drawer.mode="side":this.drawer.mode="side"})}toggleColumn(i){let e=this.FilterColumns.find(t=>t.key===i.key);e&&(e.isShow=!e.isShow,this.updateDisplayedColumns())}updateDisplayedColumns(){this.displayedColumns=this.FilterColumns.filter(i=>i.isShow).map(i=>i.key),this.ColumnName=this.FilterColumns.reduce((i,e)=>(e.isShow&&(i[e.key]=e.value),i),{}),this.setupDataSource(),localStorage.setItem("hotro_FilterColumns",JSON.stringify(this.FilterColumns))}doFilterColumns(i){let e=i.target.value.toLowerCase();this.FilterColumns=this.Columns.filter(t=>t.value.toLowerCase().includes(e))}applyFilter(i){let e=i.target.value;this.dataSource.filter=e.trim().toLowerCase(),console.log(this.dataSource),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}create(){return f(this,null,function*(){if(!this.Detail.Title||this.Detail.Title=="")this._snackBar.open("Vui l\xF2ng nh\u1EADp ti\xEAu \u0111\u1EC1","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-warning"]});else{this.Detail.idCreate=this.profile.id;let i=yield this._hotrosService.CreateHotro(this.Detail);this.dialogCreateRef.close(),this.Detail={Type:"baoloi"},this._router.navigate(["admin/hotro",i.id])}})}dialog=T(xe);dialogCreateRef;openCreateDialog(i){this.dialogCreateRef=this.dialog.open(i,{hasBackdrop:!0,disableClose:!0})}FilterListType=F;GetNameType(i){return F.find(t=>t.value===i)}FilterType(i){this.ListHotro.set(this.InitHotro.filter(e=>e.Type===i.value))}CountListType(i){return this.InitHotro.filter(e=>e.Type===i.value).length}DoFindKhachhang(i){let e=i.target.value.toLowerCase();this.FilterListType=F.filter(t=>t.Title.toLowerCase().includes(e))}applyFilterType(i){let e=i.value;this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}isSearch=!1;writeExcelFile(){}readExcelFile(i){}LoadDrive(){}static \u0275fac=function(e){return new(e||o)(S(re),S(I),S(v))};static \u0275cmp=q({type:o,selectors:[["app-listhotro"]],viewQuery:function(e,t){if(e&1&&(L(Re,5),L($e,5),L(We,7)),e&2){let a;D(a=M())&&(t.paginator=a.first),D(a=M())&&(t.sort=a.first),D(a=M())&&(t.drawer=a.first)}},decls:19,vars:7,consts:[["drawer",""],["dialogCreateTemplate",""],["input",""],["uploadfile",""],["autosize","",1,"w-full","h-full"],[3,"position"],[1,"flex","flex-col","space-y-2","h-screen-16","w-full","justify-between"],[1,"relative","flex","flex-col","space-y-2","w-full","h-full","p-2"],[1,"w-full","flex","flex-row","space-x-2","items-center"],["class","w-full flex flex-row space-x-2 items-center",4,"ngIf"],["class","flex flex-row space-x-2 items-center",4,"ngIf"],[1,"flex","flex-row","space-x-2","items-center","cursor-pointer"],[3,"class"],[1,"relative","w-full","overflow-auto","cursor-pointer"],["routerLinkActive","bg-slate-100",1,"flex","flex-row","space-x-2","items-center","hover:bg-slate-100","rounded-lg",3,"href","routerLink"],[1,"p-2","text-center","text-red-700","font-bold"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","",1,"!rounded-lg",3,"keyup"],["matTooltip","\u0110\xF3ng","color","primary","mat-icon-button","",3,"click"],[1,"flex","flex-row","space-x-2","items-center"],["matTooltip","Th\xEAm m\u1EDBi","color","primary","mat-icon-button","",3,"click"],["matTooltip","T\xECm Ki\u1EBFm","color","primary","mat-icon-button","",3,"click"],["matTooltip","T\u1EA3i file excel M\u1EABu","color","primary","mat-icon-button","",3,"click"],["matTooltip","T\u1EA3i l\xEAn file excel","color","primary","mat-icon-button","",3,"click"],["type","file",1,"hidden",3,"change"],["matTooltip","T\u1EA3i d\u1EEF li\u1EC7u t\u1EEB drive","color","primary","mat-icon-button","",3,"click"],[3,"click"],[1,"w-8","h-8","rounded-full",3,"src"],[1,"text-[48px]","material-symbols-outlined"],[1,"w-full","flex","flex-col","space-y-1","p-2"],[1,"w-full","flex","flex-row","items-center","space-x-2","justify-between"],[1,"text-xs","italic"],[1,"font-bold"],["mat-dialog-title",""],[1,"lg:min-w-[400px]","w-full","h-full","flex","flex-col","space-y-8","items-center","p-4"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp Ti\xEAu \u0110\u1EC1",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngModelChange","ngModel","ngModelOptions"],[1,"w-full","flex","flex-col"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","p-2"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"input"],[1,"overflow-y-auto","max-h-44"],[3,"value"],["align","end"],["mat-flat-button","","color","warn","mat-dialog-close","false"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,t){e&1&&(r(0,"mat-drawer-container",4)(1,"mat-drawer",5,0),E(3,"router-outlet"),l(),r(4,"div",6)(5,"div",7)(6,"div",8),x(7,Xe,9,0,"div",9)(8,et,18,0,"div",10),l(),r(9,"div",11),k(10,tt,2,5,"div",12,Je),l(),r(12,"div",13),k(13,nt,15,15,"a",14,U,!1,rt,2,0,"div",15),E(16,"div"),l()()()(),x(17,st,24,7,"ng-template",null,1,Y)),e&2&&(c(),w("flex flex-col ",t.isFullScreen?"lg:!w-full":"lg:!w-2/3"," !w-screen h-full"),h("position","end"),c(6),h("ngIf",t.isSearch),c(),h("ngIf",!t.isSearch),c(2),A(t.FilterListType),c(3),A(t.ListHotro()))},dependencies:[He,Me,De,Fe,Ie,qe,Ge,Be,ye,ge,fe,he,ie,Ce,Te,de,se,ce,Ne,Pe,le,te,X,ee,Se,_e,be,ve,ae,ne,Le,we,ke,Ee,Ae,Ve,ze],encapsulation:2,changeDetection:0})};export{$ as a,F as b,ct as c,P as d,je as e};

import{a as E}from"./chunk-D3WMENKG.js";import{a as w,b as O}from"./chunk-DM6V63YS.js";import{a as S}from"./chunk-TGE3Q4PP.js";import"./chunk-DR4ODI6B.js";import"./chunk-JNVUT6FC.js";import{d as x}from"./chunk-G4LL5VCW.js";import{b as D}from"./chunk-ICUFHBRR.js";import{n as M,v as T,y as C}from"./chunk-VHS3IPDU.js";import"./chunk-EZX2WGQN.js";import{a as y}from"./chunk-VUZTNYK4.js";import"./chunk-REAWTH4A.js";import"./chunk-OX537TJT.js";import"./chunk-D4DZ4OD4.js";import{e as b}from"./chunk-JPSOFPPM.js";import"./chunk-2PPFUFFT.js";import"./chunk-NQNNJGTR.js";import"./chunk-CESPK7AW.js";import"./chunk-QNTBMZNO.js";import{u as v}from"./chunk-VXEGRUUB.js";import{Dc as h,Eb as f,Vb as i,dc as n,ec as r,fc as p,oa as l,rb as o}from"./chunk-PRJD77D5.js";import"./chunk-EU2KAMEK.js";import{a as u,b as g,j as s}from"./chunk-6DYNGEAS.js";var A=class d{_PhieugiaohangService=l(S);_SearchService=l(E);selectedFile;ketqua=[];isLoading=!1;uploadMessage="";sampleAreaChartOptions;sampleAreaChartOptions2;sampleSeriesData;sampleCategories;constructor(){this.sampleAreaChartOptions={series:[{name:"Doanh s\u1ED1 Mi\u1EC1n B\u1EAFc",data:this.generateRandomData(12)},{name:"Doanh s\u1ED1 Mi\u1EC1n Nam",data:this.generateRandomData(12)}],chart:{height:400,type:"area",events:{dataPointSelection:(t,e,a)=>{console.log("Click v\xE0o \u0111i\u1EC3m:",a.w.globals.labels[a.dataPointIndex],a.w.globals.series[a.seriesIndex][a.dataPointIndex])}}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},xaxis:{type:"category",categories:["Th\xE1ng 1","Th\xE1ng 2","Th\xE1ng 3","Th\xE1ng 4","Th\xE1ng 5","Th\xE1ng 6","Th\xE1ng 7","Th\xE1ng 8","Th\xE1ng 9","Th\xE1ng 10","Th\xE1ng 11","Th\xE1ng 12"]},yaxis:{title:{text:"Tri\u1EC7u \u0111\u1ED3ng"},min:0},tooltip:{x:{format:"MMMM"},y:{formatter:function(t){return t+" tri\u1EC7u"}}},title:{text:"Bi\u1EC3u \u0111\u1ED3 Doanh s\u1ED1 V\xF9ng Mi\u1EC1n N\u0103m 2025",align:"center",style:{fontSize:"16px",fontWeight:"bold",color:"#263238"}},legend:{position:"top"}},this.sampleSeriesData=[{name:"L\u01B0u l\u01B0\u1EE3ng truy c\u1EADp",data:this.generateRandomData(7,1e3,5e3)}],this.sampleCategories=["T2","T3","T4","T5","T6","T7","CN"],this.sampleAreaChartOptions2={series:this.sampleSeriesData,xaxis:{categories:this.sampleCategories},yaxis:{title:{text:"L\u01B0\u1EE3t truy c\u1EADp"}},title:{text:"Truy c\u1EADp Website Tu\u1EA7n N\xE0y"},chart:{height:300,type:"area"}}}generateRandomData(t,e=10,a=100){let m=[];for(let c=0;c<t;c++)m.push(Math.floor(Math.random()*(a-e+1))+e);return m}updateChartData(){console.log("C\u1EADp nh\u1EADt d\u1EEF li\u1EC7u bi\u1EC3u \u0111\u1ED3 1...");let t=[{name:"Doanh s\u1ED1 Mi\u1EC1n B\u1EAFc",data:this.generateRandomData(12)},{name:"Doanh s\u1ED1 Mi\u1EC1n Nam",data:this.generateRandomData(12)}];this.sampleAreaChartOptions=g(u({},this.sampleAreaChartOptions),{series:t})}onFileSelected(t){this.selectedFile=t.target.files[0],this.uploadMessage="",this.uploadFile()}uploadFile(){return s(this,null,function*(){if(!this.selectedFile){alert("Ch\u1ECDn file tr\u01B0\u1EDBc khi upload!");return}this.isLoading=!0,this.uploadMessage="";let t=new FormData;t.append("file",this.selectedFile);try{let e=yield fetch(`${y.APIURL}/googledrive/upload`,{method:"POST",body:t});if(!e.ok)throw new Error(`L\u1ED7i upload: ${e.statusText}`);let a=yield e.json();this.ketqua=a.jsonData,this.uploadMessage="Upload th\xE0nh c\xF4ng!",console.log("Upload th\xE0nh c\xF4ng",a)}catch(e){this.uploadMessage="L\u1ED7i khi upload file!",console.error("L\u1ED7i upload file",e)}finally{this.isLoading=!1}})}ngOnInit(){return s(this,null,function*(){})}static \u0275fac=function(e){return new(e||d)};static \u0275cmp=f({type:d,selectors:[["app-dashboard"]],decls:15,vars:13,consts:[[1,"w-full","flex","flex-col","space-y-2","py-4","items-center","text-center"],[1,"flex","flex-row","space-x-2","justify-center","items-center"],[1,"font-bold","text-xl"],[1,"material-symbols-outlined"],[1,"w-full","lg:p-8","p-2","bg-gray-100","h-screen-16","overflow-auto"],[1,"w-full","flex","flex-col","gap-4","mx-auto"],[1,"grid","lg:grid-cols-3","gap-4"],[3,"title","value","type"],[1,"grid","lg:grid-cols-2","gap-4"],[3,"title","chartOptions"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"span",2),h(3,"Dashboard"),r(),n(4,"span",3),h(5,"wand_stars"),r()(),n(6,"div",4)(7,"div",5)(8,"div",6),p(9,"app-dashboardblock",7)(10,"app-dashboardblock",7)(11,"app-dashboardblock",7),r(),n(12,"div",8),p(13,"app-revenuechart",9)(14,"app-revenuechart",9),r()()()()),e&2&&(o(9),i("title","T\u1ED5ng Doanh Thu")("value",123456789)("type","value"),o(),i("title","T\u1ED5ng S\u1ED1 \u0110\u01A1n H\xE0ng")("value",1500)("type","percent"),o(),i("title","Kh\xE1ch H\xE0ng M\u1EDBi")("value",300)("type","percent"),o(2),i("title","Doanh Thu Th\xE1ng N\xE0y")("chartOptions",a.sampleAreaChartOptions2),o(),i("title","Tr\u1EA1ng Th\xE1i \u0110\u01A1n h\xE0ng")("chartOptions",a.sampleAreaChartOptions2))},dependencies:[T,C,M,v,b,D,x,w,O],encapsulation:2})};export{A as DashboardComponent};

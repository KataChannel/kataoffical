import{a as _i}from"./chunk-ZEYFBF7A.js";import{a as mi}from"./chunk-SLGQHX5Z.js";import{a as ui,b as gi}from"./chunk-RZ47IOIQ.js";import{b as li}from"./chunk-AWJKX6IW.js";import{a as di}from"./chunk-WUZXOBIH.js";import{a as si}from"./chunk-J43VCBPK.js";import{a as pi}from"./chunk-ERNKDKPF.js";import{a as hi}from"./chunk-TBE3XWMK.js";import{c as fe}from"./chunk-HSLPQX6Q.js";import{a as ci,b as gt}from"./chunk-NULFSBS2.js";import{c as Ce,d as we,e as Ee,f as Se,g as De,h as ke}from"./chunk-KWF6NTU7.js";import{a as ai,b as ni,c as oi,k as ri}from"./chunk-OFMSACH6.js";import{c as ei,g as ii}from"./chunk-UECSKQ7N.js";import{a as Be,b as Ve,c as Ne,d as Ke,e as tt,f as ze,g as He,h as $e,i as Qe,j as je,l as qe,m as Ge,o as We,p as Ye,r as Ue,s as Xe,u as Je,v as Ze,w as ti,x as ut}from"./chunk-BK24SOXI.js";import{a as le,b as se,c as de}from"./chunk-6UERAJNY.js";import{a as Pe,b as Oe}from"./chunk-SWUAFBUB.js";import{a as Mi}from"./chunk-JNVUT6FC.js";import{a as me,b as ue,c as ge,d as _e}from"./chunk-SVYZPKTA.js";import{a as pe,b as he}from"./chunk-OGHN3QAY.js";import{b as ve,g as ye,j as be,n as xe,p as Ie,r as Me,s as Te,v as Fe,w as Le,y as Ae,z as Re}from"./chunk-ZQQOZBR4.js";import{a as ce}from"./chunk-QYNNMSGC.js";import{a as ne,c as oe,e as re}from"./chunk-IOJQUGFG.js";import{M as Ut,P as Xt,U as ht,_ as Jt,aa as Zt,ba as mt,ca as te,ea as ee,ja as ie,l as pt,m as Gt,na as ae,y as Wt,z as Yt}from"./chunk-TELW7EVD.js";import{b as jt,c as qt}from"./chunk-73ZEMMRK.js";import{d as Nt,k as Kt,l as zt,m as Ht,r as $t,u as Qt}from"./chunk-I4EX477C.js";import{$b as kt,Aa as u,Ac as V,Bc as w,Cc as E,Fa as xt,G as yt,Gb as Y,Gc as I,Hb as Et,Hc as l,Ib as St,Ic as b,Jc as y,Kc as q,La as ot,Lc as dt,Ma as Ct,Mb as ct,Mc as L,Nb as C,Nc as A,Oc as R,Pc as At,Qa as rt,Qc as X,Sc as Rt,Vc as Pt,Wb as lt,Wc as J,Xb as h,Yc as Z,Za as wt,Zb as st,_b as Dt,_c as G,cc as k,ec as It,ed as Ot,fc as O,g as nt,gc as B,hc as n,ic as o,jc as S,jd as $,kc as Mt,kd as Bt,la as bt,lc as Tt,na as H,nc as D,nd as Vt,oc as Ft,qa as f,sc as g,tb as s,uc as p,vc as Lt,wc as U,za as m,zc as N}from"./chunk-JNMBO34G.js";import{a as ft,b as vt,g as Ii,h as W,j as F}from"./chunk-6DYNGEAS.js";var M=Ii(Mi());var Fi=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Li=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Ai(r,i){r&1&&(n(0,"span",3),U(1,1),o())}function Ri(r,i){r&1&&(n(0,"span",6),U(1,2),o())}var Pi=new H("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),fi=new H("MatChipAvatar"),vi=new H("MatChipTrailingIcon"),yi=new H("MatChipRemove"),Ci=new H("MatChip"),bi=(()=>{class r{_elementRef=f(rt);_parentChip=f(Ci);isInteractive=!0;_isPrimary=!0;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(t){this._disabled=t}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(){f(pt).load(mt),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=function(e){return new(e||r)};static \u0275dir=St({type:r,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(e,a){e&1&&g("click",function(d){return a._handleClick(d)})("keydown",function(d){return a._handleKeydown(d)}),e&2&&(lt("tabindex",a._getTabindex())("disabled",a._getDisabledAttribute())("aria-disabled",a.disabled),st("mdc-evolution-chip__action--primary",a._isPrimary)("mdc-evolution-chip__action--presentational",!a.isInteractive)("mdc-evolution-chip__action--trailing",!a._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",$],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?-1:Bt(t)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[ct]})}return r})();var wi=(()=>{class r{_changeDetectorRef=f(Ot);_elementRef=f(rt);_ngZone=f(Ct);_focusMonitor=f(Ut);_globalRippleOptions=f(te,{optional:!0});_document=f(Nt);_onFocus=new nt;_onBlur=new nt;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled;_allLeadingIcons;_allTrailingIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=f(Xt).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_ariaDescriptionId=`${this.id}-aria-description`;_chipListDisabled=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(t){this._disabled=t}_disabled=!1;removed=new ot;destroyed=new ot;basicChipAttrName="mat-basic-chip";leadingIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=f(ae);_injector=f(xt);constructor(){let t=f(pt);t.load(mt),t.load(Gt);let e=f(wt,{optional:!0});this._animationsDisabled=e==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let t=this._elementRef.nativeElement;this._isBasicChip=t.hasAttribute(this.basicChipAttrName)||t.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=yt(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(t){(t.keyCode===8&&!t.repeat||t.keyCode===46)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(e=>{let a=e._elementRef.nativeElement;return a===t||a.contains(t)})}_getActions(){let t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{let e=t!==null;e!==this._hasFocusInternal&&(this._hasFocusInternal=e,e?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Y({type:r,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,a,c){if(e&1&&(N(c,fi,5),N(c,vi,5),N(c,yi,5),N(c,fi,5),N(c,vi,5),N(c,yi,5)),e&2){let d;w(d=E())&&(a.leadingIcon=d.first),w(d=E())&&(a.trailingIcon=d.first),w(d=E())&&(a.removeIcon=d.first),w(d=E())&&(a._allLeadingIcons=d),w(d=E())&&(a._allTrailingIcons=d),w(d=E())&&(a._allRemoveIcons=d)}},viewQuery:function(e,a){if(e&1&&V(bi,5),e&2){let c;w(c=E())&&(a.primaryAction=c.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(e,a){e&1&&g("keydown",function(d){return a._handleKeydown(d)}),e&2&&(Ft("id",a.id),lt("role",a.role)("aria-label",a.ariaLabel),Dt("mat-"+(a.color||"primary")),st("mdc-evolution-chip",!a._isBasicChip)("mdc-evolution-chip--disabled",a.disabled)("mdc-evolution-chip--with-trailing-action",a._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",a.leadingIcon)("mdc-evolution-chip--with-primary-icon",a.leadingIcon)("mdc-evolution-chip--with-avatar",a.leadingIcon)("mat-mdc-chip-with-avatar",a.leadingIcon)("mat-mdc-chip-highlighted",a.highlighted)("mat-mdc-chip-disabled",a.disabled)("mat-mdc-basic-chip",a._isBasicChip)("mat-mdc-standard-chip",!a._isBasicChip)("mat-mdc-chip-with-trailing-icon",a._hasTrailingIcon())("_mat-animation-noopable",a._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",$],highlighted:[2,"highlighted","highlighted",$],disableRipple:[2,"disableRipple","disableRipple",$],disabled:[2,"disabled","disabled",$]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[At([{provide:Ci,useExisting:r}]),ct],ngContentSelectors:Li,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,a){e&1&&(Lt(Fi),S(0,"span",0),n(1,"span",1)(2,"span",2),C(3,Ai,2,0,"span",3),n(4,"span",4),U(5),S(6,"span",5),o()()(),C(7,Ri,2,0,"span",6)),e&2&&(s(2),h("isInteractive",!1),s(),k(a.leadingIcon?3:-1),s(4),k(a._hasTrailingIcon()?7:-1))},dependencies:[bi],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})();var Ei=(()=>{class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=Et({type:r});static \u0275inj=bt({providers:[Zt,{provide:Pi,useValue:{separatorKeyCodes:[13]}}],imports:[ht,ee,ht]})}return r})();var Bi=["drawer"],Vi=["dialogImportExcel"],Ni=["dialogImportExcelCu"],_t=()=>({standalone:!0}),Ki=(r,i,t,e,a)=>({"text-blue-500":r,"text-yellow-500":i,"text-green-500":t,"text-purple-500":e,"text-red-500":a}),zi=(r,i)=>({"text-green-600 font-semibold":r,"text-yellow-600 font-semibold":i}),Hi=(r,i)=>i.key,et=(r,i)=>i.id,$i=(r,i)=>(i.sanpham==null?null:i.sanpham.id)||r;function Qi(r,i){if(r&1){let t=D();n(0,"button",54),g("click",function(a){let c=m(t).$implicit;return p().toggleColumn(c),u(a.stopPropagation())}),n(1,"mat-icon"),l(2),o(),n(3,"span"),l(4),o()()}if(r&2){let t=i.$implicit;s(2),b(t.isShow?"check_box":"check_box_outline_blank"),s(2),b(t.value)}}function ji(r,i){if(r&1){let t=D();n(0,"button",57),g("click",function(){m(t);let a=p(2),c=I(97);return u(a.openDeleteDialog(c))}),n(1,"mat-icon"),l(2,"delete"),o(),n(3,"span",24),l(4,"Xo\xE1"),o()()}}function qi(r,i){if(r&1){let t=D();n(0,"button",58),g("click",function(){m(t);let a=p(2);return u(a.DoDanhan())}),n(1,"span",24),l(2,"\u0110\xE3 Nh\u1EADn"),o()()}}function Gi(r,i){if(r&1&&C(0,ji,5,0,"button",55)(1,qi,3,0,"button",56),r&2){let t=p();h("ngIf",t.EditList.length>0),s(),h("ngIf",t.EditList.length>0)}}function Wi(r,i){if(r&1&&(n(0,"th",61)(1,"span",62),l(2),o()()),r&2){let t=p().$implicit,e=p();s(2),y(" ",e.ColumnName[t]," ")}}function Yi(r,i){if(r&1&&(n(0,"span",64),l(1),o()),r&2){let t=p().index;s(),y(" ",t+1," ")}}function Ui(r,i){if(r&1){let t=D();n(0,"span",68),g("click",function(){m(t);let a=p().$implicit,c=p(2);return u(c.goToDetail(a))}),l(1),o()}if(r&2){let t=p().$implicit,e=p().$implicit;s(),y(" ",t[e]," ")}}function Xi(r,i){if(r&1&&(n(0,"span",64),l(1),o()),r&2){let t=p().$implicit,e=p().$implicit;s(),y(" ",t[e].length," ")}}function Ji(r,i){if(r&1&&(n(0,"span",64),l(1),o()),r&2){let t=p().$implicit,e=p().$implicit;s(),q(" (",t[e].mancc,") ",t[e].name," ")}}function Zi(r,i){if(r&1&&(n(0,"span",66),l(1),J(2,"date"),o()),r&2){let t=p().$implicit,e=p().$implicit;s(),y(" ",Z(2,1,t[e],"HH:mm:ss dd/MM/yyyy")," ")}}function ta(r,i){if(r&1&&(n(0,"span",66),l(1),J(2,"date"),o()),r&2){let t=p().$implicit,e=p().$implicit;s(),y(" ",Z(2,1,t[e],"HH:mm:ss dd/MM/yyyy")," ")}}function ea(r,i){if(r&1&&(n(0,"span",67),l(1),o()),r&2){let t=p().$implicit,e=p().$implicit,a=p();h("ngClass",Pt(2,Ki,t[e]==="dadat",t[e]==="dagiao",t[e]==="danhan",t[e]==="hoanthanh",t[e]==="huy")),s(),y(" ",a.Trangthaidon[t[e]]," ")}}function ia(r,i){r&1&&(n(0,"mat-icon",69),l(1,"check_circle"),o())}function aa(r,i){r&1&&(n(0,"mat-icon",70),l(1,"cancel"),o())}function na(r,i){if(r&1&&(n(0,"span",64),C(1,ia,2,0,"mat-icon",69)(2,aa,2,0,"mat-icon",70),o()),r&2){let t=p().$implicit,e=p().$implicit;s(),k(t[e]?1:2)}}function oa(r,i){if(r&1&&(n(0,"span",66),l(1),J(2,"date"),o()),r&2){let t=p().$implicit,e=p().$implicit;s(),y(" ",Z(2,1,t[e],"HH:mm:ss dd/MM/yyyy")," ")}}function ra(r,i){r&1&&S(0,"span",64)}function ca(r,i){if(r&1&&(n(0,"span",64),l(1),o()),r&2){let t=p().$implicit,e=p().$implicit;s(),y(" ",t[e]," ")}}function la(r,i){if(r&1&&(n(0,"td",63),C(1,Yi,2,1,"span",64)(2,Ui,2,1,"span",65)(3,Xi,2,1,"span",64)(4,Ji,2,2,"span",64)(5,Zi,3,4,"span",66)(6,ta,3,4,"span",66)(7,ea,2,8,"span",67)(8,na,3,1,"span",64)(9,oa,3,4,"span",66)(10,ra,1,0,"span",64)(11,ca,2,1,"span",64),o()),r&2){let t,e=p().$implicit;s(),k((t=e)==="STT"?1:t==="madncc"?2:t==="sanpham"?3:t==="nhacungcap"?4:t==="ngaynhan"?5:t==="createdAt"?6:t==="status"?7:t==="isActive"?8:t==="updatedAt"?9:t==="action"?10:11)}}function sa(r,i){if(r&1&&(Mt(0,40),C(1,Wi,3,1,"th",59)(2,la,12,1,"td",60),Tt()),r&2){let t=i.$implicit;h("matColumnDef",t)}}function da(r,i){r&1&&S(0,"tr",71)}function pa(r,i){if(r&1){let t=D();n(0,"tr",72),g("click",function(){let a=m(t).$implicit,c=p();return u(c.AddToEdit(a))}),o()}if(r&2){let t=i.$implicit,e=p();kt("hover:bg-slate-100 ",e.CheckItemInEdit(t)?"!bg-slate-200":"","")}}function ha(r,i){r&1&&(n(0,"tr",73)(1,"td",74),l(2,"Kh\xF4ng t\xECm th\u1EA5y"),o()())}function ma(r,i){r&1&&(n(0,"mat-dialog-content")(1,"div",75)(2,"div",76),l(3,"X\xE1c Nh\u1EADn"),o(),n(4,"div"),l(5,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),o(),n(6,"div",77)(7,"button",78),l(8,"\u0110\u1ED3ng \xDD"),o(),n(9,"button",79),l(10,"Hu\u1EF7 B\u1ECF"),o()()()())}function ua(r,i){r&1&&(n(0,"mat-dialog-content")(1,"div",75)(2,"div",76),l(3,"X\xE1c Nh\u1EADn"),o(),n(4,"div"),l(5,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),o(),n(6,"div",77)(7,"button",78),l(8,"\u0110\u1ED3ng \xDD"),o(),n(9,"button",79),l(10,"Hu\u1EF7 B\u1ECF"),o()()()())}function ga(r,i){if(r&1){let t=D();l(0),n(1,"button",105),g("click",function(){m(t);let a=p().$implicit,c=p(2);return u(c.removeItemImport(a))}),n(2,"mat-icon"),l(3,"delete"),o()()}if(r&2){let t=p().index;y(" ",t+1," ")}}function _a(r,i){if(r&1&&(n(0,"mat-option",111),l(1),o()),r&2){let t=i.$implicit;h("value",t.id),s(),b(t.name)}}function fa(r,i){if(r&1){let t=D();n(0,"mat-form-field",30)(1,"mat-label"),l(2,"Nh\xE0 Cung C\u1EA5p"),o(),n(3,"mat-select",106),g("selectionChange",function(a){m(t);let c=p().$implicit,d=p(2);return u(d.SelectNhacungcap(c,a))}),n(4,"div",107)(5,"mat-form-field",108)(6,"input",109),g("input",function(a){m(t);let c=p().index,d=p(2);return u(d.DoFindNhacungcap(a,c))}),o()(),n(7,"div",110),O(8,_a,2,2,"mat-option",111,et),o()()()()}if(r&2){let t=p().index,e=p(2);s(8),B(e.FilterNhacungcap[t])}}function va(r,i){if(r&1){let t=D();n(0,"mat-form-field",30)(1,"mat-label"),l(2,"Ng\xE0y Nh\u1EADn "),o(),n(3,"input",112),g("dateChange",function(a){m(t);let c=p().$implicit,d=p(2);return u(d.DoChonNgaynhan(a,c))}),o(),S(4,"mat-datepicker-toggle",37)(5,"mat-datepicker",null,11),o()}if(r&2){let t=I(6),e=p().index,a=p(2);s(3),h("ngModel",a.statusDetails[e]==null?null:a.statusDetails[e].ngaynhan)("matDatepicker",t),s(),h("for",t)}}function ya(r,i){if(r&1&&(n(0,"tr")(1,"td",98),C(2,ga,4,1),o(),n(3,"td",99),C(4,fa,10,0,"mat-form-field",30),o(),n(5,"td",100),C(6,va,7,3,"mat-form-field",30),o(),n(7,"td",101),l(8),o(),n(9,"td",101),l(10),o(),n(11,"td",102)(12,"span",103),l(13),o()(),n(14,"td",104),l(15),o()()),r&2){let t=i.$implicit;s(2),k(t.status==="Processed"?2:-1),s(2),k(t.status==="Processed"?4:-1),s(2),k(t.status==="Processed"?6:-1),s(2),b(t.fileName),s(2),b(t.tenkhongdau),s(2),h("ngClass",Rt(8,zi,t.status==="Processed"||t.status==="Success",t.status==="Skipped")),s(),y(" ",t.status," "),s(2),b(t.message)}}function ba(r,i){if(r&1){let t=D();n(0,"h2",80),l(1,"Import \u0110\u1EB7t H\xE0ng"),o(),n(2,"mat-dialog-content",81)(3,"div",82)(4,"div",83)(5,"table",84)(6,"thead",85)(7,"tr")(8,"th",86),l(9," # "),o(),n(10,"th",87),l(11," Nh\xE0 Cung C\u1EA5p "),o(),n(12,"th",88),l(13," Ng\xE0y Nh\u1EADn "),n(14,"mat-form-field",50)(15,"mat-label"),l(16,"Ng\xE0y Nh\u1EADn All "),o(),n(17,"input",89),g("dateChange",function(a){m(t);let c=p();return u(c.DoChonNgaynhan(a,"All"))}),o(),S(18,"mat-datepicker-toggle",37)(19,"mat-datepicker",null,11),o()(),n(21,"th",90),l(22," File Name"),o(),n(23,"th",90),l(24," T\xEAn Kh\xF4ng D\u1EA5u"),o(),n(25,"th",91),l(26," Status"),o(),n(27,"th",92),l(28," Message"),o()()(),n(29,"tbody",93),C(30,ya,16,11,"tr",94),o()()()()(),n(31,"mat-dialog-actions",95)(32,"button",96),l(33,"\u0110\xF3ng"),o(),n(34,"button",97),g("click",function(){m(t);let a=p();return u(a.DoImportNhacungcapCu())}),l(35,"C\u1EADp Nh\u1EADt"),o()()}if(r&2){let t=I(20),e=p();s(17),h("matDatepicker",t),s(),h("for",t),s(12),h("ngForOf",e.statusDetails)}}function xa(r,i){if(r&1&&(n(0,"mat-option",124),l(1),o()),r&2){let t=i.$implicit;h("value",t.makho),s(),q(" ",t.makho," (",t.name,") ")}}function Ca(r,i){if(r&1&&(n(0,"mat-option",124),l(1),o()),r&2){let t=i.$implicit;h("value",t),s(),q(" ",t.makho," (",t.name,") ")}}function wa(r,i){if(r&1&&(n(0,"div",141)(1,"span",147),l(2),o(),n(3,"mat-chip",148),l(4),o()()),r&2){let t=p().$implicit,e=p(2);s(2),y("Excel: ",t.originalMakho,""),s(),h("color",e.getKhoMatchStatusColor(t.configOptions==null?null:t.configOptions.khoMatchStatus)),s(),y(" ",e.getKhoMatchStatusText(t.configOptions==null?null:t.configOptions.khoMatchStatus)," ")}}function Ea(r,i){if(r&1&&(n(0,"tr",146)(1,"td",149),l(2),o(),n(3,"td",150),l(4),o(),n(5,"td",149),l(6),o(),n(7,"td",149),l(8),o(),n(9,"td",151),l(10),o(),n(11,"td",149),l(12),o(),n(13,"td",149),l(14),o(),n(15,"td",152),l(16),o()()),r&2){let t=i.$implicit,e=i.$index;s(2),b(e+1),s(2),b((t.sanpham==null?null:t.sanpham.masp)||t.masp||"N/A"),s(2),b((t.sanpham==null?null:t.sanpham.title)||t.title||"N/A"),s(2),b((t.sanpham==null?null:t.sanpham.dvt)||t.dvt||""),s(2),b(t.sldat||0),s(2),b(t.slgiao||0),s(2),b(t.slnhan||0),s(2),b(t.ghichu||"")}}function Sa(r,i){r&1&&(n(0,"tr")(1,"td",153),l(2,"Kh\xF4ng c\xF3 s\u1EA3n ph\u1EA9m"),o()())}function Da(r,i){if(r&1){let t=D();n(0,"div",127)(1,"div",134)(2,"div",135)(3,"mat-checkbox",136),R("ngModelChange",function(a){let c=m(t).$implicit;return A(c.configOptions.confirmed,a)||(c.configOptions.confirmed=a),u(a)}),g("change",function(){let a=m(t).$implicit,c=p(2);return u(c.toggleOrderConfirmation(a))}),o(),n(4,"div")(5,"h3",137),l(6),o(),n(7,"p",131),l(8),o()()(),n(9,"button",138),g("click",function(){let a=m(t).$implicit,c=p(2);return u(c.removeOrderFromImport(a))}),n(10,"mat-icon"),l(11,"delete"),o()()(),n(12,"div",139)(13,"mat-form-field",50)(14,"mat-label"),l(15,"Ng\xE0y nh\u1EADn"),o(),n(16,"input",121),R("ngModelChange",function(a){let c=m(t).$implicit;return A(c.configOptions.selectedDate,a)||(c.configOptions.selectedDate=a),u(a)}),g("dateChange",function(a){let c=m(t).$implicit,d=p(2);return u(d.updateOrderDate(c,a.value))}),o(),S(17,"mat-datepicker-toggle",37)(18,"mat-datepicker",null,13),o(),n(20,"div",140)(21,"mat-form-field",50)(22,"mat-label"),l(23,"Kho"),o(),n(24,"mat-select",123),R("ngModelChange",function(a){let c=m(t).$implicit;return A(c.khoSelected,a)||(c.khoSelected=a),u(a)}),g("selectionChange",function(a){let c=m(t).$implicit,d=p(2);return u(d.updateOrderKhoSelection(c,a.value))}),O(25,Ca,2,3,"mat-option",124,et),o()(),C(27,wa,5,3,"div",141),o()(),n(28,"div",83)(29,"table",142)(30,"thead",143)(31,"tr")(32,"th",144),l(33,"STT"),o(),n(34,"th",144),l(35,"M\xE3 SP"),o(),n(36,"th",144),l(37,"T\xEAn s\u1EA3n ph\u1EA9m"),o(),n(38,"th",144),l(39,"\u0110VT"),o(),n(40,"th",144),l(41,"SL \u0110\u1EB7t"),o(),n(42,"th",144),l(43,"SL Giao"),o(),n(44,"th",144),l(45,"SL Nh\u1EADn"),o(),n(46,"th",144),l(47,"Ghi ch\xFA"),o()()(),n(48,"tbody",145),O(49,Ea,17,8,"tr",146,$i,!1,Sa,3,0,"tr"),o()()()()}if(r&2){let t=i.$implicit,e=I(19),a=p(2);h("ngClass",t.configOptions!=null&&t.configOptions.confirmed?"border-green-500 bg-green-50":"border-gray-300"),s(3),L("ngModel",t.configOptions.confirmed),s(3),y("",(t.summary==null?null:t.summary.supplierName)||(t.nhacungcap==null?null:t.nhacungcap.name)||"N/A"," "),s(2),dt(" M\xE3 NCC: ",(t.summary==null?null:t.summary.supplierCode)||(t.nhacungcap==null?null:t.nhacungcap.mancc)||"N/A"," | ",(t.summary==null?null:t.summary.totalProducts)||(t.sanpham==null?null:t.sanpham.length)||0," s\u1EA3n ph\u1EA9m | T\u1ED5ng SL: ",(t.summary==null?null:t.summary.totalQuantity)||a.getTotalQuantity(t)," "),s(8),h("matDatepicker",e),L("ngModel",t.configOptions.selectedDate),s(),h("for",e),s(7),L("ngModel",t.khoSelected),s(),B(a.ImportConfig.ListKho),s(2),k(t.originalMakho?27:-1),s(22),B(t.sanpham)}}function ka(r,i){r&1&&(n(0,"div",128)(1,"div",154),l(2,"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u \u0111\u1EC3 import"),o(),n(3,"div",155),l(4,"Vui l\xF2ng ch\u1ECDn file Excel h\u1EE3p l\u1EC7"),o()())}function Ia(r,i){if(r&1){let t=D();n(0,"h2",113)(1,"span"),l(2,"Import \u0110\u1EB7t H\xE0ng t\u1EEB Excel"),o(),n(3,"div",114)(4,"span"),l(5),o(),n(6,"span",115),l(7),o()()(),n(8,"mat-dialog-content",116)(9,"div",117)(10,"div",118)(11,"div",119)(12,"mat-form-field",120)(13,"mat-label"),l(14,"Ng\xE0y nh\u1EADn (T\u1EA5t c\u1EA3)"),o(),n(15,"input",121),R("ngModelChange",function(a){m(t);let c=p();return A(c.ImportConfig.selectedDate,a)||(c.ImportConfig.selectedDate=a),u(a)}),g("dateChange",function(a){m(t);let c=p();return u(c.updateAllOrdersDate(a.value))}),o(),S(16,"mat-datepicker-toggle",37)(17,"mat-datepicker",null,12),o(),n(19,"mat-form-field",122)(20,"mat-label"),l(21,"Kho (T\u1EA5t c\u1EA3)"),o(),n(22,"mat-select",123),R("ngModelChange",function(a){m(t);let c=p();return A(c.ImportConfig.selectedKho,a)||(c.ImportConfig.selectedKho=a),u(a)}),g("selectionChange",function(a){m(t);let c=p();return u(c.updateAllOrdersKho(a.value))}),O(23,xa,2,3,"mat-option",124,et),o()(),n(25,"button",97),g("click",function(){m(t);let a=p();return u(a.toggleAllOrdersConfirmation())}),n(26,"mat-icon"),l(27),o(),l(28),o()()(),n(29,"div",125)(30,"div",126),O(31,Da,52,12,"div",127,et),o(),C(33,ka,5,0,"div",128),o()()(),n(34,"mat-dialog-actions",129)(35,"div",130)(36,"div",131),l(37),o(),n(38,"div",132)(39,"button",79),l(40,"\u0110\xF3ng"),o(),n(41,"button",133),g("click",function(){m(t);let a=p();return u(a.ImportConfirmedDathang())}),l(42),o()()()()}if(r&2){let t=I(18),e=p();s(5),y("",e.ListImportExcel.length," \u0111\u01A1n h\xE0ng"),s(2),y("",e.getConfirmedOrdersCount()," \u0111\xE3 x\xE1c nh\u1EADn"),s(8),h("matDatepicker",t),L("ngModel",e.ImportConfig.selectedDate),s(),h("for",t),s(6),L("ngModel",e.ImportConfig.selectedKho),s(),B(e.ImportConfig.ListKho),s(4),b(e.getConfirmedOrdersCount()===e.ListImportExcel.length?"check_box":"check_box_outline_blank"),s(),y(" ",e.getConfirmedOrdersCount()===e.ListImportExcel.length?"B\u1ECF ch\u1ECDn t\u1EA5t c\u1EA3":"Ch\u1ECDn t\u1EA5t c\u1EA3"," "),s(3),B(e.ListImportExcel),s(2),k(e.ListImportExcel.length===0?33:-1),s(),h("align","end"),s(3),q(" \u0110\xE3 ch\u1ECDn ",e.getConfirmedOrdersCount()," / ",e.ListImportExcel.length," \u0111\u01A1n h\xE0ng "),s(4),h("disabled",e.getConfirmedOrdersCount()===0),s(),y(" Import ",e.getConfirmedOrdersCount()," \u0111\u01A1n h\xE0ng ")}}var K=class K{Detail={};displayedColumns=["STT","madncc","nhacungcap","sanpham","ngaynhan","status","ghichu","createdAt","updatedAt"];ColumnName={STT:"STT",madncc:"M\xE3 \u0110\u01A1n Nh\u1EADp",nhacungcap:"Nh\xE0 Cung C\u1EA5p",sanpham:"S\u1EA3n Ph\u1EA9m",ngaynhan:"Ng\xE0y Nh\u1EADn",status:"Tr\u1EA1ng Th\xE1i",ghichu:"Ghi Ch\xFA",createdAt:"Ng\xE0y T\u1EA1o",updatedAt:"Ng\xE0y C\u1EADp Nh\u1EADt"};FilterColumns=JSON.parse(localStorage.getItem("DathangColFilter")||"[]");Columns=[];isFilter=!1;Trangthaidon=_i;paginator;sort;drawer;dialogImportExcel;dialogImportExcelCu;filterValues={};_DathangService=f(di);_breakpointObserver=f(Wt);_NhacungcapService=f(pi);_SanphamService=f(hi);_BanggiaService=f(si);_KhoService=f(mi);_router=f(qt);Listdathang=this._DathangService.ListDathang;page=this._DathangService.page;pageCount=this._DathangService.pageCount;total=this._DathangService.total;pageSize=this._DathangService.pageSize;dathangId=this._DathangService.dathangId;dataSource=new ut([]);_snackBar=f(ce);CountItem=0;suppliers=[];dialog=f(Ce);ListImportExcel=[];searchParam={Batdau:(0,M.default)().toDate(),Ketthuc:(0,M.default)().toDate(),page:this.page(),pageSize:this.pageSize()};totalItems=0;constructor(){Vt(()=>F(this,null,function*(){this.dataSource.data=this.Listdathang(),this.dataSource.sort=this.sort,this.paginator&&(this.paginator.pageIndex=this.page()-1,this.paginator.pageSize=this.pageSize(),this.paginator.length=this.total())}))}createFilter(){return(i,t)=>{let e=JSON.parse(t),a=!0;return this.displayedColumns.forEach(c=>{if(e[c]){let d=i[c]?i[c].toString().toLowerCase():"";a=a&&d.includes(e[c].toLowerCase())}}),a}}onPageSizeChange(i,t){i>this.total()&&(this._snackBar.open(`S\u1ED1 l\u01B0\u1EE3ng t\u1ED1i \u0111a ${this.total()}`,"",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),i=this.total()),this._DathangService.page.set(1),this._DathangService.getDathangBy(this.searchParam),t.closeMenu()}onPreviousPage(){this.page()>1&&(this._DathangService.page.set(this.page()-1),this.searchParam.page=this.page(),this._DathangService.getDathangBy(this.searchParam))}onNextPage(){this.page()<this.pageCount()&&(this._DathangService.page.set(this.page()+1),this.searchParam.page=this.page(),this._DathangService.getDathangBy(this.searchParam))}onDateChange(){this.ngOnInit()}ngOnInit(){return F(this,null,function*(){yield this._DathangService.getDathangBy(this.searchParam),this.displayedColumns=Object.keys(this.ColumnName),this.dataSource=new ut(this.Listdathang()),this.dataSource.sort=this.sort,this.initializeColumns(),this.setupDrawer(),yield this._NhacungcapService.getAllNhacungcap(),this.FilterNhacungcap=Array(20).fill(null).map(()=>this._NhacungcapService.ListNhacungcap()),yield this._KhoService.getAllKho(),this.ImportConfig.ListKho=this._KhoService.ListKho(),this.FilterKho=Array(20).fill(null).map(()=>this._KhoService.ListKho())})}initializeColumns(){this.Columns=Object.entries(this.ColumnName).map(([i,t])=>({key:i,value:t,isShow:!0})),this.FilterColumns=this.FilterColumns.length?this.FilterColumns:this.Columns,localStorage.setItem("DathangColFilter",JSON.stringify(this.FilterColumns)),this.displayedColumns=this.FilterColumns.filter(i=>i.isShow).map(i=>i.key),this.ColumnName=this.FilterColumns.reduce((i,{key:t,value:e,isShow:a})=>a?vt(ft({},i),{[t]:e}):i,{})}applyFilter(i){let t=i.target.value;if(!t){this.searchParam={page:this.page(),pageSize:this.pageSize()},this._DathangService.getDathangBy(this.searchParam);return}this.searchParam.subtitle=t.trim().toLowerCase(),this._DathangService.getDathangBy(this.searchParam)}setupDrawer(){this._breakpointObserver.observe([Yt.Handset]).subscribe(i=>{i.matches?this.drawer.mode="over":this.drawer.mode="side"})}toggleColumn(i){let t=this.FilterColumns.find(e=>e.key===i.key);t&&(t.isShow=!t.isShow,this.updateDisplayedColumns())}FilterHederColumn(i,t){return i.filter((a,c,d)=>c===d.findIndex(x=>x[t]===a[t]))}doFilterHederColumn(i,t){this.dataSource.filteredData=this.Listdathang().filter(e=>e[t].toLowerCase().includes(i.target.value.toLowerCase()))}updateDisplayedColumns(){this.displayedColumns=this.FilterColumns.filter(i=>i.isShow).map(i=>i.key),this.ColumnName=this.FilterColumns.reduce((i,t)=>(t.isShow&&(i[t.key]=t.value),i),{}),localStorage.setItem("DathangColFilter",JSON.stringify(this.FilterColumns))}doFilterColumns(i){let t=i.target.value.toLowerCase();this.FilterColumns=this.Columns.filter(e=>e.value.toLowerCase().includes(t))}create(){this.drawer.open(),this._router.navigate(["admin/dathang","new"])}goToDetail(i){this._DathangService.setDathangId(i.id),this.drawer.open(),this._router.navigate(["admin/dathang",i.id])}UpdateDathang(i){i.status="dagiao",this._DathangService.updateDathang(i).then(()=>{this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})})}ExportExcel(){return F(this,null,function*(){let i=this.Listdathang(),t=`Danh S\xE1ch \u0110\u1EB7t H\xE0ng ${(0,M.default)().format("DD-MM-YYYY")}`;yield this._NhacungcapService.getAllNhacungcap(),yield this._SanphamService.getAllSanpham(),yield this._BanggiaService.getAllBanggia();let e=Array.isArray(i)&&i.length>0?i.flatMap(a=>Array.isArray(a.sanpham)?a.sanpham.map(c=>({ngaynhan:(0,M.default)(a.ngaynhan).format("DD/MM/YYYY"),mancc:a.nhacungcap?.mancc,name:a.nhacungcap?.name,masp:c?.sanpham?.masp,tensp:c?.sanpham?.title,sldat:Number(c?.sldat)||0,slgiao:Number(c?.slgiao)||0,slnhan:Number(c?.slnhan)||0,ghichu:c?.ghichu,makho:a?.kho?.makho})):[]):[{ngaynhan:(0,M.default)().format("DD/MM/YYYY"),mancc:"",name:"",masp:"",tensp:"",sldat:0,slgiao:0,slnhan:0,ghichu:"",makho:""}];console.log(e),ei(e,t)})}EditList=[];AddToEdit(i){this.EditList.find(e=>e.id===i.id)?this.EditList=this.EditList.filter(e=>e.id!==i.id):this.EditList.push(i)}CheckItemInEdit(i){return this.EditList.some(t=>t.id===i.id)}DoDanhan(){Promise.all(this.EditList.map(i=>(i.status="danhan",this._DathangService.updateDathang(i)))).then(()=>{this.EditList=[],this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})})}dialogCreateRef;openDeleteDialog(i,t){this.dialog.open(i,{hasBackdrop:!0,disableClose:!0}).afterClosed().subscribe(a=>F(this,null,function*(){if(a=="true"){if(t){yield this._DathangService.DeleteDathang(t);return}this.DeleteListItem()}}))}openDathangDialog(i){this.dialog.open(i,{hasBackdrop:!0,disableClose:!0}).afterClosed().subscribe(e=>F(this,null,function*(){e=="true"}))}DeleteListItem(){return F(this,null,function*(){if(!this.EditList?.length){this._snackBar.open("Kh\xF4ng c\xF3 m\u1EE5c n\xE0o \u0111\u01B0\u1EE3c ch\u1ECDn \u0111\u1EC3 x\xF3a","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-warning"]});return}try{let i=yield this._DathangService.DeleteBulkDathang(this.EditList.map(t=>t.id));this._snackBar.open(`X\xF3a th\xE0nh c\xF4ng ${i.success} \u0111\u1EB7t h\xE0ng ${i.fail} l\u1ED7i`,"",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}catch(i){console.error("L\u1ED7i khi x\xF3a \u0111\u1EB7t h\xE0ng:",i),this._snackBar.open("C\xF3 l\u1ED7i x\u1EA3y ra khi x\xF3a \u0111\u1EB7t h\xE0ng","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}finally{this.EditList=[],yield this.ngOnInit()}})}statusDetails=[];ListImportData=[];FilterNhacungcap=[];FilterKho=[];ImportConfig={selectedDate:new Date,selectedKho:"",ListKho:[]};ImporExcel(i){return F(this,null,function*(){let t=Array.from(i.target.files),e=0,a=0,c=0;this.ListImportData=[],this.statusDetails=[],this.ListImportExcel=[],yield this._NhacungcapService.getAllNhacungcap({pageSize:99999}),yield this._SanphamService.getAllSanpham({pageSize:99999}),yield this._KhoService.getAllKho();for(let d=0;d<t.length;d++){let x=t[d];try{let _=yield ii(x);console.log("Excel data:",_);let z=_.Sheet1||_.dathang;if(z&&z.length>0){let P=this.processImportData(z,x.name);P.length>0?(this.ListImportExcel.push(...P),e++):a++}else a++,this.statusDetails.push({fileName:x.name,status:"Skipped",message:"No valid data found in Sheet1 or dathang sheet"})}catch(_){console.error("Error processing file:",_),c++,this.statusDetails.push({fileName:x.name,status:"Error",message:_.message})}}this.ListImportExcel.length>0?(this.ImportConfig.selectedDate=new Date,this.setDefaultKhoForOrders(),this.dialog.open(this.dialogImportExcel,{width:"95vw",maxWidth:"1400px",height:"95vh",disableClose:!0})):this.dialog.open(this.dialogImportExcelCu,{width:"90vw",maxWidth:"1200px",height:"90vh"}),this._snackBar.open(`X\u1EED l\xFD ${t.length} file: ${e} th\xE0nh c\xF4ng, ${a} b\u1ECF qua, ${c} l\u1ED7i`,"",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-warning"]}),i.target.value=""})}processImportData(i,t){let e=this._NhacungcapService.ListNhacungcap(),a=this._SanphamService.ListSanpham(),c=this._KhoService.ListKho(),d=[];try{let x={};for(let _ of i)!_.mancc||!_.masp||(x[_.mancc]||(x[_.mancc]=[]),x[_.mancc].push(_));for(let[_,z]of Object.entries(x)){let P=e.find(v=>v.mancc===_);if(!P){this.statusDetails.push({fileName:t,status:"Error",message:`Kh\xF4ng t\xECm th\u1EA5y nh\xE0 cung c\u1EA5p: ${_}`,mancc:_});continue}let Q=[],Di=!1;for(let v of z){let T=a.find(it=>it.masp===v.masp);if(!T){this.statusDetails.push({fileName:t,status:"Error",message:`Kh\xF4ng t\xECm th\u1EA5y s\u1EA3n ph\u1EA9m: ${v.masp}`,mancc:_,masp:v.masp}),Di=!0;continue}Q.push({sanpham:{id:T.id,masp:T.masp,title:T.title,dvt:T.dvt||""},sldat:Number(v.sldat)||0,slgiao:Number(v.slgiao)||0,slnhan:Number(v.slnhan)||0,ghichu:v.ghichu||"",originalData:v}),this.statusDetails.push({fileName:t,status:"Processed",message:`\u0110\xE3 x\u1EED l\xFD: ${T.title} - SL: ${v.sldat}`,mancc:_,masp:v.masp})}if(Q.length>0){let v=z[0],T=new Date;if(v.ngaynhan)try{let[j,at,ki]=v.ngaynhan.split("/");T=(0,M.default)(`${ki}-${at}-${j}`,"YYYY-MM-DD").toDate()}catch(j){console.warn("Error parsing date, using current date:",j)}let it={id:`temp_${_}_${Date.now()}`,title:`\u0110\u01A1n h\xE0ng ${v.ngaynhan||(0,M.default)().format("DD/MM/YYYY")} - ${P.name}`,ngaynhan:T,nhacungcapId:P.id,nhacungcap:P,makho:this.autoSelectKho(v.makho,c),khoSelected:this.getKhoByMakho(v.makho,c),originalMakho:v.makho||"",status:"dadat",sanpham:Q,ghichu:"",fileName:t,configOptions:{canChangeDate:!0,canChangeKho:!0,selectedDate:T,selectedKho:this.autoSelectKho(v.makho,c),confirmed:!1,khoMatchStatus:this.getKhoMatchStatus(v.makho,c)},summary:{totalProducts:Q.length,totalQuantity:Q.reduce((j,at)=>j+at.sldat,0),supplierCode:_,supplierName:P.name}};d.push(it)}}}catch(x){console.error("Error processing import data:",x),this.statusDetails.push({fileName:t,status:"Error",message:x.message})}return d}generateOrderCode(i){let t=(0,M.default)().format("YYYYMMDD"),e=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`DH${i}-${t}-${e}`}updateOrderDate(i,t){i.ngaynhan=t,i.configOptions.selectedDate=t,i.title=`\u0110\u01A1n h\xE0ng ${(0,M.default)(t).format("DD/MM/YYYY")} - ${i.nhacungcap.name}`}updateOrderKho(i,t){i.makho=t,i.configOptions.selectedKho=t}updateOrderKhoSelection(i,t){i.makho=t.makho,i.khoSelected=t,i.configOptions.selectedKho=t.makho,i.configOptions.khoMatchStatus="manual"}updateAllOrdersDate(i){this.ImportConfig.selectedDate=i,this.ListImportExcel.forEach(t=>{this.updateOrderDate(t,i)})}updateAllOrdersKho(i){this.ImportConfig.selectedKho=i;let t=this.ImportConfig.ListKho.find(e=>e.makho===i);this.ListImportExcel.forEach(e=>{t&&this.updateOrderKhoSelection(e,t)})}toggleOrderConfirmation(i){i.configOptions.confirmed=!i.configOptions.confirmed}toggleAllOrdersConfirmation(){let i=this.ListImportExcel.every(t=>t.configOptions.confirmed);this.ListImportExcel.forEach(t=>{t.configOptions.confirmed=!i})}getConfirmedOrdersCount(){return this.ListImportExcel.filter(i=>i.configOptions.confirmed).length}getKhoMatchStatusText(i){switch(i){case"exact":return"Kh\u1EDBp ch\xEDnh x\xE1c";case"partial":return"Kh\u1EDBp m\u1ED9t ph\u1EA7n";case"name":return"Kh\u1EDBp theo t\xEAn";case"default":return"M\u1EB7c \u0111\u1ECBnh";case"manual":return"\u0110\xE3 ch\u1EC9nh s\u1EEDa";default:return"Kh\xF4ng t\xECm th\u1EA5y"}}getKhoMatchStatusColor(i){switch(i){case"exact":return"success";case"partial":return"warn";case"name":return"accent";case"manual":return"primary";default:return"warn"}}ImportConfirmedDathang(){return F(this,null,function*(){let i=this.ListImportExcel.filter(t=>t.configOptions.confirmed);if(i.length===0){this._snackBar.open("Vui l\xF2ng x\xE1c nh\u1EADn \xEDt nh\u1EA5t m\u1ED9t \u0111\u01A1n h\xE0ng","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-warning"]});return}yield this._KhoService.getAllKho();try{let t=i.map(a=>{let c=this._KhoService.ListKho().find(d=>d.makho===a.makho);return{ngaynhan:new Date(a.ngaynhan),mancc:a?.nhacungcap.mancc,makho:a.makho,khoId:c?.id,status:a.status,sanpham:a.sanpham.map(d=>({masp:d.sanpham.masp,sldat:Number(d.sldat),slgiao:Number(d.slgiao),slnhan:Number(d.slnhan),ghichu:d.ghichu})),ghichu:a.ghichu}});console.log("Confirmed orders:",i),console.log("Confirmed Import:",t);let e=yield this._DathangService.ImportDathang(t);this._snackBar.open(`Import th\xE0nh c\xF4ng: ${e.success} \u0111\u01A1n h\xE0ng, ${e.fail} l\u1ED7i`,"",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.dialog.closeAll(),yield this.ngOnInit()}catch(t){console.error("L\u1ED7i khi import \u0111\u1EB7t h\xE0ng:",t),this._snackBar.open(`L\u1ED7i khi import: ${t.message}`,"",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}})}removeOrderFromImport(i){this.ListImportExcel=this.ListImportExcel.filter(t=>t.id!==i.id),this.ListImportExcel.length===0&&this.dialog.closeAll()}DoChonNgaynhan(i,t){let e=i.value;t&&t!=="All"?t.ngaynhan=(0,M.default)(e).format("YYYY-MM-DD"):this.ListImportExcel.forEach(a=>{a.details?.forEach(c=>{c.ngaynhan=(0,M.default)(e).format("YYYY-MM-DD")})})}removeItemImport(i){this.ListImportExcel.forEach(t=>{t.details&&(t.details=t.details.filter(e=>e!==i))}),this.ListImportExcel=this.ListImportExcel.filter(t=>t.details&&t.details.length>0)}SelectNhacungcap(i,t){let e=t.value;i.nhacungcap=e,i.manhacungcap=e?.id||e?.manhacungcap}DoFindNhacungcap(i,t){let e=i.target.value.toLowerCase();this.suppliers=this.suppliers.filter(a=>a.name?.toLowerCase().includes(e)||a.manhacungcap?.toLowerCase().includes(e))}DoImportNhacungcapCu(){this.ImportConfirmedDathang()}getTotalQuantity(i){return!i.details||!Array.isArray(i.details)?0:i.details.reduce((t,e)=>t+(parseFloat(e.soluong||"0")||0),0)}autoSelectKho(i,t){if(!i||!t?.length)return t?.[0]?.makho||"";let e=t.find(d=>d.makho===i);if(e)return e.makho;let a=t.find(d=>d.makho?.toLowerCase().includes(i.toLowerCase())||i.toLowerCase().includes(d.makho?.toLowerCase()));if(a)return a.makho;let c=t.find(d=>d.name?.toLowerCase().includes(i.toLowerCase())||i.toLowerCase().includes(d.name?.toLowerCase()));return c?c.makho:t[0]?.makho||""}getKhoByMakho(i,t){let e=this.autoSelectKho(i,t);return t.find(a=>a.makho===e)||t[0]||null}getKhoMatchStatus(i,t){return!i||!t?.length?t?.length?"default":"none":t.find(e=>e.makho===i)?"exact":t.find(e=>e.makho?.toLowerCase().includes(i.toLowerCase())||i.toLowerCase().includes(e.makho?.toLowerCase()))?"partial":t.find(e=>e.name?.toLowerCase().includes(i.toLowerCase())||i.toLowerCase().includes(e.name?.toLowerCase()))?"name":"default"}setDefaultKhoForOrders(){let i=this.ImportConfig.ListKho?.[0];i&&this.ListImportExcel.forEach(t=>{!t.khoSelected&&t.configOptions.khoMatchStatus==="default"&&(t.khoSelected=i,t.makho=i.makho,t.configOptions.selectedKho=i.makho)})}getOrdersStatistics(){let i=this.ListImportExcel.length,t=this.getConfirmedOrdersCount(),e=this.ListImportExcel.filter(_=>_.configOptions?.khoMatchStatus==="exact").length,a=this.ListImportExcel.filter(_=>_.configOptions?.khoMatchStatus==="partial").length,c=this.ListImportExcel.filter(_=>_.configOptions?.khoMatchStatus==="name").length,d=this.ListImportExcel.filter(_=>_.configOptions?.khoMatchStatus==="default").length,x=this.ListImportExcel.filter(_=>_.configOptions?.khoMatchStatus==="manual").length;return{total:i,confirmed:t,exactMatch:e,partialMatch:a,nameMatch:c,defaultMatch:d,manualMatch:x}}static \u0275fac=function(t){return new(t||K)};static \u0275cmp=Y({type:K,selectors:[["app-listdathang"]],viewQuery:function(t,e){if(t&1&&(V(Ne,5),V(tt,5),V(Bi,7),V(Vi,5),V(Ni,5)),t&2){let a;w(a=E())&&(e.paginator=a.first),w(a=E())&&(e.sort=a.first),w(a=E())&&(e.drawer=a.first),w(a=E())&&(e.dialogImportExcel=a.first),w(a=E())&&(e.dialogImportExcelCu=a.first)}},decls:104,vars:32,consts:[["drawer",""],["uploadfile",""],["menu","matMenu"],["pickerBatdau",""],["pickerKetthuc",""],["menuHienthi","matMenuTrigger"],["menu1","matMenu"],["DeleteDialog",""],["DathangDialog",""],["dialogImportExcelCu",""],["dialogImportExcel",""],["picker",""],["globalDatePicker",""],["orderDatePicker",""],["autosize","",1,"w-full","h-full"],["mode","over",1,"flex","flex-col","!w-full","h-full",3,"position"],[1,"flex","flex-col","space-y-2","h-screen-12","w-full","p-2"],[1,"w-full","flex","flex-col","gap-2","lg:flex-row","lg:items-center","lg:justify-between"],[1,"flex","flex-row","space-x-2","items-center"],[1,"relative","w-full"],["type","text","placeholder","T\xECm Ki\u1EBFm...",1,"block","w-full","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],["color","primary","matTooltip","Th\xEAm m\u1EDBi","mat-flat-button","",1,"flex","flex-row","items-center",3,"click"],[1,"whitespace-nowrap"],["matTooltip","T\u1EA3i l\xEAn file excel","color","primary","mat-icon-button","",3,"click"],["multiple","","type","file",1,"hidden",3,"change"],["mat-icon-button","","color","primary",3,"click"],["matTooltip","\u1EA8n hi\u1EC7n c\u1ED9t","mat-icon-button","","color","primary",3,"matMenuTriggerFor"],[1,"p-4"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"input","click"],["matPrefix",""],[1,"flex","flex-col","max-h-80","overflow-auto"],["mat-menu-item",""],[3,"appearance","subscriptSizing"],["matInput","",3,"ngModelChange","matDatepicker","ngModel","ngModelOptions"],["matIconSuffix","",3,"for"],[1,"w-full","overflow-auto"],["mat-table","","matSort","",1,"!border","w-full","cursor-pointer",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"class","click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"cursor-pointer","border","rounded-lg","px-3","p-1","flex","flex-row","space-x-2","items-center","justify-between"],[1,"w-full","flex","lg:p-0","p-2","lg:flex-row","lg:space-x-2","lg:items-center","lg:justify-between","flex-col","justify-center"],[1,"w-full","text-center"],[1,"w-full","flex","flex-row","space-x-2","items-center","lg:justify-end","justify-center"],[1,"font-bold","text-blue-600",3,"matMenuTriggerFor"],[1,"w-full","flex","flex-row","space-x-2","p-4",3,"click"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp S\u1ED1 L\u01B0\u1EE3ng",3,"ngModelChange","ngModel","ngModelOptions"],[1,"pagination-controls"],["mat-icon-button","","color","primary",3,"click","disabled"],["mat-menu-item","",3,"click"],["class","flex flex-row items-center","color","warn","matTooltip","Xo\xE1","mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","","color","primary","matTooltip","\u0110\xE3 Nh\u1EADn",3,"click",4,"ngIf"],["color","warn","matTooltip","Xo\xE1","mat-flat-button","",1,"flex","flex-row","items-center",3,"click"],["mat-flat-button","","color","primary","matTooltip","\u0110\xE3 Nh\u1EADn",3,"click"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],[1,"max-w-40","line-clamp-4","me-4"],["mat-cell",""],[1,"max-w-40","line-clamp-4"],[1,"max-w-40","line-clamp-4","font-bold","text-blue-600"],[1,"max-w-40","line-clamp-4","text-xs"],[1,"max-w-40","line-clamp-4","font-bold",3,"ngClass"],[1,"max-w-40","line-clamp-4","font-bold","text-blue-600",3,"click"],[1,"text-green-500"],[1,"text-red-500"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell","p-4"],[1,"flex","flex-col","space-y-8","items-center","justify-center"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary","mat-dialog-close","true"],["mat-flat-button","","color","warn","mat-dialog-close","false"],["mat-dialog-title",""],[1,"mat-typography"],[1,"w-full"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200","shadow-md","rounded-lg"],[1,"bg-gray-50"],[1,"w-16","px-4","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"min-w-[350px]","px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"w-48","px-4","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["matInput","",3,"dateChange","matDatepicker"],[1,"w-40","px-4","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"w-24","px-4","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"w-32","px-4","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],["align","end"],["mat-flat-button","","color","warn","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"click"],[1,"w-16","px-4","py-4","whitespace-nowrap","text-gray-900","items-center"],[1,"min-w-[350px]","px-6","py-4","whitespace-nowrap","text-gray-900"],[1,"w-48","px-4","py-4","whitespace-nowrap","text-gray-900"],[1,"w-40","px-4","py-4","whitespace-nowrap","text-sm","text-gray-900","truncate"],[1,"w-24","px-4","py-4","whitespace-nowrap","text-sm"],[3,"ngClass"],[1,"w-32","px-4","py-4","whitespace-nowrap","text-sm","text-gray-500","truncate"],["mat-icon-button","","color","warn",3,"click"],[3,"selectionChange"],[1,"w-full","flex","flex-col"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","p-2"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"input"],[1,"overflow-y-auto","max-h-44"],[1,"!whitespace-normal","!h-auto","!py-2",3,"value"],["matInput","",3,"dateChange","ngModel","matDatepicker"],["mat-dialog-title","",1,"flex","items-center","justify-between"],[1,"text-sm","font-normal","text-gray-600","flex","items-center","gap-4"],[1,"text-green-600"],[1,"!max-h-[90vh]","h-[90vh]","!p-0"],[1,"h-full","flex","flex-col"],[1,"border-b","p-4","bg-gray-50"],[1,"flex","flex-wrap","gap-4","items-center"],["appearance","outline","subscriptSizing","dynamic",1,"min-w-[200px]"],["matInput","",3,"ngModelChange","dateChange","matDatepicker","ngModel"],["appearance","outline","subscriptSizing","dynamic",1,"min-w-[250px]"],[3,"ngModelChange","selectionChange","ngModel"],[3,"value"],[1,"flex-1","overflow-auto","p-4"],[1,"grid","gap-4"],[1,"border","rounded-lg","p-4",3,"ngClass"],[1,"text-center","py-8"],[1,"border-t","p-4",3,"align"],[1,"flex","items-center","justify-between","w-full"],[1,"text-sm","text-gray-600"],[1,"flex","gap-2"],["mat-flat-button","","color","primary",3,"click","disabled"],[1,"flex","items-center","justify-between","mb-3"],[1,"flex","items-center","gap-3"],[3,"ngModelChange","change","ngModel"],[1,"font-semibold","text-lg"],["mat-icon-button","","color","warn","matTooltip","X\xF3a \u0111\u01A1n h\xE0ng n\xE0y",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-4"],[1,"flex","flex-col","gap-2"],[1,"flex","items-center","gap-2","text-xs"],[1,"min-w-full","border","border-gray-200","text-sm"],[1,"bg-gray-100"],[1,"px-3","py-2","text-left","font-medium","text-gray-700"],[1,"divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"text-gray-600"],[1,"!text-xs","!py-0","!px-2","!min-h-[20px]",3,"color"],[1,"px-3","py-2"],[1,"px-3","py-2","font-mono"],[1,"px-3","py-2","font-semibold","text-blue-600"],[1,"px-3","py-2","text-gray-600"],["colspan","8",1,"px-3","py-4","text-center","text-gray-500"],[1,"text-gray-500","text-lg","mb-2"],[1,"text-gray-400"]],template:function(t,e){if(t&1){let a=D();n(0,"mat-drawer-container",14)(1,"mat-drawer",15,0),S(3,"router-outlet"),o(),n(4,"div",16)(5,"div",17)(6,"div",18)(7,"div",19)(8,"input",20),g("keyup",function(d){return m(a),u(e.applyFilter(d))}),o(),n(9,"div",21)(10,"span",22),l(11,"search"),o()()(),n(12,"button",23),g("click",function(){return m(a),u(e.create())}),n(13,"mat-icon"),l(14,"add_circle"),o(),n(15,"span",24),l(16,"T\u1EA1o M\u1EDBi"),o()(),n(17,"div",18)(18,"button",25),g("click",function(){m(a);let d=I(22);return u(d.click())}),n(19,"mat-icon"),l(20,"file_upload"),o()(),n(21,"input",26,1),g("change",function(d){return m(a),u(e.ImporExcel(d))}),o(),n(23,"button",27),g("click",function(){return m(a),u(e.ExportExcel())}),n(24,"mat-icon"),l(25,"download"),o()(),n(26,"button",28)(27,"mat-icon"),l(28,"tune"),o()(),n(29,"mat-menu",null,2)(31,"div",29)(32,"mat-form-field",30)(33,"input",31),g("input",function(d){return m(a),u(e.doFilterColumns(d))})("click",function(d){return m(a),u(d.stopPropagation())}),o(),n(34,"mat-icon",32),l(35,"search"),o()()(),n(36,"div",33),O(37,Qi,5,2,"button",34,Hi),o()()(),C(39,Gi,2,2),o()(),n(40,"div",18)(41,"mat-form-field",35)(42,"mat-label"),l(43,"B\u1EAFt \u0110\u1EA7u"),o(),n(44,"input",36),R("ngModelChange",function(d){return m(a),A(e.searchParam.Batdau,d)||(e.searchParam.Batdau=d),u(d)}),o(),S(45,"mat-datepicker-toggle",37)(46,"mat-datepicker",null,3),o(),n(48,"mat-form-field",35)(49,"mat-label"),l(50,"K\u1EBFt Th\xFAc"),o(),n(51,"input",36),R("ngModelChange",function(d){return m(a),A(e.searchParam.Ketthuc,d)||(e.searchParam.Ketthuc=d),u(d)}),o(),S(52,"mat-datepicker-toggle",37)(53,"mat-datepicker",null,4),o(),n(55,"button",27),g("click",function(){return m(a),u(e.onDateChange())}),n(56,"mat-icon"),l(57,"search"),o()()(),n(58,"div",38)(59,"table",39),O(60,sa,3,1,"ng-container",40,It),C(62,da,1,0,"tr",41)(63,pa,1,3,"tr",42)(64,ha,3,0,"tr",43),o()(),n(65,"div",44)(66,"div",45)(67,"span",46),l(68,"\u0110ang Xem "),n(69,"strong"),l(70),o(),l(71," - "),n(72,"strong"),l(73),o(),l(74),o(),n(75,"div",47)(76,"span",48,5),l(78),o(),n(79,"mat-menu",null,6)(81,"div",49),g("click",function(d){return m(a),u(d.stopPropagation())}),n(82,"mat-form-field",50)(83,"mat-label"),l(84,"S\u1ED1 l\u01B0\u1EE3ng"),o(),n(85,"input",51),R("ngModelChange",function(d){return m(a),A(e.pageSize,d)||(e.pageSize=d),u(d)}),o()(),n(86,"button",27),g("click",function(){m(a);let d=I(77);return u(e.onPageSizeChange(e.pageSize(),d))}),n(87,"mat-icon"),l(88,"published_with_changes"),o()()()(),n(89,"div",52)(90,"button",53),g("click",function(){return m(a),u(e.onPreviousPage())}),n(91,"mat-icon"),l(92,"keyboard_arrow_left"),o()(),n(93,"button",53),g("click",function(){return m(a),u(e.onNextPage())}),n(94,"mat-icon"),l(95,"keyboard_arrow_right"),o()()()()()()()(),C(96,ma,11,0,"ng-template",null,7,G)(98,ua,11,0,"ng-template",null,8,G)(100,ba,36,3,"ng-template",null,9,G)(102,Ia,43,14,"ng-template",null,10,G)}if(t&2){let a=I(30),c=I(47),d=I(54),x=I(80);s(),h("position","end"),s(25),h("matMenuTriggerFor",a),s(11),B(e.FilterColumns),s(2),k(e.EditList.length>0?39:-1),s(2),h("appearance","outline")("subscriptSizing","dynamic"),s(3),h("matDatepicker",c),L("ngModel",e.searchParam.Batdau),h("ngModelOptions",X(29,_t)),s(),h("for",c),s(3),h("appearance","outline")("subscriptSizing","dynamic"),s(3),h("matDatepicker",d),L("ngModel",e.searchParam.Ketthuc),h("ngModelOptions",X(30,_t)),s(),h("for",d),s(7),h("dataSource",e.dataSource),s(),B(e.displayedColumns),s(2),h("matHeaderRowDef",e.displayedColumns),s(),h("matRowDefColumns",e.displayedColumns),s(7),b((e.page()-1)*e.pageSize()+1),s(3),b(e.page()*e.pageSize()>e.total()?e.total():e.page()*e.pageSize()),s(),dt(" trong s\u1ED1 ",e.total()," m\u1EE5c, ",e.page(),"/",e.pageCount()," Trang"),s(2),h("matMenuTriggerFor",x),s(2),y("Hi\u1EC7n Th\u1ECB : ",e.pageSize()," m\u1EE5c"),s(7),L("ngModel",e.pageSize),h("ngModelOptions",X(31,_t)),s(5),h("disabled",e.page()===1),s(3),h("disabled",e.page()===e.pageCount())}},dependencies:[Le,Fe,Ie,Me,Te,Re,Ae,ti,$e,je,Ye,qe,Qe,Ue,Ge,We,Xe,Je,Ze,He,tt,ze,Ke,_e,ue,me,ge,de,le,se,jt,he,pe,re,ne,oe,Oe,Pe,ie,Qt,Kt,zt,Ht,$t,xe,ve,ye,be,Ve,Be,gi,ui,ri,ai,ni,oi,Jt,ke,we,Ee,De,Se,fe,li,Ei,wi],encapsulation:2,changeDetection:0})};W([gt(500)],K.prototype,"applyFilter",1),W([ci()],K.prototype,"FilterHederColumn",1),W([gt(300)],K.prototype,"doFilterHederColumn",1);var Si=K;export{Si as a};

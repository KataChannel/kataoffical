import{a as ge}from"./chunk-7H627XDS.js";import{a as re}from"./chunk-CK6HPEEW.js";import{a as ce}from"./chunk-4O4C4XYF.js";import"./chunk-RRZ644JX.js";import"./chunk-QPN3VMX3.js";import"./chunk-4VT7CDYK.js";import{b as he}from"./chunk-NULFSBS2.js";import{a as oe,b as le}from"./chunk-45R2NGF5.js";import"./chunk-ESCBPH3J.js";import"./chunk-BURIN2CY.js";import"./chunk-DCFSAVWL.js";import"./chunk-SAM22JC7.js";import{h as J}from"./chunk-PYADMCOB.js";import{d as ie}from"./chunk-SUUFLDBI.js";import{a as ae}from"./chunk-ZW44ZSN2.js";import"./chunk-AQE4NBKO.js";import"./chunk-6KT4XQ7E.js";import"./chunk-Q7E7WSHM.js";import"./chunk-SL7ME4PY.js";import"./chunk-YGTKRZ2Q.js";import"./chunk-4GW65WCG.js";import{a as te,b as ne}from"./chunk-IZCFLW2T.js";import{b as z,g as q,j as Q,n as X,p as U,v as Y,w as Z,y as $,z as ee}from"./chunk-OAFA7HHQ.js";import"./chunk-AW6ETFJX.js";import{a as R,b as j}from"./chunk-UOMYPXRQ.js";import{a as G}from"./chunk-NX6TSR5R.js";import"./chunk-BXRNUIMR.js";import"./chunk-76RCOOPK.js";import"./chunk-2PPFUFFT.js";import{a as H,c as N,e as O}from"./chunk-MJAN2OV6.js";import{ia as P}from"./chunk-FYUVDT4C.js";import{a as I,c as L}from"./chunk-VF6Z3BLE.js";import"./chunk-HB5OTZ3Y.js";import{l as W,m as F,v as A}from"./chunk-CNCZQRZQ.js";import{Db as B,Dc as r,Ec as S,Fc as b,Ic as m,Jc as u,Kb as D,Kc as p,Mc as k,Oc as T,Ra as w,Ub as c,ec as a,fc as o,hc as x,ic as M,kc as y,ld as v,pa as f,pc as C,rb as h,rc as g,ya as s,za as d}from"./chunk-TAKLKH4V.js";import{h as V,j as E}from"./chunk-WJTR2IJE.js";var de=()=>({value:"khachsi",title:"Kh\xE1ch S\u1EC9"}),me=()=>({value:"khachle",title:"Kh\xE1ch L\u1EBB"}),ue=(_,i)=>[_,i];function pe(_,i){if(_&1){let e=y();a(0,"button",1),C("click",function(){s(e);let t=g();return d(t.handleKhachhangAction())}),a(1,"mat-icon"),r(2,"save"),o()()}}function _e(_,i){if(_&1){let e=y();a(0,"button",1),C("click",function(){s(e);let t=g();return d(t.toggleEdit())}),a(1,"mat-icon"),r(2,"edit"),o()()}}function Ce(_,i){if(_&1){let e=y();x(0),a(1,"div",9)(2,"div",10),r(3,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),o(),a(4,"div",11)(5,"button",12),C("click",function(){s(e);let t=g();return d(t.DeleteData())}),r(6,"\u0110\u1ED3ng \xDD"),o(),a(7,"button",13),C("click",function(){s(e);let t=g();return d(t.toggleDelete())}),r(8,"Hu\u1EF7 B\u1ECF"),o()()(),M()}}function Ee(_,i){if(_&1&&(a(0,"mat-option",28),r(1),o()),_&2){let e=i.$implicit;c("value",e.value),h(),b(" ",e.title," ")}}function fe(_,i){if(_&1&&(a(0,"mat-option",28),r(1),o()),_&2){let e=i.$implicit;c("value",e.id),h(),b(" ",e.title," ")}}function De(_,i){if(_&1){let e=y();x(0),a(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),r(4,"T\xEAn Kh\xE1ch H\xE0ng"),o(),a(5,"input",16),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().name,t)||(n.DetailKhachhang().name=t),d(t)}),C("keyup",function(){s(e);let t=g();return d(t.autoSubtitle())}),o()(),a(6,"mat-form-field",15)(7,"mat-label"),r(8,"Vi\u1EBFt T\u1EAFt"),o(),a(9,"input",17),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().subtitle,t)||(n.DetailKhachhang().subtitle=t),d(t)}),o()(),a(10,"mat-form-field",15)(11,"mat-label"),r(12,"T\xEAn File"),o(),a(13,"input",18),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().tenfile,t)||(n.DetailKhachhang().tenfile=t),d(t)}),o()(),a(14,"mat-form-field",15)(15,"mat-label"),r(16,"Lo\u1EA1i Kh\xE1ch H\xE0ng"),o(),a(17,"mat-select",4),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().loaikh,t)||(n.DetailKhachhang().loaikh=t),d(t)}),D(18,Ee,2,2,"mat-option",19),o()(),a(19,"mat-form-field",15)(20,"mat-label"),r(21,"Email"),o(),a(22,"input",20),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().email,t)||(n.DetailKhachhang().email=t),d(t)}),o()(),a(23,"mat-form-field",15)(24,"mat-label"),r(25,"S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i"),o(),a(26,"input",21),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().sdt,t)||(n.DetailKhachhang().sdt=t),d(t)}),o()(),a(27,"mat-form-field",15)(28,"mat-label"),r(29,"M\xE3 S\u1ED1 Thu\u1EBF"),o(),a(30,"input",22),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().mst,t)||(n.DetailKhachhang().mst=t),d(t)}),o()(),a(31,"mat-form-field",15)(32,"mat-label"),r(33,"Gi\u1EDD Nh\u1EADn H\xE0ng"),o(),a(34,"input",23),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().gionhanhang,t)||(n.DetailKhachhang().gionhanhang=t),d(t)}),o()(),a(35,"mat-form-field",15)(36,"mat-label"),r(37,"\u0110\u1ECBa Ch\u1EC9"),o(),a(38,"input",24),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().diachi,t)||(n.DetailKhachhang().diachi=t),d(t)}),o()(),a(39,"mat-form-field",15)(40,"mat-label"),r(41,"Qu\u1EADn"),o(),a(42,"input",25),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().quan,t)||(n.DetailKhachhang().quan=t),d(t)}),o()(),a(43,"mat-form-field",15)(44,"mat-label"),r(45,"B\u1EA3ng Gi\xE1"),o(),a(46,"mat-select",4),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().banggiaId,t)||(n.DetailKhachhang().banggiaId=t),d(t)}),D(47,fe,2,2,"mat-option",19),o()(),a(48,"mat-slide-toggle",26),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().hiengia,t)||(n.DetailKhachhang().hiengia=t),d(t)}),r(49,"Hi\u1EC7n Gi\xE1"),o(),a(50,"mat-slide-toggle",26),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().istitle2,t)||(n.DetailKhachhang().istitle2=t),d(t)}),r(51,"Hi\u1EC7n T\xEAn S\u1EA3n Ph\u1EA9m 2"),o(),a(52,"mat-slide-toggle",26),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().isshowvat,t)||(n.DetailKhachhang().isshowvat=t),d(t)}),r(53,"Hi\u1EC7n VAT"),o(),a(54,"mat-form-field",15)(55,"mat-label"),r(56,"Ghi Ch\xFA"),o(),a(57,"textarea",27),p("ngModelChange",function(t){s(e);let n=g();return u(n.DetailKhachhang().ghichu,t)||(n.DetailKhachhang().ghichu=t),d(t)}),o()()(),M()}if(_&2){let e=g();h(5),m("ngModel",e.DetailKhachhang().name),c("disabled",!e.isEdit()),h(4),m("ngModel",e.DetailKhachhang().subtitle),c("disabled",!e.isEdit()),h(4),m("ngModel",e.DetailKhachhang().tenfile),c("disabled",!e.isEdit()),h(4),m("ngModel",e.DetailKhachhang().loaikh),c("disabled",!e.isEdit()),h(),c("ngForOf",T(34,ue,k(32,de),k(33,me))),h(4),m("ngModel",e.DetailKhachhang().email),c("disabled",!e.isEdit()),h(4),m("ngModel",e.DetailKhachhang().sdt),c("disabled",!e.isEdit()),h(4),m("ngModel",e.DetailKhachhang().mst),c("disabled",!e.isEdit()),h(4),m("ngModel",e.DetailKhachhang().gionhanhang),c("disabled",!e.isEdit()),h(4),m("ngModel",e.DetailKhachhang().diachi),c("disabled",!e.isEdit()),h(4),m("ngModel",e.DetailKhachhang().quan),c("disabled",!e.isEdit()),h(4),m("ngModel",e.DetailKhachhang().banggiaId),c("disabled",!e.isEdit()),h(),c("ngForOf",e._BanggiaService.ListBanggia()),h(),m("ngModel",e.DetailKhachhang().hiengia),c("disabled",!e.isEdit()),h(2),m("ngModel",e.DetailKhachhang().istitle2),c("disabled",!e.isEdit()),h(2),m("ngModel",e.DetailKhachhang().isshowvat),c("disabled",!e.isEdit()),h(5),m("ngModel",e.DetailKhachhang().ghichu),c("disabled",!e.isEdit())}}var K=class K{_ListkhachhangComponent=f(ge);_KhachhangService=f(ce);_BanggiaService=f(re);_route=f(I);_router=f(L);_snackBar=f(G);DetailKhachhang=this._KhachhangService.DetailKhachhang;ListFilter=[];filterItem=[];isEdit=w(!1);isDelete=w(!1);khachhangId=this._KhachhangService.khachhangId;constructor(){this._route.paramMap.subscribe(i=>{let e=i.get("id");this._KhachhangService.setKhachhangId(e)}),v(()=>E(this,null,function*(){let i=this._KhachhangService.khachhangId();yield this._BanggiaService.getAllBanggia(),this.filterItem=this._BanggiaService.ListBanggia(),i||(this._router.navigate(["/admin/khachhang"]),this._ListkhachhangComponent.drawer.close()),i==="new"?(this.DetailKhachhang.set({loaikh:"khachsi"}),this._ListkhachhangComponent.drawer.open(),this.isEdit.update(e=>!e),this._router.navigate(["/admin/khachhang","new"])):(console.log("KhachhangId:",i),yield this._KhachhangService.getKhachhangBy({id:i,isOne:!0}),this.ListFilter=this._KhachhangService.DetailKhachhang().banggia,this._ListkhachhangComponent.drawer.open(),this._router.navigate(["/admin/khachhang",i]))}))}ngOnInit(){return E(this,null,function*(){console.log("DetailKhachhang:",this.DetailKhachhang())})}handleKhachhangAction(){return E(this,null,function*(){this.khachhangId()==="new"?yield this.createKhachhang():yield this.updateKhachhang()})}autoSubtitle(){this.DetailKhachhang.update(i=>(i.subtitle=ae(i.name),i))}createKhachhang(){return E(this,null,function*(){try{yield this._KhachhangService.CreateKhachhang(this.DetailKhachhang()),this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(i=>!i)}catch(i){console.error("L\u1ED7i khi t\u1EA1o khachhang:",i)}})}updateKhachhang(){return E(this,null,function*(){try{yield this._KhachhangService.updateKhachhang(this.DetailKhachhang()),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(i=>!i)}catch(i){console.error("L\u1ED7i khi c\u1EADp nh\u1EADt khachhang:",i)}})}DeleteData(){return E(this,null,function*(){try{yield this._KhachhangService.DeleteKhachhang(this.DetailKhachhang()),this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/khachhang"])}catch(i){console.error("L\u1ED7i khi x\xF3a khachhang:",i)}})}goBack(){this._router.navigate(["/admin/khachhang"]),this._ListkhachhangComponent.drawer.close()}trackByFn(i,e){return e.id}toggleEdit(){this.isEdit.update(i=>!i)}toggleDelete(){this.isDelete.update(i=>!i)}FillSlug(){this.DetailKhachhang.update(i=>(i.slug=ie(i.title),i))}DoOutFilter(i){this.DetailKhachhang.update(e=>(e.banggia=i,e))}static \u0275fac=function(e){return new(e||K)};static \u0275cmp=B({type:K,selectors:[["app-detailkhachhang"]],decls:17,vars:8,consts:[[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],[3,"ngModelChange","ngModel","disabled"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[4,"ngIf"],[1,"flex","flex-col","space-y-4","items-center","justify-center"],[1,"font-bold","text-2xl"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"w-full","grid","grid-cols-2","gap-4"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp T\xEAn Kh\xE1ch H\xE0ng",3,"ngModelChange","keyup","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Vi\u1EBFt T\u1EAFt",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp T\xEAn File",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Email",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp M\xE3 S\u1ED1 Thu\u1EBF",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Gi\u1EDD Nh\u1EADn H\xE0ng",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp \u0110\u1ECBa Ch\u1EC9",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Qu\u1EADn",3,"ngModelChange","ngModel","disabled"],["color","primary",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Ghi Ch\xFA",3,"ngModelChange","ngModel","disabled"],[3,"value"]],template:function(e,l){if(e&1&&(a(0,"div",0)(1,"button",1),C("click",function(){return l.goBack()}),a(2,"mat-icon"),r(3,"arrow_back"),o()(),a(4,"div",2),r(5),o(),a(6,"div",3)(7,"mat-slide-toggle",4),p("ngModelChange",function(n){return u(l.DetailKhachhang().isActive,n)||(l.DetailKhachhang().isActive=n),n}),r(8),o(),D(9,pe,3,0,"button",5)(10,_e,3,0,"button",5),a(11,"button",6),C("click",function(){return l.toggleDelete()}),a(12,"mat-icon"),r(13,"delete"),o()()()(),a(14,"div",7),D(15,Ce,9,0,"ng-container",8)(16,De,58,37,"ng-container",8),o()),e&2){let t;h(5),S(((t=l.DetailKhachhang())==null?null:t.name)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),h(2),m("ngModel",l.DetailKhachhang().isActive),c("disabled",!l.isEdit()),h(),S(l.DetailKhachhang().isActive?"Hi\u1EC3n Th\u1ECB":"\u1EA8n"),h(),c("ngIf",l.isEdit()),h(),c("ngIf",!l.isEdit()),h(5),c("ngIf",l.isDelete()),h(),c("ngIf",!l.isDelete())}},dependencies:[Z,Y,U,ee,$,X,z,q,Q,j,R,O,H,N,ne,te,P,J,A,W,F,le,oe],encapsulation:2})};V([he(300)],K.prototype,"autoSubtitle",1);var se=K;export{se as DetailKhachhangComponent};

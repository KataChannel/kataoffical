import{a as et}from"./chunk-DFEBKCCY.js";import{a as Ze}from"./chunk-Z4HIZU65.js";import{a as Ve,b as Re,c as D,d as Ae,e as ze}from"./chunk-2PVH7Z6P.js";import{c as we,d as Oe,f as ve,h as ye}from"./chunk-EJAZH3JY.js";import{a as de,b as me,c as ue}from"./chunk-Z2ZDGSWT.js";import{a as ge,b as fe,c as Ce,d as he}from"./chunk-UQRYBWA2.js";import{a as Ie,b as De,c as Be,d as je,e as Ne,g as $e,h as He,j as Qe,k as qe,m as Ge,n as We,p as Xe,q as Ke,r as Je,s as Ye}from"./chunk-POPZSE3V.js";import{b as Te}from"./chunk-POHUA43U.js";import{b as xe,g as Me,j as be,n as Pe,p as Ue,r as Se,v as Ee,w as Le,y as ke,z as Fe}from"./chunk-A3B3GZND.js";import{a as _e,b as pe}from"./chunk-MGAKVDEP.js";import{a as le,b as ce}from"./chunk-CBIWJPH2.js";import{a as oe,c as ae,e as se}from"./chunk-K4TPENAW.js";import{b as ie,c as re}from"./chunk-VF6Z3BLE.js";import{m as ee,r as te,v as ne}from"./chunk-CNCZQRZQ.js";import{$b as O,Cc as v,Db as B,Dc as l,Ec as P,Fc as b,Gc as Q,Ic as q,Jc as G,Kb as x,Kc as W,Mc as X,Ra as p,Sc as K,Ub as f,Uc as J,Xc as Y,Yb as j,bc as N,cc as E,dc as L,ec as o,fc as a,gc as k,hc as $,ic as H,ja as S,jd as y,kc as M,ld as Z,oa as A,pa as z,pc as g,rb as c,rc as d,wb as w,xc as F,ya as u,yc as T,za as _,zc as I}from"./chunk-TAKLKH4V.js";import{j as h}from"./chunk-WJTR2IJE.js";var V=class i{constructor(e){this.storageService=e}_allUsers=p([]);_searchTerm=p("");_currentPage=p(1);_pageSize=p(50);_isLoading=p(!1);_selectedUsers=p(new Set);_statusFilter=p("all");_currentUser=p(null);allUsers=this._allUsers.asReadonly();searchTerm=this._searchTerm.asReadonly();currentPage=this._currentPage.asReadonly();pageSize=this._pageSize.asReadonly();isLoading=this._isLoading.asReadonly();selectedUsers=this._selectedUsers.asReadonly();statusFilter=this._statusFilter.asReadonly();currentUser=this._currentUser.asReadonly();filteredUsers=y(()=>{let e=this._allUsers(),t=this._statusFilter();t!=="all"&&(e=e.filter(r=>t==="active"?r.isActive:!r.isActive));let n=this._searchTerm().toLowerCase();return n&&(e=e.filter(r=>r.email?.toLowerCase().includes(n)||r.username?.toLowerCase().includes(n)||r.fullName?.toLowerCase().includes(n)||r.sdt?.toLowerCase().includes(n))),e});totalItems=y(()=>this.filteredUsers().length);totalPages=y(()=>Math.ceil(this.totalItems()/this._pageSize()));paginatedUsers=y(()=>{let e=(this._currentPage()-1)*this._pageSize(),t=e+this._pageSize();return this.filteredUsers().slice(e,t)});graphqlService=z(et);loadAllUsers(e=!1){return h(this,null,function*(){if(!e&&this._allUsers().length>0)return this._allUsers();this._isLoading.set(!0);try{let t={orderBy:{createdAt:"desc"},include:{roles:{include:{role:{include:{permissions:{include:{permission:!0}}}}}}}},n=yield this.graphqlService.findMany("user",t);return this._allUsers.set(n),this._currentPage.set(1),n}catch(t){throw console.error("Error loading users:",t),t}finally{this._isLoading.set(!1)}})}createUser(e){return h(this,null,function*(){this._isLoading.set(!0);try{let t={email:e.email,username:e.username,password:e.password,fullName:e.fullName,sdt:e.sdt,isActive:e.isActive??!0},n=yield this.graphqlService.createOne("user",{data:t,include:{roles:{include:{role:{include:{permissions:{select:{id:!0,name:!0,code:!0}}}}}}}});if(e.roleIds&&e.roleIds.length>0){yield this.assignRolesToUser(n.id,e.roleIds);let s=yield this.getUserById(n.id);if(s){let m=this._allUsers();return this._allUsers.set([s,...m.filter(C=>C.id!==n.id)]),s}}let r=this._allUsers();return this._allUsers.set([n,...r]),n}catch(t){throw console.error("Error creating user:",t),t}finally{this._isLoading.set(!1)}})}updateUser(e,t){return h(this,null,function*(){this._isLoading.set(!0);try{let n=yield this.graphqlService.updateOne("user",{id:e},t,{include:{roles:{include:{role:{include:{permissions:{select:{id:!0,name:!0,code:!0}}}}}}}}),r=this._allUsers(),s=r.findIndex(m=>m.id===e);if(s!==-1){let m=[...r];m[s]=n,this._allUsers.set(m)}return n}catch(n){throw console.error("Error updating user:",n),n}finally{this._isLoading.set(!1)}})}deleteUser(e){return h(this,null,function*(){this._isLoading.set(!0);try{yield this.graphqlService.deleteOne("user",{id:e});let n=this._allUsers().filter(s=>s.id!==e);this._allUsers.set(n);let r=new Set(this._selectedUsers());r.delete(e),this._selectedUsers.set(r)}catch(t){throw console.error("Error deleting user:",t),t}finally{this._isLoading.set(!1)}})}getUserById(e){return h(this,null,function*(){try{return yield this.graphqlService.findUnique("user",{id:e},{include:{roles:{include:{role:{include:{permissions:{select:{id:!0,name:!0,code:!0}}}}}}}})}catch(t){return console.error("Error getting user by id:",t),null}})}assignRolesToUser(e,t){return h(this,null,function*(){this._isLoading.set(!0);try{let n=t.map(s=>({userId:e,roleId:s}));yield this.graphqlService.batchCreate("userRole",n);let r=yield this.getUserById(e);if(r){let s=this._allUsers(),m=s.findIndex(C=>C.id===e);if(m!==-1){let C=[...s];C[m]=r,this._allUsers.set(C)}}}catch(n){throw console.error("Error assigning roles to user:",n),n}finally{this._isLoading.set(!1)}})}removeRoleFromUser(e,t){return h(this,null,function*(){this._isLoading.set(!0);try{let r=(yield this.getUserById(e))?.roles?.find(s=>s.roleId===t);if(r){yield this.graphqlService.deleteOne("userRole",{id:r.id});let s=yield this.getUserById(e);if(s){let m=this._allUsers(),C=m.findIndex(U=>U.id===e);if(C!==-1){let U=[...m];U[C]=s,this._allUsers.set(U)}}}}catch(n){throw console.error("Error removing role from user:",n),n}finally{this._isLoading.set(!1)}})}setSearchTerm(e){this._searchTerm.set(e),this._currentPage.set(1)}setStatusFilter(e){this._statusFilter.set(e),this._currentPage.set(1)}setPage(e){e>=1&&e<=this.totalPages()&&this._currentPage.set(e)}setPageSize(e){this._pageSize.set(e),this._currentPage.set(1)}nextPage(){this._currentPage()<this.totalPages()&&this._currentPage.set(this._currentPage()+1)}previousPage(){this._currentPage()>1&&this._currentPage.set(this._currentPage()-1)}toggleUserSelection(e){let t=new Set(this._selectedUsers());t.has(e)?t.delete(e):t.add(e),this._selectedUsers.set(t)}selectAllCurrentPage(){let e=new Set(this._selectedUsers());this.paginatedUsers().forEach(t=>{e.add(t.id)}),this._selectedUsers.set(e)}deselectAllCurrentPage(){let e=new Set(this._selectedUsers());this.paginatedUsers().forEach(t=>{e.delete(t.id)}),this._selectedUsers.set(e)}clearSelection(){this._selectedUsers.set(new Set)}isSelected(e){return this._selectedUsers().has(e)}get selectedCount(){return this._selectedUsers().size}get selectedIds(){return Array.from(this._selectedUsers())}findUserById(e){return this._allUsers().find(t=>t.id===e)}getUsersByRole(e){return this._allUsers().filter(t=>t.roles?.some(n=>n.roleId===e))}getActiveUsers(){return this._allUsers().filter(e=>e.isActive)}getUserPermissions(e){let t=this.findUserById(e);if(!t||!t.roles)return[];let n=[];return t.roles.forEach(r=>{r.role.permissions&&n.push(...r.role.permissions)}),n.filter((r,s,m)=>s===m.findIndex(C=>C.id===r.id))}hasPermission(e,t){return this.getUserPermissions(e).some(r=>r.code===t)}clearCache(){this._allUsers.set([]),this._searchTerm.set(""),this._statusFilter.set("all"),this._currentPage.set(1),this.clearSelection(),this._currentUser.set(null)}refreshData(){return this.loadAllUsers(!0)}setCurrentUser(e){this._currentUser.set(e)}clearCurrentUser(){this._currentUser.set(null)}static \u0275fac=function(t){return new(t||i)(A(ce))};static \u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})};var R=class i{_isOpen=p(!1);isOpen=this._isOpen.asReadonly();open(){this._isOpen.set(!0)}close(){this._isOpen.set(!1)}toggle(){this._isOpen.update(e=>!e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=S({token:i,factory:i.\u0275fac,providedIn:"root"})};var ot=["drawer"],at=()=>({standalone:!0}),st=(i,e)=>e.key,lt=(i,e)=>e.id;function ct(i,e){if(i&1){let t=M();o(0,"button",35),g("click",function(){u(t);let r=d(),s=v(61);return _(r.openDeleteDialog(s))}),o(1,"mat-icon"),l(2,"delete"),a(),o(3,"span",16),l(4,"Xo\xE1"),a()()}}function dt(i,e){if(i&1){let t=M();o(0,"button",48),g("click",function(r){u(t);let s=d().$implicit;return d(4).toggleColumn(s),_(r.stopPropagation())}),o(1,"mat-icon"),l(2),a(),o(3,"span"),l(4),a()()}if(i&2){let t=d().$implicit;f("disabled",!0),c(2),P(t.isShow?"check_box":"check_box_outline_blank"),c(2),P(t.value)}}function mt(i,e){if(i&1){let t=M();o(0,"button",49),g("click",function(r){u(t);let s=d().$implicit;return d(4).toggleColumn(s),_(r.stopPropagation())}),o(1,"mat-icon"),l(2),a(),o(3,"span"),l(4),a()()}if(i&2){let t=d().$implicit;c(2),P(t.isShow?"check_box":"check_box_outline_blank"),c(2),P(t.value)}}function ut(i,e){if(i&1&&x(0,dt,5,3,"button",46)(1,mt,5,2,"button",47),i&2){let t=e.$implicit;O(t.key=="stt"?0:1)}}function _t(i,e){if(i&1){let t=M();o(0,"th",36)(1,"button",40)(2,"mat-icon"),l(3,"tune"),a()(),o(4,"mat-menu",null,4)(6,"div",41)(7,"mat-form-field",42)(8,"input",43),g("input",function(r){u(t);let s=d(3);return _(s.doFilterColumns(r))})("click",function(r){return u(t),_(r.stopPropagation())}),a(),o(9,"mat-icon",44),l(10,"search"),a()(),o(11,"button",26),g("click",function(){u(t);let r=d(3);return _(r.updateDisplayedColumns())}),o(12,"mat-icon"),l(13,"check_circle"),a()()(),o(14,"div",45),E(15,ut,2,1,null,null,st),a()()()}if(i&2){let t=v(5),n=d(3);c(),f("matMenuTriggerFor",t),c(14),L(n.FilterColumns)}}function pt(i,e){i&1&&x(0,_t,17,1,"th",39)}function gt(i,e){if(i&1){let t=M();o(0,"th",37)(1,"span",51),l(2),a(),o(3,"app-searchfilter",52),g("OutFilter",function(r){u(t);let s=d(3);return _(s.onOutFilter(r))}),a()()}if(i&2){let t=d(2).$implicit,n=d();c(2),b(" ",n.ColumnName[t]," "),c(),f("icon","filter_alt")("ListItem",n.Listuser())("fieldsearch",t)("ListFilter",n.ListFilter)("filterItem",n.FilterHederColumn(n.Listuser(),t))}}function ft(i,e){i&1&&x(0,gt,4,6,"th",50)}function Ct(i,e){if(i&1){let t=M();o(0,"span",57),g("click",function(){u(t);let r=d().$implicit,s=d(2);return _(s.goToDetail(r))}),l(1),a()}if(i&2){let t=d().$implicit,n=d().$implicit;c(),b(" ",t[n]," ")}}function ht(i,e){i&1&&(o(0,"mat-icon"),l(1,"check"),a())}function xt(i,e){if(i&1&&(o(0,"span"),l(1),a()),i&2){let t=d(2).index;c(),P(t+1)}}function Mt(i,e){if(i&1){let t=M();o(0,"span",58),g("click",function(){u(t);let r=d().$implicit,s=d(2);return _(s.AddToEdit(r))}),x(1,ht,2,0,"mat-icon")(2,xt,2,1,"span"),a()}if(i&2){let t=d().$implicit,n=d(2);c(),O(n.CheckSelect(t)?1:2)}}function bt(i,e){if(i&1&&(o(0,"span",56),l(1),K(2,"date"),a()),i&2){let t=d().$implicit,n=d().$implicit;c(),b(" ",J(2,1,t[n],"dd/MM/yyyy")," ")}}function Pt(i,e){i&1&&(o(0,"mat-icon",59),l(1,"check_circle"),a())}function wt(i,e){i&1&&(o(0,"mat-icon",60),l(1,"cancel"),a())}function Ot(i,e){if(i&1&&(o(0,"span",56),x(1,Pt,2,0,"mat-icon",59)(2,wt,2,0,"mat-icon",60),a()),i&2){let t=d().$implicit,n=d().$implicit;c(),O(t[n]?1:2)}}function vt(i,e){if(i&1&&(o(0,"span",61),l(1),a()),i&2){let t=e.$implicit;c(),b(" ",t.role.name," ")}}function yt(i,e){if(i&1&&(o(0,"div",56),E(1,vt,2,1,"span",61,lt),a()),i&2){let t=d().$implicit;c(),L(t.roles)}}function Ut(i,e){if(i&1&&(o(0,"span",56),l(1),a()),i&2){let t=d().$implicit,n=d().$implicit;c(),b(" ",t[n]," ")}}function St(i,e){if(i&1&&(o(0,"td",53),x(1,Ct,2,1,"span",54)(2,Mt,3,1,"span",55)(3,bt,3,4,"span",56)(4,Ot,3,1,"span",56)(5,yt,3,0,"div",56)(6,Ut,2,1,"span",56),a()),i&2){let t,n=d().$implicit;c(),O((t=n)==="email"?1:t==="stt"?2:t==="createdAt"?3:t==="isActive"?4:t==="roles"?5:6)}}function Et(i,e){if(i&1&&($(0,31),x(1,pt,1,0,"th",36)(2,ft,1,0,"th",37)(3,St,7,1,"td",38),H()),i&2){let t=e.$implicit;f("matColumnDef",t),c(),O(t=="stt"?1:2)}}function Lt(i,e){i&1&&k(0,"tr",62)}function kt(i,e){if(i&1&&k(0,"tr",63),i&2){let t=e.$implicit,n=d();j("hover:bg-slate-50 ",n.CheckItemInEdit(t)?"!bg-blue-50":"","")}}function Ft(i,e){i&1&&(o(0,"tr",64)(1,"td",65),l(2,"Kh\xF4ng t\xECm th\u1EA5y"),a()())}function Tt(i,e){if(i&1&&(o(0,"mat-dialog-content")(1,"div",66)(2,"div",67),l(3,"X\xE1c Nh\u1EADn"),a(),o(4,"div"),l(5),a(),o(6,"div",68)(7,"button",69),l(8,"\u0110\u1ED3ng \xDD"),a(),o(9,"button",70),l(10,"Hu\u1EF7 B\u1ECF"),a()()()()),i&2){let t=d();c(5),b("B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 ",t.EditList.length," user kh\xF4ng?")}}var nt=class i{constructor(e,t,n,r,s){this.userGraphQLService=e;this.dialog=t;this.router=n;this.snackBar=r;this.drawerService=s}displayedColumns=["stt","email","username","fullName","sdt","isActive","roles","createdAt"];AllColumn=["stt","email","username","fullName","sdt","isActive","roles","createdAt"];ColumnName={stt:"#",email:"Email",username:"T\xEAn \u0111\u0103ng nh\u1EADp",fullName:"H\u1ECD v\xE0 t\xEAn",sdt:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",isActive:"Tr\u1EA1ng th\xE1i",roles:"Vai tr\xF2",createdAt:"Ng\xE0y t\u1EA1o"};FilterColumns=[];dataSource=new Ye([]);paginator;sort;drawer;Listuser;isLoading;ListFilter=[];EditList=[];page=p(1);pageSize=p(50);total=p(0);totalPages=p(1);ngOnInit(){this.Listuser=this.userGraphQLService.allUsers,this.isLoading=this.userGraphQLService.isLoading,this.initializeColumns(),this.loadUsers()}ngAfterViewInit(){Z(()=>{this.drawer&&(this.drawerService.isOpen()?this.drawer.open():this.drawer.close())})}initializeColumns(){this.FilterColumns=this.AllColumn.map(e=>({key:e,value:this.ColumnName[e],isShow:this.displayedColumns.includes(e)}))}loadUsers(){return h(this,null,function*(){try{let e=yield this.userGraphQLService.loadAllUsers();this.dataSource.data=e,this.total.set(e.length),this.updatePagination()}catch(e){this.snackBar.open("L\u1ED7i khi t\u1EA3i d\u1EEF li\u1EC7u: "+e.message,"\u0110\xF3ng",{duration:3e3})}})}updatePagination(){let e=this.dataSource.data.length;this.total.set(e),this.totalPages.set(Math.ceil(e/this.pageSize()))}applyFilter(e){let t=e.target.value;this.dataSource.filter=t.trim().toLowerCase(),this.page.set(1),this.updatePagination()}onPageSizeChange(e,t){this.pageSize.set(e),this.page.set(1),this.updatePagination(),t&&t.closeMenu()}onNextPage(){this.page()<this.totalPages()&&this.page.set(this.page()+1)}onPreviousPage(){this.page()>1&&this.page.set(this.page()-1)}doFilterColumns(e){let t=e.target.value.toLowerCase();this.FilterColumns=this.AllColumn.map(n=>({key:n,value:this.ColumnName[n],isShow:this.displayedColumns.includes(n)})).filter(n=>n.value.toLowerCase().includes(t))}toggleColumn(e){e.isShow=!e.isShow}updateDisplayedColumns(){this.displayedColumns=this.FilterColumns.filter(e=>e.isShow).map(e=>e.key)}FilterHederColumn(e,t){return[...new Set(e.map(r=>r[t]))].filter(r=>r!=null)}onOutFilter(e){this.ListFilter=e,this.applyFilters()}applyFilters(){let e=[...this.Listuser()];this.ListFilter.forEach(t=>{t.values&&t.values.length>0&&(e=e.filter(n=>t.values.includes(n[t.field])))}),this.dataSource.data=e,this.page.set(1),this.updatePagination()}create(){this.router.navigate(["/admin/user/new"],{relativeTo:null})}goToDetail(e){this.userGraphQLService.setCurrentUser(e),this.drawerService.open()}AddToEdit(e){let t=this.EditList.findIndex(n=>n.id===e.id);t>-1?this.EditList.splice(t,1):this.EditList.push(e)}CheckSelect(e){return this.EditList.some(t=>t.id===e.id)}CheckItemInEdit(e){return this.EditList.some(t=>t.id===e.id)}openDeleteDialog(e){this.dialog.open(e).afterClosed().subscribe(n=>{n&&this.deleteSelectedUsers()})}deleteSelectedUsers(){return h(this,null,function*(){try{for(let e of this.EditList)yield this.userGraphQLService.deleteUser(e.id);this.snackBar.open(`\u0110\xE3 x\xF3a ${this.EditList.length} user th\xE0nh c\xF4ng`,"\u0110\xF3ng",{duration:3e3}),this.EditList=[],yield this.loadUsers()}catch(e){this.snackBar.open("L\u1ED7i khi x\xF3a user: "+e.message,"\u0110\xF3ng",{duration:3e3})}})}static \u0275fac=function(t){return new(t||i)(w(V),w(we),w(re),w(le),w(R))};static \u0275cmp=B({type:i,selectors:[["app-listuser"]],viewQuery:function(t,n){if(t&1&&(F(Ve,5),F(D,5),F(ot,5)),t&2){let r;T(r=I())&&(n.paginator=r.first),T(r=I())&&(n.sort=r.first),T(r=I())&&(n.drawer=r.first)}},decls:62,vars:18,consts:[["drawer",""],["menuHienthi","matMenuTrigger"],["menu1","matMenu"],["DeleteDialog",""],["menu","matMenu"],["autosize","",1,"w-full","h-full"],["mode","over",1,"flex","flex-col","!w-full","h-full",3,"position"],[1,"flex","flex-col","space-y-2","h-screen-16","w-full","p-2"],[1,"p-2","cursor-pointer","w-full","relative","flex","lg:flex-row","lg:space-y-2","space-y-0","flex-col","space-x-2","justify-between","items-center","bg-white","rounded-lg"],[1,"w-full","flex","flex-col","gap-2","lg:flex-row","lg:items-center","lg:justify-between"],[1,"flex","flex-row","space-x-2","items-center"],[1,"relative","w-full"],["type","text","placeholder","T\xECm Ki\u1EBFm User...",1,"block","w-full","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],["color","primary","matTooltip","Th\xEAm m\u1EDBi","mat-flat-button","",1,"flex","flex-row","items-center",3,"click"],[1,"whitespace-nowrap"],["class","flex flex-row items-center","color","warn","matTooltip","Xo\xE1","mat-flat-button","",3,"click",4,"ngIf"],[1,"w-full","flex","flex-row","space-x-4","justify-end","items-center"],[1,"flex","items-center","text-center"],[1,"flex","items-center","justify-center"],[1,"flex","flex-row","space-x-2","justify-center","items-center"],[1,"font-bold","text-blue-600",3,"matMenuTriggerFor"],[1,"w-full","flex","flex-row","space-x-2","p-4",3,"click"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp S\u1ED1 L\u01B0\u1EE3ng",3,"ngModelChange","ngModel","ngModelOptions"],["mat-icon-button","","color","primary",3,"click"],[1,"flex","flex-row","items-center"],["mat-icon-button","","color","primary",3,"click","disabled"],[1,"w-full","h-full","overflow-auto"],["mat-table","","matSort","",1,"!border","w-full","cursor-pointer",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","border","mat-row","",3,"class",4,"matRowDef","matRowDefColumns"],["class","mat-row border",4,"matNoDataRow"],["color","warn","matTooltip","Xo\xE1","mat-flat-button","",1,"flex","flex-row","items-center",3,"click"],["mat-header-cell","",1,"!border","!bg-slate-100","justify-center"],["mat-header-cell","","mat-sort-header","",1,"!border","whitespace-nowrap","!bg-slate-100"],["class","border","mat-cell","",4,"matCellDef"],["class","!border !bg-slate-100 justify-center","mat-header-cell","",4,"matHeaderCellDef"],["matTooltip","\u1EA8n hi\u1EC7n c\u1ED9t","mat-icon-button","","color","primary",3,"matMenuTriggerFor"],[1,"flex","flex-row","space-x-2","items-center","p-4"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"input","click"],["matPrefix",""],[1,"flex","flex-col","max-h-80","overflow-auto"],["mat-menu-item","",3,"disabled"],["mat-menu-item",""],["mat-menu-item","",3,"click","disabled"],["mat-menu-item","",3,"click"],["class","!border whitespace-nowrap !bg-slate-100","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],[1,"max-w-40","line-clamp-4","me-4"],[3,"OutFilter","icon","ListItem","fieldsearch","ListFilter","filterItem"],["mat-cell","",1,"border"],[1,"max-w-40","line-clamp-4","font-bold","text-blue-600"],[1,"flex","justify-center","items-center","font-bold","text-blue-600"],[1,"max-w-40","line-clamp-4"],[1,"max-w-40","line-clamp-4","font-bold","text-blue-600",3,"click"],[1,"flex","justify-center","items-center","font-bold","text-blue-600",3,"click"],[1,"text-green-500"],[1,"text-red-500"],[1,"inline-block","bg-blue-100","text-blue-800","text-xs","px-2","py-1","rounded-full","mr-1","mb-1"],["mat-header-row",""],["mat-row","",1,"border"],[1,"mat-row","border"],["colspan","4",1,"mat-cell","p-4"],[1,"flex","flex-col","space-y-8","items-center","justify-center"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary","mat-dialog-close","true"],["mat-flat-button","","color","warn","mat-dialog-close","false"]],template:function(t,n){if(t&1){let r=M();o(0,"mat-drawer-container",5)(1,"mat-drawer",6,0),k(3,"router-outlet"),a(),o(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"input",12),g("keyup",function(m){return u(r),_(n.applyFilter(m))}),a(),o(10,"div",13)(11,"span",14),l(12,"search"),a()()(),o(13,"button",15),g("click",function(){return u(r),_(n.create())}),o(14,"mat-icon"),l(15,"add_circle"),a(),o(16,"span",16),l(17,"T\u1EA1o M\u1EDBi"),a()(),x(18,ct,5,0,"button",17),a()(),o(19,"div",18)(20,"div",19)(21,"strong"),l(22),a(),l(23," - "),o(24,"strong"),l(25),a(),l(26),a(),o(27,"div",20)(28,"span"),l(29),a(),o(30,"span"),l(31,"Trang"),a()(),o(32,"div",21)(33,"span",22,1),l(35),a(),o(36,"mat-menu",null,2)(38,"div",23),g("click",function(m){return u(r),_(m.stopPropagation())}),o(39,"mat-form-field",24)(40,"mat-label"),l(41,"S\u1ED1 l\u01B0\u1EE3ng"),a(),o(42,"input",25),W("ngModelChange",function(m){return u(r),G(n.pageSize,m)||(n.pageSize=m),_(m)}),a()(),o(43,"button",26),g("click",function(){u(r);let m=v(34);return _(n.onPageSizeChange(n.pageSize(),m))}),o(44,"mat-icon"),l(45,"published_with_changes"),a()()()(),o(46,"div",27)(47,"button",28),g("click",function(){return u(r),_(n.onPreviousPage())}),o(48,"mat-icon"),l(49,"keyboard_arrow_left"),a()(),o(50,"button",28),g("click",function(){return u(r),_(n.onNextPage())}),o(51,"mat-icon"),l(52,"keyboard_arrow_right"),a()()()()()(),o(53,"div",29)(54,"table",30),E(55,Et,4,2,"ng-container",31,N),x(57,Lt,1,0,"tr",32)(58,kt,1,3,"tr",33)(59,Ft,3,0,"tr",34),a()()()(),x(60,Tt,11,1,"ng-template",null,3,Y)}if(t&2){let r=v(37);c(),f("position","end"),c(17),f("ngIf",n.EditList.length>0),c(4),P((n.page()-1)*n.pageSize()+1),c(3),P(n.page()*n.pageSize()>n.total()?n.total():n.page()*n.pageSize()),c(),b(" / ",n.total()," m\u1EE5c "),c(3),Q("",n.page(),"/",n.totalPages()," "),c(4),f("matMenuTriggerFor",r),c(2),b("",n.pageSize()," m\u1EE5c"),c(7),q("ngModel",n.pageSize),f("ngModelOptions",X(17,at)),c(5),f("disabled",n.page()===1),c(3),f("disabled",n.page()===n.totalPages()),c(4),f("dataSource",n.dataSource),c(),L(n.displayedColumns),c(2),f("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),c(),f("matRowDefColumns",n.displayedColumns)}},dependencies:[Le,Ee,Ue,Se,Fe,ke,Je,Be,Ne,qe,$e,je,Ge,He,Qe,We,Xe,Ke,ze,D,Ae,Re,he,fe,ge,Ce,ue,de,me,ie,pe,_e,se,oe,ae,Te,ne,ee,te,Pe,xe,Me,be,De,Ie,ye,Oe,ve,Ze],styles:[".user-list-container[_ngcontent-%COMP%]   .toolbar-section[_ngcontent-%COMP%]{transition:all .3s ease}.user-list-container[_ngcontent-%COMP%]   .toolbar-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{transition:border-color .2s ease}.user-list-container[_ngcontent-%COMP%]   .toolbar-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 0 2px #3b82f61a}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]{position:relative}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]{background:#fff;border-radius:8px}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%]{background-color:#f8fafc;border-bottom:2px solid #e2e8f0}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#374151;padding:16px 12px}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#2563eb}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]{transition:background-color .15s ease;border-bottom:1px solid #f1f5f9}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row.selected[_ngcontent-%COMP%]{background-color:#eff6ff;border-color:#bfdbfe}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row.editing[_ngcontent-%COMP%]{background-color:#fefce8;border-color:#fcd34d}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:12px;vertical-align:middle}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#fffc;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);display:flex;align-items:center;justify-content:center;z-index:10}.user-list-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .page-size-selector[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{min-width:80px}.user-list-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .page-navigation[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]{transition:background-color .2s ease}.user-list-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .page-navigation[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]:disabled{opacity:.4}.user-list-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .page-navigation[_ngcontent-%COMP%]   .current-page[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);border:1px solid #d1d5db;color:#374151;font-weight:600}.user-list-container[_ngcontent-%COMP%]   .column-menu[_ngcontent-%COMP%]{max-width:320px}.user-list-container[_ngcontent-%COMP%]   .column-menu[_ngcontent-%COMP%]   .column-search[_ngcontent-%COMP%]{border-bottom:1px solid #e5e7eb;margin-bottom:8px}.user-list-container[_ngcontent-%COMP%]   .column-menu[_ngcontent-%COMP%]   .column-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.user-list-container[_ngcontent-%COMP%]   .column-menu[_ngcontent-%COMP%]   .column-list[_ngcontent-%COMP%]   .mat-mdc-checkbox[_ngcontent-%COMP%]{margin:4px 0}.user-list-container[_ngcontent-%COMP%]   .column-menu[_ngcontent-%COMP%]   .column-list[_ngcontent-%COMP%]   .mat-mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox[_ngcontent-%COMP%]{padding:8px}.user-list-container[_ngcontent-%COMP%]   .column-menu[_ngcontent-%COMP%]   .column-list[_ngcontent-%COMP%]   .mat-mdc-checkbox[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:#374151}.user-list-container[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);border:1px solid #93c5fd;border-radius:8px;padding:8px 16px}.user-list-container[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:600}.user-list-container[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]{margin:0 4px}.user-list-container[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.user-list-container[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534;border:1px solid #bbf7d0}.user-list-container[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background-color:#fef2f2;color:#dc2626;border:1px solid #fecaca}.user-list-container[_ngcontent-%COMP%]   .role-badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px}.user-list-container[_ngcontent-%COMP%]   .role-badges[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500;border:1px solid #bfdbfe}.user-list-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px;justify-content:center}.user-list-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]{width:36px;height:36px}.user-list-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.user-list-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:#6b7280}.user-list-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.5}.user-list-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:16px;margin-bottom:16px}@media (max-width: 768px){.user-list-container[_ngcontent-%COMP%]   .toolbar-section[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{min-width:200px}.user-list-container[_ngcontent-%COMP%]   .toolbar-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:120px}.user-list-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.user-list-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]{text-align:center}.user-list-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%]{justify-content:center}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%], .user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:8px 6px;font-size:13px}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell.actions-column[_ngcontent-%COMP%], .user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell.actions-column[_ngcontent-%COMP%]{width:120px}}@media (prefers-color-scheme: dark){.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]{background:#1f2937}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%]{background-color:#374151}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{color:#f9fafb}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]{border-bottom-color:#374151}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#374151}.user-list-container[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{color:#e5e7eb}}"],changeDetection:0})};export{V as a,R as b,nt as c};

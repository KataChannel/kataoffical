import{a as we}from"./chunk-SRDY6OJI.js";import{a as ge}from"./chunk-2SFSOIRB.js";import{a as C,b as ee,c as S,d as te,e as ie}from"./chunk-JBFQEBZ7.js";import{c as ae,d as re,e as oe,g as ne,h as le,j as me,k as se,m as ce,n as pe,p as ue,q as de,r as fe,s as he}from"./chunk-L4KXUMTQ.js";import{b as x,c as Z}from"./chunk-3F7BKIWY.js";import{a as G,b as $,c as q}from"./chunk-T4I4LS2O.js";import{d as U}from"./chunk-ISL3NNFX.js";import{a as K,b as J}from"./chunk-EI6QBKUT.js";import{A as Y,o as W,x as X}from"./chunk-7HD343AH.js";import{c as j,e as z}from"./chunk-VMFW3YFK.js";import{y as Q,z as A}from"./chunk-ZQXWC5PU.js";import{b as O,c as B}from"./chunk-WDMWHZJL.js";import{u as H}from"./chunk-XQ7FWWG3.js";import{Ac as _,Eb as L,Ec as F,Fc as c,Hc as v,Lb as d,Oc as N,Vb as m,ac as k,cc as R,dc as E,ec as I,fc as n,gc as l,hc as f,ic as P,jc as V,lc as T,oa as M,qc as h,rb as o,sc as s,wb as b,xa as p,ya as u,yc as g,zc as w}from"./chunk-OSJESZB6.js";import{j as D}from"./chunk-6DYNGEAS.js";var Ce=["drawer"],Se=()=>[5,10,25,100];function ye(a,i){}function De(a,i){if(a&1&&(n(0,"th",22),c(1),l()),a&2){let e=s().$implicit,t=s();o(),v("",t.ColumnName[e]," ")}}function Me(a,i){if(a&1&&(n(0,"td",23),c(1),l()),a&2){let e=i.$implicit,t=i.index,r=s().$implicit;o(),v(" ",r==="STT"?t+1:e[r]," ")}}function be(a,i){if(a&1&&(P(0,15),d(1,De,2,1,"th",20)(2,Me,2,1,"td",21),V()),a&2){let e=i.$implicit;m("matColumnDef",e)}}function Te(a,i){a&1&&f(0,"tr",24)}function xe(a,i){if(a&1){let e=T();n(0,"tr",25),h("click",function(){let r=p(e).$implicit,y=s();return u(y.goToDetail(r))}),l()}}function Le(a,i){if(a&1&&(n(0,"tr",26)(1,"td",27),c(2),l()()),a&2){s();let e=F(10);o(2),v('Kh\xF4ng t\xECm th\u1EA5y "',e.value,'"')}}var _e=class a{constructor(i,e){this._breakpointObserver=i;this._router=e}Detail={};dataSource;displayedColumns=["STT","Title","Slug","CreatedAt"];ColumnName={STT:"STT",Title:"Ti\xEAu \u0110\u1EC1",Slug:"\u0110\u01B0\u1EDDng D\u1EABn",CreatedAt:"Ng\xE0y T\u1EA1o"};ListDanhmuc=[];_GoogleSheetService=M(ge);paginator;sort;drawer;_DanhmucsService=M(we);isDownloadDrive=!1;ngOnInit(){return D(this,null,function*(){let i=JSON.parse(localStorage.getItem("ListSheets")||"[]");if(console.log(i),i.length>0){let e=i.find(t=>t.SheetName==="Danhmuc");e&&this._GoogleSheetService.getDrive(e).then(t=>{t.values.length>0&&(this.displayedColumns=t.values[0].map(r=>r),this.ColumnName=Z(t.values),this.dataSource=new he(x(t.values)),this.ListDanhmuc=x(t.values),console.log(this.ListDanhmuc),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)})}this.Detail.id?this.drawer.open():this.drawer.close(),this._breakpointObserver.observe([A.Handset]).subscribe(e=>{e.matches?(this.drawer.mode="over",this.paginator.hidePageSize=!0):this.drawer.mode="side"})})}GetDrive(){return D(this,null,function*(){})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.paginator._intl.itemsPerPageLabel="S\u1ED1 l\u01B0\u1EE3ng 1 trang",this.paginator._intl.nextPageLabel="Ti\u1EBFp Theo",this.paginator._intl.previousPageLabel="V\u1EC1 Tr\u01B0\u1EDBc",this.paginator._intl.firstPageLabel="Trang \u0110\u1EA7u",this.paginator._intl.lastPageLabel="Trang Cu\u1ED1i",this.paginator.pageSize=30}applyFilter(i){let e=i.target.value;this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}Create(){this.drawer.open(),this._router.navigate(["admin/danhmuc",0])}goToDetail(i){this.drawer.open(),this.Detail=i,this._router.navigate(["admin/danhmuc",i.id])}static \u0275fac=function(e){return new(e||a)(b(Q),b(B))};static \u0275cmp=L({type:a,selectors:[["app-listdanhmuc"]],viewQuery:function(e,t){if(e&1&&(g(C,5),g(S,5),g(Ce,7)),e&2){let r;w(r=_())&&(t.paginator=r.first),w(r=_())&&(t.sort=r.first),w(r=_())&&(t.drawer=r.first)}},decls:26,vars:7,consts:[["drawer",""],["input",""],["autosize","",1,"w-full","h-full"],[1,"flex","flex-col","lg:!w-1/3","!w-full","h-full",3,"position"],[1,"flex","flex-col","space-y-2","h-screen-12","w-full","justify-between","p-2"],[1,"flex","flex-col","space-y-2","w-full","p-2"],[1,"cursor-pointer","w-full","relative","grid","lg:grid-cols-2","gap-2","justify-between","items-center"],[1,"w-full","flex","flex-row","space-x-2","items-center"],[1,"relative"],["type","text","placeholder","T\xECm Ki\u1EBFm...",1,"block","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],["mat-icon-button","","color","primary",3,"click"],[1,"w-full"],["mat-table","","matSort","",1,"!border","w-full","cursor-pointer",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of danhmucs",3,"pageSizeOptions"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","whitespace-nowrap","mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],["mat-cell","",1,"whitespace-nowrap"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){if(e&1){let r=T();n(0,"mat-drawer-container",2)(1,"mat-drawer",3,0),f(3,"router-outlet"),l(),n(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"input",9,1),h("keyup",function(ve){return p(r),u(t.applyFilter(ve))}),l(),n(11,"div",10)(12,"span",11),c(13,"search"),l()()(),n(14,"button",12),h("click",function(){return p(r),u(t.Create())}),n(15,"mat-icon"),c(16,"add_circle"),l()()()(),d(17,ye,0,0),n(18,"div",13)(19,"table",14),E(20,be,3,1,"ng-container",15,R),d(22,Te,1,0,"tr",16)(23,xe,1,0,"tr",17)(24,Le,3,1,"tr",18),l(),f(25,"mat-paginator",19),l()()()()}e&2&&(o(),m("position","end"),o(16),k(t.isDownloadDrive?17:-1),o(2),m("dataSource",t.dataSource),o(),I(t.displayedColumns),o(2),m("matHeaderRowDef",t.displayedColumns),o(),m("matRowDefColumns",t.displayedColumns),o(2),m("pageSizeOptions",N(6,Se)))},dependencies:[X,Y,fe,ae,oe,se,ne,re,ce,le,me,pe,ue,de,ie,S,te,ee,C,U,q,G,$,O,J,K,z,j,W,H],encapsulation:2})};export{_e as a};

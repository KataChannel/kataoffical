import{a as Le}from"./chunk-XKDN26LH.js";import{a as fe,b as Pe}from"./chunk-55FEK267.js";import"./chunk-H7UDLENL.js";import"./chunk-RQQ6YENK.js";import{g as Ae,k as Ve,n as v}from"./chunk-ZUE3IRRM.js";import{c as ie,h as ae}from"./chunk-OX3TZWZA.js";import{a as G,b as $}from"./chunk-VXBHOSYZ.js";import{a as Me}from"./chunk-RHYJKD3I.js";import"./chunk-KZMYTDV6.js";import{a as be,b as xe,c as Oe,e as Ee,f as ye,h as ke,i as ve,k as Se,l as we,n as Be,p as Te}from"./chunk-BZVMQJ4C.js";import{b as Ie,f as Ue}from"./chunk-U7JSXEMB.js";import{a as De,b as Fe}from"./chunk-NPGOXYZL.js";import{a as de,b as ue}from"./chunk-L5KBJURB.js";import{b as me,c as pe}from"./chunk-KOXUJKQJ.js";import{B as le,b as j,d as w,g as z,h as Y,k as J,l as K,n as Q,o as W,p as Z,r as ee,s as te,t as ne,u as re,x as ce,y as oe}from"./chunk-25GHV3TY.js";import"./chunk-5HHQ5INI.js";import{a as se,b as ge,c as _e,f as Ce,g as he}from"./chunk-S7DL3WCP.js";import{a as H,b as q}from"./chunk-73LHEHCA.js";import"./chunk-ZKNE6K2R.js";import"./chunk-3OYUZXR2.js";import"./chunk-2PPFUFFT.js";import{a as N,c as R,e as X}from"./chunk-VPMLDNK4.js";import{la as L}from"./chunk-A7LAK7O4.js";import"./chunk-3QZHTKAG.js";import{l as F,m as A,x as V}from"./chunk-KFQ5FW2D.js";import{Cc as D,Db as U,Dc as a,Ec as b,Fc as x,Gc as I,Kb as d,Ra as M,Ub as p,Wb as y,ec as i,fc as n,gc as O,hc as h,ic as f,kc as k,pc as C,rb as o,rc as s,wb as E,ya as g,za as _}from"./chunk-WYL4U5YK.js";import"./chunk-LWLSKGAV.js";import{a as B,b as T,j as S}from"./chunk-6DYNGEAS.js";function Xe(t,r){if(t&1&&(i(0,"mat-option",28),a(1),n()),t&2){let e=r.$implicit;p("value",e.id),o(),x(" ",e.title," ")}}function Ge(t,r){t&1&&(i(0,"mat-form-field",11)(1,"mat-label"),a(2,"Thay \u0111\u1ED5i (%)"),n(),O(3,"input",29),i(4,"span",30),a(5,"%"),n()())}function $e(t,r){t&1&&(i(0,"mat-form-field",11)(1,"mat-label"),a(2,"S\u1ED1 ti\u1EC1n"),n(),O(3,"input",31),i(4,"span",30),a(5,"\u0111"),n()())}function He(t,r){if(t&1){let e=k();i(0,"button",32),C("click",function(){g(e);let l=s();return _(l.applyBulkChange())}),i(1,"mat-icon"),a(2,"calculate"),n(),a(3," \xC1p d\u1EE5ng thay \u0111\u1ED5i "),n()}if(t&2){let e=s();p("disabled",e.priceUpdates().length===0)}}function qe(t,r){if(t&1&&(i(0,"mat-card",33)(1,"mat-card-content")(2,"div",34)(3,"div",35)(4,"mat-icon",36),a(5,"inventory"),n(),i(6,"div",37),a(7),n(),i(8,"div",38),a(9,"T\u1ED5ng s\u1EA3n ph\u1EA9m"),n()(),i(10,"div",39)(11,"mat-icon",40),a(12,"check_circle"),n(),i(13,"div",37),a(14),n(),i(15,"div",38),a(16,"Th\xE0nh c\xF4ng"),n()(),i(17,"div",41)(18,"mat-icon",42),a(19,"error"),n(),i(20,"div",37),a(21),n(),i(22,"div",38),a(23,"Th\u1EA5t b\u1EA1i"),n()(),i(24,"div",43)(25,"mat-icon"),a(26),n(),i(27,"div",37),a(28),n(),i(29,"div",38),a(30,"T\u1ED5ng thay \u0111\u1ED5i"),n()()()()()),t&2){let e=s();o(7),b(e.summary().total),o(7),b(e.summary().success),o(7),b(e.summary().failed),o(4),y("positive",e.summary().totalChange>=0)("negative",e.summary().totalChange<0),o(),x(" ",e.summary().totalChange>=0?"trending_up":"trending_down"," "),o(),y("positive",e.summary().totalChange>=0)("negative",e.summary().totalChange<0),o(),x(" ",e.formatCurrency(e.summary().totalChange)," ")}}function je(t,r){t&1&&O(0,"mat-spinner",65)}function ze(t,r){t&1&&(i(0,"mat-icon"),a(1,"save"),n())}function Ye(t,r){t&1&&(i(0,"th",66),a(1,"S\u1EA3n ph\u1EA9m"),n())}function Je(t,r){if(t&1&&(i(0,"td",67)(1,"div",68)(2,"strong"),a(3),n(),i(4,"small"),a(5),n()()()),t&2){let e=r.$implicit;o(3),b(e.sanphamTitle),o(2),b(e.sanphamId)}}function Ke(t,r){t&1&&(i(0,"th",66),a(1,"Gi\xE1 hi\u1EC7n t\u1EA1i"),n())}function Qe(t,r){if(t&1&&(i(0,"td",67),a(1),n()),t&2){let e=r.$implicit,c=s(2);o(),x(" ",c.formatCurrency(e.currentPrice)," ")}}function We(t,r){t&1&&(i(0,"th",66),a(1,"Gi\xE1 m\u1EDBi"),n())}function Ze(t,r){if(t&1&&(i(0,"td",67)(1,"strong"),a(2),n()()),t&2){let e=r.$implicit,c=s(2);o(),y("price-increase",e.change>0)("price-decrease",e.change<0),o(),x(" ",c.formatCurrency(e.newPrice)," ")}}function et(t,r){t&1&&(i(0,"th",66),a(1,"Ch\xEAnh l\u1EC7ch"),n())}function tt(t,r){if(t&1&&(i(0,"td",67)(1,"span",69),a(2),n()()),t&2){let e=r.$implicit,c=s(2);o(),y("positive",e.change>0)("negative",e.change<0),o(),I(" ",e.change>0?"+":"","",c.formatCurrency(e.change)," ")}}function nt(t,r){t&1&&(i(0,"th",66),a(1,"%"),n())}function it(t,r){if(t&1&&(i(0,"td",67)(1,"mat-chip")(2,"mat-icon"),a(3),n(),a(4),n()()),t&2){let e=r.$implicit;o(),y("increase-chip",e.changePercent>0)("decrease-chip",e.changePercent<0),o(2),b(e.changePercent>0?"trending_up":e.changePercent<0?"trending_down":"remove"),o(),I(" ",e.changePercent>0?"+":"","",e.changePercent.toFixed(1),"% ")}}function at(t,r){t&1&&(i(0,"th",66),a(1,"L\xFD do"),n())}function rt(t,r){if(t&1&&(i(0,"td",67)(1,"span",70),a(2),n()()),t&2){let e=r.$implicit;o(2),b(e.reason)}}function ct(t,r){t&1&&(i(0,"th",66),a(1,"Tr\u1EA1ng th\xE1i"),n())}function ot(t,r){t&1&&(i(0,"mat-chip",74)(1,"mat-icon"),a(2,"schedule"),n(),a(3," Ch\u1EDD x\u1EED l\xFD "),n())}function lt(t,r){t&1&&(i(0,"mat-chip",75)(1,"mat-icon"),a(2,"check_circle"),n(),a(3," Th\xE0nh c\xF4ng "),n())}function mt(t,r){if(t&1&&(i(0,"mat-chip",76)(1,"mat-icon"),a(2,"error"),n(),a(3," Th\u1EA5t b\u1EA1i "),n()),t&2){let e=s().$implicit;p("matTooltip",e.error||"")}}function pt(t,r){if(t&1&&(i(0,"td",67),d(1,ot,4,0,"mat-chip",71)(2,lt,4,0,"mat-chip",72)(3,mt,4,1,"mat-chip",73),n()),t&2){let e=r.$implicit;o(),p("ngIf",e.status==="pending"),o(),p("ngIf",e.status==="success"),o(),p("ngIf",e.status==="error")}}function dt(t,r){t&1&&(i(0,"th",66),a(1,"Thao t\xE1c"),n())}function ut(t,r){if(t&1){let e=k();i(0,"td",67)(1,"button",77),C("click",function(){let l=g(e).index,m=s(2);return _(m.removeRow(l))}),i(2,"mat-icon"),a(3,"delete"),n()()()}if(t&2){let e=s(2);o(),p("disabled",e.processing())}}function st(t,r){t&1&&O(0,"tr",78)}function gt(t,r){t&1&&O(0,"tr",79)}function _t(t,r){if(t&1){let e=k();i(0,"mat-card",44)(1,"mat-card-content")(2,"div",45)(3,"h3"),a(4),n(),i(5,"div",46)(6,"button",47),C("click",function(){g(e);let l=s();return _(l.previewChanges())}),i(7,"mat-icon"),a(8,"visibility"),n(),a(9," Xem tr\u01B0\u1EDBc "),n(),i(10,"button",48),C("click",function(){g(e);let l=s();return _(l.applyChanges())}),d(11,je,1,0,"mat-spinner",49)(12,ze,2,0,"mat-icon",50),a(13),n()()(),i(14,"div",51)(15,"table",52),h(16,53),d(17,Ye,2,0,"th",54)(18,Je,6,2,"td",55),f(),h(19,56),d(20,Ke,2,0,"th",54)(21,Qe,2,1,"td",55),f(),h(22,57),d(23,We,2,0,"th",54)(24,Ze,3,5,"td",55),f(),h(25,58),d(26,et,2,0,"th",54)(27,tt,3,6,"td",55),f(),h(28,59),d(29,nt,2,0,"th",54)(30,it,5,7,"td",55),f(),h(31,60),d(32,at,2,0,"th",54)(33,rt,3,1,"td",55),f(),h(34,61),d(35,ct,2,0,"th",54)(36,pt,4,3,"td",55),f(),h(37,62),d(38,dt,2,0,"th",54)(39,ut,4,1,"td",55),f(),d(40,st,1,0,"tr",63)(41,gt,1,0,"tr",64),n()()()()}if(t&2){let e=s();o(4),x("Danh s\xE1ch c\u1EADp nh\u1EADt (",e.priceUpdates().length," s\u1EA3n ph\u1EA9m)"),o(2),p("disabled",e.previewing()),o(4),p("disabled",e.processing()),o(),p("ngIf",e.processing()),o(),p("ngIf",!e.processing()),o(),x(" ",e.processing()?"\u0110ang x\u1EED l\xFD...":"\xC1p d\u1EE5ng thay \u0111\u1ED5i"," "),o(2),p("dataSource",e.priceUpdates()),o(25),p("matHeaderRowDef",e.displayedColumns),o(),p("matRowDefColumns",e.displayedColumns)}}function Ct(t,r){t&1&&(i(0,"mat-card",80)(1,"mat-card-content")(2,"mat-icon"),a(3,"inbox"),n(),i(4,"h3"),a(5,"Ch\u01B0a c\xF3 d\u1EEF li\u1EC7u"),n(),i(6,"p"),a(7,"Nh\u1EADp file Excel ho\u1EB7c th\xEAm s\u1EA3n ph\u1EA9m th\u1EE7 c\xF4ng \u0111\u1EC3 b\u1EAFt \u0111\u1EA7u"),n()()())}var Ne=class t{constructor(r,e,c,l,m){this.fb=r;this.priceService=e;this.graphqlService=c;this.snackBar=l;this.dialog=m}updateForm;loading=M(!1);previewing=M(!1);processing=M(!1);priceUpdates=M([]);displayedColumns=["sanphamTitle","currentPrice","newPrice","change","changePercent","reason","status","actions"];banggiaList=M([]);selectedBanggiaId=M("");summary=M({total:0,success:0,failed:0,totalChange:0});ngOnInit(){this.initForm(),this.loadBanggiaList()}initForm(){this.updateForm=this.fb.group({banggiaId:["",w.required],updateType:["manual",w.required],percentChange:[0],fixedAmount:[0],reason:["",w.required]})}loadBanggiaList(){return S(this,null,function*(){try{this.loading.set(!0);let r=yield this.graphqlService.findAll("banggia",{select:{id:!0,title:!0,mabanggia:!0,status:!0,type:!0,isActive:!0},where:{isActive:!0},orderBy:{title:"asc"},take:100,aggressiveCache:!0});this.banggiaList.set(r.data||[]),r.data&&r.data.length>0&&(this.updateForm.patchValue({banggiaId:r.data[0].id}),this.selectedBanggiaId.set(r.data[0].id))}catch(r){console.error("Error loading banggia list:",r),this.snackBar.open("L\u1ED7i t\u1EA3i danh s\xE1ch b\u1EA3ng gi\xE1","\u0110\xF3ng",{duration:3e3})}finally{this.loading.set(!1)}})}onFileSelected(r){let e=r.target.files[0];if(!e)return;let c=new FileReader;c.onload=l=>{try{let m=new Uint8Array(l.target.result),u=Ae(m,{type:"array"}),P=u.Sheets[u.SheetNames[0]],Re=v.sheet_to_json(P);this.processExcelData(Re)}catch{this.snackBar.open("L\u1ED7i \u0111\u1ECDc file Excel","\u0110\xF3ng",{duration:3e3})}},c.readAsArrayBuffer(e)}processExcelData(r){let e=r.map(c=>({sanphamId:c["M\xE3 s\u1EA3n ph\u1EA9m"]||c.sanphamId||"",sanphamTitle:c["T\xEAn s\u1EA3n ph\u1EA9m"]||c.sanphamTitle||"",currentPrice:parseFloat(c["Gi\xE1 hi\u1EC7n t\u1EA1i"]||c.currentPrice||0),newPrice:parseFloat(c["Gi\xE1 m\u1EDBi"]||c.newPrice||0),change:0,changePercent:0,reason:c["L\xFD do"]||c.reason||this.updateForm.value.reason||"",status:"pending"}));e.forEach(c=>{c.change=c.newPrice-c.currentPrice,c.changePercent=c.currentPrice>0?c.change/c.currentPrice*100:0}),this.priceUpdates.set(e),this.calculateSummary(),this.snackBar.open(`\u0110\xE3 t\u1EA3i ${e.length} s\u1EA3n ph\u1EA9m t\u1EEB Excel`,"\u0110\xF3ng",{duration:3e3})}downloadTemplate(){let r=[{"M\xE3 s\u1EA3n ph\u1EA9m":"SP001","T\xEAn s\u1EA3n ph\u1EA9m":"V\xED d\u1EE5 s\u1EA3n ph\u1EA9m","Gi\xE1 hi\u1EC7n t\u1EA1i":1e4,"Gi\xE1 m\u1EDBi":12e3,"L\xFD do":"T\u0103ng gi\xE1 theo th\u1ECB tr\u01B0\u1EDDng"}],e=v.json_to_sheet(r),c=v.book_new();v.book_append_sheet(c,e,"C\u1EADp nh\u1EADt gi\xE1"),Ve(c,"mau-cap-nhat-gia.xlsx")}addManualRow(){let r={sanphamId:"",sanphamTitle:"",currentPrice:0,newPrice:0,change:0,changePercent:0,reason:this.updateForm.value.reason||"",status:"pending"};this.priceUpdates.update(e=>[...e,r])}removeRow(r){this.priceUpdates.update(e=>e.filter((c,l)=>l!==r)),this.calculateSummary()}applyBulkChange(){let{updateType:r,percentChange:e,fixedAmount:c}=this.updateForm.value;this.priceUpdates.update(l=>l.map(m=>(r==="percent"?m.newPrice=m.currentPrice*(1+e/100):r==="fixed"&&(m.newPrice=m.currentPrice+c),m.change=m.newPrice-m.currentPrice,m.changePercent=m.currentPrice>0?m.change/m.currentPrice*100:0,m))),this.calculateSummary()}previewChanges(){return S(this,null,function*(){if(this.priceUpdates().length===0){this.snackBar.open("Ch\u01B0a c\xF3 d\u1EEF li\u1EC7u \u0111\u1EC3 xem tr\u01B0\u1EDBc","\u0110\xF3ng",{duration:3e3});return}this.previewing.set(!0),this.calculateSummary(),this.snackBar.open("Xem tr\u01B0\u1EDBc thay \u0111\u1ED5i","\u0110\xF3ng",{duration:2e3}),setTimeout(()=>{this.previewing.set(!1)},100)})}applyChanges(){return S(this,null,function*(){if(!this.updateForm.valid){this.snackBar.open("Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin","\u0110\xF3ng",{duration:3e3});return}if(this.priceUpdates().length===0){this.snackBar.open("Ch\u01B0a c\xF3 d\u1EEF li\u1EC7u \u0111\u1EC3 c\u1EADp nh\u1EADt","\u0110\xF3ng",{duration:3e3});return}if(confirm(`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n c\u1EADp nh\u1EADt ${this.priceUpdates().length} s\u1EA3n ph\u1EA9m?`)){this.processing.set(!0);try{let e=this.updateForm.value.banggiaId,c=this.updateForm.value.reason;for(let l=0;l<this.priceUpdates().length;l++){let m=this.priceUpdates()[l];try{yield this.priceService.bulkUpdatePrices({updates:[{banggiaId:e,sanphamId:m.sanphamId,newPrice:m.newPrice,reason:m.reason||c}],userId:"current-user"}),this.priceUpdates.update(u=>(u[l].status="success",[...u])),this.summary.update(u=>T(B({},u),{success:u.success+1}))}catch(u){this.priceUpdates.update(P=>(P[l].status="error",P[l].error=u.message||"L\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh",[...P])),this.summary.update(P=>T(B({},P),{failed:P.failed+1}))}}this.snackBar.open(`Ho\xE0n th\xE0nh! Th\xE0nh c\xF4ng: ${this.summary().success}, Th\u1EA5t b\u1EA1i: ${this.summary().failed}`,"\u0110\xF3ng",{duration:5e3})}catch(e){this.snackBar.open(`L\u1ED7i: ${e.message}`,"\u0110\xF3ng",{duration:5e3})}finally{this.processing.set(!1)}}})}calculateSummary(){let r=this.priceUpdates(),e={total:r.length,success:r.filter(c=>c.status==="success").length,failed:r.filter(c=>c.status==="error").length,totalChange:r.reduce((c,l)=>c+l.change,0)};this.summary.set(e)}formatCurrency(r){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(r)}clearAll(){this.priceUpdates.set([]),this.summary.set({total:0,success:0,failed:0,totalChange:0})}static \u0275fac=function(e){return new(e||t)(E(ee),E(Le),E(Me),E(G),E(ie))};static \u0275cmp=U({type:t,selectors:[["app-bulk-price-update"]],decls:62,vars:9,consts:[["fileInput",""],[1,"bulk-price-update-container"],[1,"header-card"],[1,"description"],[1,"config-card"],[3,"formGroup"],[1,"form-row"],["appearance","outline",1,"full-width"],["formControlName","banggiaId","required",""],[3,"value",4,"ngFor","ngForOf"],["matPrefix",""],["appearance","outline"],["formControlName","updateType"],["value","manual"],["value","percent"],["value","fixed"],["appearance","outline",4,"ngIf"],["matInput","","formControlName","reason","required",""],[1,"action-buttons"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],["type","file","accept",".xlsx,.xls",2,"display","none",3,"change"],["mat-raised-button","",3,"click"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click","disabled"],["class","summary-card",4,"ngIf"],["class","table-card",4,"ngIf"],["class","empty-state",4,"ngIf"],[3,"value"],["matInput","","type","number","formControlName","percentChange"],["matSuffix",""],["matInput","","type","number","formControlName","fixedAmount"],["mat-raised-button","",3,"click","disabled"],[1,"summary-card"],[1,"summary-grid"],[1,"summary-item"],["color","primary"],[1,"summary-value"],[1,"summary-label"],[1,"summary-item","success"],["color","accent"],[1,"summary-item","failed"],["color","warn"],[1,"summary-item","change"],[1,"table-card"],[1,"table-header"],[1,"preview-actions"],["mat-button","",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[1,"table-container"],["mat-table","",1,"price-table",3,"dataSource"],["matColumnDef","sanphamTitle"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","currentPrice"],["matColumnDef","newPrice"],["matColumnDef","change"],["matColumnDef","changePercent"],["matColumnDef","reason"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["diameter","20"],["mat-header-cell",""],["mat-cell",""],[1,"product-cell"],[1,"change-badge"],[1,"reason-text"],["class","status-pending",4,"ngIf"],["class","status-success",4,"ngIf"],["class","status-error",3,"matTooltip",4,"ngIf"],[1,"status-pending"],[1,"status-success"],[1,"status-error",3,"matTooltip"],["mat-icon-button","","color","warn",3,"click","disabled"],["mat-header-row",""],["mat-row",""],[1,"empty-state"]],template:function(e,c){if(e&1){let l=k();i(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),a(5,"upload"),n(),a(6," C\u1EADp Nh\u1EADt Gi\xE1 H\xE0ng Lo\u1EA1t "),n()(),i(7,"mat-card-content")(8,"p",3),a(9," C\u1EADp nh\u1EADt gi\xE1 cho nhi\u1EC1u s\u1EA3n ph\u1EA9m c\xF9ng l\xFAc b\u1EB1ng c\xE1ch nh\u1EADp Excel ho\u1EB7c th\xEAm th\u1EE7 c\xF4ng "),n()()(),i(10,"mat-card",4)(11,"mat-card-content")(12,"form",5)(13,"div",6)(14,"mat-form-field",7)(15,"mat-label"),a(16,"B\u1EA3ng gi\xE1"),n(),i(17,"mat-select",8),d(18,Xe,2,2,"mat-option",9),n(),i(19,"mat-icon",10),a(20,"list"),n()(),i(21,"mat-form-field",11)(22,"mat-label"),a(23,"Lo\u1EA1i c\u1EADp nh\u1EADt"),n(),i(24,"mat-select",12)(25,"mat-option",13),a(26,"Th\u1EE7 c\xF4ng"),n(),i(27,"mat-option",14),a(28,"Theo %"),n(),i(29,"mat-option",15),a(30,"S\u1ED1 ti\u1EC1n c\u1ED1 \u0111\u1ECBnh"),n()()(),d(31,Ge,6,0,"mat-form-field",16)(32,$e,6,0,"mat-form-field",16),i(33,"mat-form-field",7)(34,"mat-label"),a(35,"L\xFD do thay \u0111\u1ED5i"),n(),O(36,"input",17),i(37,"mat-icon",10),a(38,"edit"),n()()(),i(39,"div",18)(40,"button",19),C("click",function(){return g(l),_(c.downloadTemplate())}),i(41,"mat-icon"),a(42,"download"),n(),a(43," T\u1EA3i m\u1EABu Excel "),n(),i(44,"button",20),C("click",function(){g(l);let u=D(49);return _(u.click())}),i(45,"mat-icon"),a(46,"upload_file"),n(),a(47," Nh\u1EADp t\u1EEB Excel "),n(),i(48,"input",21,0),C("change",function(u){return g(l),_(c.onFileSelected(u))}),n(),i(50,"button",22),C("click",function(){return g(l),_(c.addManualRow())}),i(51,"mat-icon"),a(52,"add"),n(),a(53," Th\xEAm th\u1EE7 c\xF4ng "),n(),d(54,He,4,1,"button",23),i(55,"button",24),C("click",function(){return g(l),_(c.clearAll())}),i(56,"mat-icon"),a(57,"clear"),n(),a(58," X\xF3a t\u1EA5t c\u1EA3 "),n()()()()(),d(59,qe,31,13,"mat-card",25)(60,_t,42,9,"mat-card",26)(61,Ct,8,0,"mat-card",27),n()}e&2&&(o(12),p("formGroup",c.updateForm),o(6),p("ngForOf",c.banggiaList()),o(13),p("ngIf",c.updateForm.value.updateType==="percent"),o(),p("ngIf",c.updateForm.value.updateType==="fixed"),o(22),p("ngIf",c.updateForm.value.updateType!=="manual"),o(),p("disabled",c.priceUpdates().length===0),o(4),p("ngIf",c.priceUpdates().length>0),o(),p("ngIf",c.priceUpdates().length>0),o(),p("ngIf",c.priceUpdates().length===0))},dependencies:[V,F,A,te,J,j,K,z,Y,Z,ne,Q,W,he,se,_e,Ce,ge,X,N,R,q,H,Te,be,Oe,ve,Ee,xe,Se,ye,ke,we,Be,pe,me,le,re,ce,oe,ue,de,L,Pe,fe,Ue,Ie,Fe,De,$,ae],styles:[".bulk-price-update-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.bulk-price-update-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]{margin-bottom:20px}.bulk-price-update-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:24px;color:#1976d2}.bulk-price-update-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.bulk-price-update-container[_ngcontent-%COMP%]   .header-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#666;margin:10px 0 0}.bulk-price-update-container[_ngcontent-%COMP%]   .config-card[_ngcontent-%COMP%]{margin-bottom:20px}.bulk-price-update-container[_ngcontent-%COMP%]   .config-card[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px;margin-bottom:20px}.bulk-price-update-container[_ngcontent-%COMP%]   .config-card[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.bulk-price-update-container[_ngcontent-%COMP%]   .config-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.bulk-price-update-container[_ngcontent-%COMP%]   .config-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{margin-bottom:20px}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:15px;border-radius:8px;background:#f5f5f5;transition:transform .2s}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;margin-bottom:10px}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:5px}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.positive[_ngcontent-%COMP%]{color:#4caf50}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value.negative[_ngcontent-%COMP%]{color:#f44336}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:14px;color:#666}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item.success[_ngcontent-%COMP%]{background:#e8f5e9}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item.failed[_ngcontent-%COMP%]{background:#ffebee}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item.change[_ngcontent-%COMP%]   mat-icon.positive[_ngcontent-%COMP%]{color:#4caf50}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item.change[_ngcontent-%COMP%]   mat-icon.negative[_ngcontent-%COMP%]{color:#f44336}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:15px;border-bottom:1px solid #e0e0e0}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .preview-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto;max-height:600px;overflow-y:auto}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]{width:100%;min-width:1000px}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:600;color:#333}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .product-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .product-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;margin-bottom:3px}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .product-cell[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#999;font-size:12px}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .price-increase[_ngcontent-%COMP%]{color:#f44336}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .price-decrease[_ngcontent-%COMP%]{color:#4caf50}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .change-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:4px;font-weight:600;font-size:14px}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .change-badge.positive[_ngcontent-%COMP%]{background:#ffebee;color:#f44336}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .change-badge.negative[_ngcontent-%COMP%]{background:#e8f5e9;color:#4caf50}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-weight:600}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   mat-chip.increase-chip[_ngcontent-%COMP%]{background:#ffebee;color:#f44336}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   mat-chip.decrease-chip[_ngcontent-%COMP%]{background:#e8f5e9;color:#4caf50}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .reason-text[_ngcontent-%COMP%]{max-width:200px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .status-pending[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .status-success[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.bulk-price-update-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .price-table[_ngcontent-%COMP%]   .status-error[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.bulk-price-update-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.bulk-price-update-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:80px;width:80px;height:80px;color:#bdbdbd;margin-bottom:20px}.bulk-price-update-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#666;margin-bottom:10px}.bulk-price-update-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#999}@media (max-width: 768px){.bulk-price-update-container[_ngcontent-%COMP%]{padding:10px}.bulk-price-update-container[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr!important}.bulk-price-update-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column}.bulk-price-update-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.bulk-price-update-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:flex-start!important}.bulk-price-update-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .preview-actions[_ngcontent-%COMP%]{width:100%}.bulk-price-update-container[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .preview-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}}"]})};export{Ne as BulkPriceUpdateComponent};

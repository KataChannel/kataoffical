{
  "version": 3,
  "sources": ["src/app/shared/utils/auth.utils.ts", "src/app/admin/user/user.service.ts"],
  "sourcesContent": ["export class AuthUtils {\r\n    constructor() {}\r\n\r\n    static isTokenExpired(token: string, offsetSeconds?: number): boolean {\r\n        if (!token || token === '') {\r\n            return true;\r\n        }\r\n        const date = this._getTokenExpirationDate(token);\r\n        offsetSeconds = offsetSeconds || 0;\r\n        if (date === null) {\r\n            return true;\r\n        }\r\n        return !(date.valueOf() > new Date().valueOf() + offsetSeconds * 1000);\r\n    }\r\n\r\n    private static _b64decode(str: string): string {\r\n        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n        let output = '';\r\n        str = String(str).replace(/=+$/, '');\r\n        if (str.length % 4 === 1) {\r\n            throw new Error('The string to be decoded is not correctly encoded.');\r\n        }\r\n        for (let bc = 0, bs: any, buffer: any, idx = 0; (buffer = str.charAt(idx++)); ~buffer && ((bs = bc % 4 ? bs * 64 + buffer : buffer), bc++ % 4) ? (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) : 0) {\r\n            buffer = chars.indexOf(buffer);\r\n        }\r\n        return output;\r\n    }\r\n\r\n    private static _b64DecodeUnicode(str: any): string {\r\n        return decodeURIComponent(\r\n            Array.prototype.map.call(this._b64decode(str), (c: any) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)).join('')\r\n        );\r\n    }\r\n\r\n    private static _urlBase64Decode(str: string): string {\r\n        let output = str.replace(/-/g, '+').replace(/_/g, '/');\r\n        switch (output.length % 4) {\r\n            case 0: break;\r\n            case 2: output += '=='; break;\r\n            case 3: output += '='; break;\r\n            default: throw Error('Illegal base64url string!');\r\n        }\r\n        return this._b64DecodeUnicode(output);\r\n    }\r\n\r\n    private static _decodeToken(token: string): any {\r\n        if (!token) {\r\n            return null;\r\n        }\r\n        const parts = token.split('.');\r\n        if (parts.length !== 3) {\r\n            throw new Error('Invalid JWT. Check for three parts and refer to https://jwt.io.');\r\n        }\r\n        const decoded = this._urlBase64Decode(parts[1]);\r\n        if (!decoded) {\r\n            throw new Error('Cannot decode the token.');\r\n        }\r\n        return JSON.parse(decoded);\r\n    }\r\n\r\n    private static _getTokenExpirationDate(token: string): Date | null {\r\n        const decodedToken = this._decodeToken(token);\r\n        if (!decodedToken.hasOwnProperty('exp')) {\r\n            return null;\r\n        }\r\n        const date = new Date(0);\r\n        date.setUTCSeconds(decodedToken.exp);\r\n        return date;\r\n    }\r\n\r\n\r\n     static removeDuplicatePermissions(user: any) {\r\n        const uniquePermissions = new Map();\r\n        user.roles.forEach((role:any) => {\r\n            role.role.permissions.forEach((permission:any) => {\r\n                if (!uniquePermissions.has(permission.permissionId)) {\r\n                    uniquePermissions.set(permission.permissionId, permission);\r\n                }\r\n            });\r\n        });\r\n    \r\n        // Chuyển Map thành mảng và gán lại vào user\r\n        user.permissions = Array.from(uniquePermissions.values());\r\n        return user;\r\n    }\r\n}\r\n", "import { inject, Inject, Injectable, PLATFORM_ID, signal,Signal } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { environment } from '../../../environments/environment.development';\r\nimport { StorageService } from '../../shared/utils/storage.service';\r\nimport { isPlatformBrowser } from '@angular/common';\r\nimport { of, Observable, BehaviorSubject } from 'rxjs';\r\nimport { AuthUtils } from '../../shared/utils/auth.utils';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n  private readonly _secret: any;\r\n  private _authenticated: boolean = false;\r\n  private APIURL: string = environment.APIURL;\r\n  private isBrowser: boolean;\r\n  constructor(\r\n    private _StorageService: StorageService,\r\n    @Inject(PLATFORM_ID) private platformId: object,\r\n    private router: Router\r\n  ) {\r\n    this.isBrowser = isPlatformBrowser(this.platformId);\r\n  }\r\n  private BASE_URL = `${environment.APIURL}/auth`\r\n  profile = signal<any>({});\r\n  ListUser = signal<any[]>([]);\r\n  DetailUser = signal<any>({});\r\n  userId = signal<string | null>(null);\r\n  setUserId(id: string | null) {\r\n    this.userId.set(id);\r\n  }\r\n  private permissionsSubject = new BehaviorSubject<string[]>([]);\r\n  public permissions$ = this.permissionsSubject.asObservable();\r\n  async getAdmin() {\r\n    try {\r\n      const options = {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      };\r\n      const response = await fetch(`${environment.APIURL}/users/get/admin`, options);\r\n      const data = await response.json();\r\n      // this._users.next(data)\r\n      return data;\r\n    } catch (error) {\r\n      return console.error(error);\r\n    }\r\n  }\r\n  async CreateUser(dulieu: any) {\r\n    try {\r\n      const options = {\r\n          method:'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(dulieu),\r\n        };\r\n        const response = await fetch(`${environment.APIURL}/users`, options);\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          this.handleError(response.status);\r\n        }\r\n        this.getAllUser()\r\n        this.userId.set(data.id)\r\n    } catch (error) {\r\n        return console.error(error);\r\n    }\r\n  }\r\n\r\n  async getAllUser() {\r\n    try {\r\n      const options = {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer '+this._StorageService.getItem('token')\r\n        },\r\n      };\r\n      const response = await fetch(`${environment.APIURL}/users`, options);\r\n      if (!response.ok) {\r\n        this.handleError(response.status);\r\n      }\r\n      const data = await response.json();           \r\n      this.ListUser.set(data)\r\n    } catch (error) {\r\n      return console.error(error);\r\n    }\r\n  }\r\n  async getUserByid(id: any) {\r\n    try {\r\n      const options = {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      };\r\n      const response = await fetch(`${environment.APIURL}/users/findid/${id}`, options);      \r\n      if (!response.ok) {\r\n        this.handleError(response.status);\r\n      }\r\n      const data = await response.json();      \r\n      this.DetailUser.set(data)\r\n    } catch (error) {\r\n      return console.error(error);\r\n    }\r\n  }\r\n  async updateUser(dulieu: any) {\r\n    try {\r\n      const options = {\r\n          method:'PATCH',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(dulieu),\r\n        };\r\n        const response = await fetch(`${environment.APIURL}/users/${dulieu.id}`, options);\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          this.handleError(response.status);\r\n        }\r\n        this.getAllUser()\r\n        this.getUserByid(dulieu.id)\r\n    } catch (error) {\r\n        return console.error(error);\r\n    }\r\n  }\r\n  async assignRoleToUser(dulieu: any) {\r\n    try {\r\n      console.log(dulieu);\r\n      \r\n      const options = {\r\n          method:'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(dulieu),\r\n        };\r\n        const response = await fetch(`${environment.APIURL}/users/assign`, options);\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          this.handleError(response.status);\r\n        }\r\n        this.getUserByid(dulieu.userId)\r\n    } catch (error) {\r\n        return console.error(error);\r\n    }\r\n  }\r\n  async removeRoleFromUser(dulieu:any) {    \r\n    try {\r\n      console.log(dulieu);\r\n        const options = {\r\n            method:'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(dulieu),\r\n          };\r\n          const response = await fetch(`${environment.APIURL}/users/remove`, options);\r\n          if (!response.ok) {\r\n              // this.handleError(response.status);\r\n          }\r\n          console.log(dulieu);\r\n          \r\n          this.getUserByid(dulieu.userId)\r\n      } catch (error) {\r\n          return console.error(error);\r\n      }\r\n  }\r\n  async DeleteUser(item:any) {    \r\n    try {\r\n        const options = {\r\n            method:'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n          };\r\n          const response = await fetch(`${environment.APIURL}/users/${item.id}`, options);\r\n          if (!response.ok) {\r\n            this.handleError(response.status);\r\n          }\r\n          this.getAllUser()\r\n      } catch (error) {\r\n          return console.error(error);\r\n      }\r\n  }\r\n\r\n\r\n\r\n  async changepass(data: any) {\r\n    try {\r\n      const options = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n      const response = await fetch(`${environment.APIURL}/users/changepass`, options);\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      const result = await response.json();\r\n      return result\r\n    } catch (error) {\r\n      return console.error(error);\r\n    }\r\n  }\r\n  async Randompass(data: any){\r\n    try {\r\n      const options = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n      const response = await fetch(`${environment.APIURL}/auth/randompass`, options);\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      // const data = await response.json();\r\n      console.log(data);\r\n      return data\r\n    } catch (error) {\r\n      return console.error(error);\r\n    }\r\n  }\r\n\r\n  async getProfile() {\r\n    try {\r\n      const options = {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer '+ this._StorageService.getItem('token')\r\n        },\r\n      };\r\n      const response = await fetch(`${environment.APIURL}/users/profile`, options);\r\n      if (!response.ok) {\r\n        console.log(response.status);\r\n        this.handleError(response.status);\r\n      }\r\n      const data = await response.json();\r\n      const permissions = data.permissions.map((p: any) => p.name);\r\n      this.profile.set(data)\r\n      if(permissions.length>0)\r\n      {\r\n        this._StorageService.setItem('permissions', JSON.stringify(permissions));\r\n      }\r\n      return data;\r\n    } catch (error) {\r\n      return console.error(error);\r\n    }\r\n  }\r\n  set accessToken(token: string) {\r\n    if (this.isBrowser) {\r\n      this._StorageService.setItem('token', token);\r\n    }\r\n  }\r\n  get accessToken(): string {\r\n    return this.isBrowser ? (this._StorageService.getItem('token') ?? '') : '';\r\n  }\r\n\r\n\r\n  async login(user: any) {\r\n    if (this._authenticated) {\r\n      return of([false, 'User Đã Đăng Nhập']);\r\n    }\r\n\r\n    try {\r\n      const options = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user),\r\n      };\r\n      const response = await fetch(`${environment.APIURL}/auth/login`, options);\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      const data = await response.json();\r\n      if(data)\r\n      {\r\n        this._authenticated = true;\r\n        this.accessToken = data.access_token;\r\n        this._StorageService.setItem('permissions', JSON.stringify(data?.user?.permissions||[]));\r\n        this.permissionsSubject.next(data?.user?.permissions);\r\n        return [true,data]\r\n      }\r\n      return  [false, 'Đăng Nhập Thất Bại']\r\n    } catch (error) {\r\n      return console.error(error);\r\n    }\r\n  }\r\n  loadPermissions() {\r\n    const permissions = this._StorageService.getItem('permissions');\r\n    this.permissionsSubject.next(permissions);\r\n    return permissions;\r\n  }\r\n\r\n  hasPermission(permission: string): boolean {\r\n    if (!this.permissionsSubject?.getValue()) {\r\n     this.logout()\r\n    }\r\n    return this.permissionsSubject?.getValue()?.includes(permission);\r\n  }\r\n  async register(user: any) {\r\n    try {\r\n      const options = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user),\r\n      };\r\n      const response = await fetch(`${environment.APIURL}/users/register`, options);\r\n      if (!response.ok) {\r\n        this.handleError(response.status);\r\n      }\r\n      const data = await response.json();\r\n      console.log(data);\r\n      return data\r\n    } catch (error) {\r\n      return console.error(error);\r\n    }\r\n  }\r\n  async LoginByGoogle(user: any) {\r\n    if (this._authenticated) {\r\n      return of([false, 'User Đã Đăng Nhập']);\r\n    }\r\n\r\n    try {\r\n      const options = {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user),\r\n      };\r\n      const response = await fetch(`${environment.APIURL}/users/loginbygoogle`, options);\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      const data = await response.json();\r\n      this._authenticated = true;\r\n      this.accessToken = data[1].access_token;\r\n      console.log(data);\r\n      return [true,this.accessToken]\r\n    } catch (error) {\r\n      return console.error(error);\r\n    }\r\n  }\r\n  checkDangnhap(): Observable<boolean> {\r\n    if (this._authenticated) {\r\n      return of(true);\r\n    }\r\n    if (!this.accessToken || this.accessToken === 'undefined') {\r\n      if (this.isBrowser) {\r\n        this._StorageService.removeItem('token');\r\n      }\r\n      return of(false);\r\n    }\r\n    if (AuthUtils.isTokenExpired(this.accessToken)) {\r\n      return of(false);\r\n    }\r\n    return of(true);\r\n    // return this.signInUsingToken();\r\n  }\r\n\r\n\r\n  loginWithGoogle() {\r\n    window.location.href = `${this.BASE_URL}/google`; // Chuyển hướng đến Google OAuth\r\n  }\r\n\r\n  loginWithFacebook() {\r\n    window.location.href = `${this.BASE_URL}/facebook`;\r\n  }\r\n\r\n  loginWithZalo() {\r\n    window.location.href = `${this.BASE_URL}/zalo`;\r\n  }\r\n\r\n  handleOAuthCallback(token: string) {\r\n    localStorage.setItem('access_token', token);\r\n    this.router.navigate(['/dashboard']);\r\n  }\r\n\r\n  getToken() {\r\n    return this._StorageService.getItem('token')\r\n  }\r\n\r\n  async logout() {\r\n    this._StorageService.removeItem('token');\r\n    this._StorageService.removeItem('permissions');\r\n    this.permissionsSubject.next([]);\r\n    this.router.navigate(['/']);\r\n    return true\r\n  }\r\n\r\n  private _snackBar:MatSnackBar = inject(MatSnackBar);\r\n  private handleError(status: number) {\r\n    let message = 'Lỗi không xác định';\r\n    switch (status) {\r\n      case 400:\r\n        message = 'Thông tin đã tồn tại';\r\n        this._snackBar.open(message, '', {\r\n          duration: 1000,\r\n          horizontalPosition: \"end\",\r\n          verticalPosition: \"top\",\r\n          panelClass: ['snackbar-error'],\r\n        });\r\n        break;\r\n      case 404:\r\n        message = 'Vui lòng đăng nhập lại';\r\n        // this._StorageService.removeItem('token');\r\n        // this._StorageService.removeItem('permissions');\r\n        // this.router.navigate(['/login']);\r\n        break;\r\n      case 401:\r\n        message = 'Vui lòng đăng nhập lại';\r\n        // this._StorageService.removeItem('token');\r\n        // this._StorageService.removeItem('permissions');\r\n        // this.router.navigate(['/login']);\r\n        break;\r\n      case 403:\r\n        message = 'Bạn không có quyền truy cập';\r\n        this._snackBar.open(message, '', {\r\n          duration: 1000,\r\n          horizontalPosition: \"end\",\r\n          verticalPosition: \"top\",\r\n          panelClass: ['snackbar-error'],\r\n        });\r\n        break;\r\n      case 500:\r\n        message = 'Lỗi máy chủ, vui lòng thử lại sau';\r\n          this._snackBar.open(message, '', {\r\n          duration: 1000,\r\n          horizontalPosition: \"end\",\r\n          verticalPosition: \"top\",\r\n          panelClass: ['snackbar-error'],\r\n        });\r\n        break;\r\n      default:\r\n        this._snackBar.open(message, '', {\r\n          duration: 1000,\r\n          horizontalPosition: \"end\",\r\n          verticalPosition: \"top\",\r\n          panelClass: ['snackbar-error'],\r\n        });\r\n        break;\r\n    }\r\n    //const result = JSON.stringify({ code: status, title: message });\r\n    // this.router.navigate(['/errorserver'], { queryParams: { data: result } });\r\n  }\r\n}"],
  "mappings": "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",
  "names": []
}

import{a as ge}from"./chunk-SR5U4TCR.js";import{a as re}from"./chunk-LZ7NNW5A.js";import{a as ce}from"./chunk-DKNG3T43.js";import"./chunk-SNJ2T5K4.js";import"./chunk-MC2RAUNI.js";import"./chunk-4ZVJO4SQ.js";import"./chunk-CEIS2X52.js";import{b as le}from"./chunk-NULFSBS2.js";import{a as oe,b as he}from"./chunk-DFB73ZZB.js";import"./chunk-ZJWFFP6L.js";import"./chunk-HBRAORIW.js";import"./chunk-QDEULWY5.js";import"./chunk-7VE7GFYV.js";import{h as J}from"./chunk-CUQ6QKAF.js";import{d as ie}from"./chunk-3F7BKIWY.js";import{a as ae}from"./chunk-ZW44ZSN2.js";import"./chunk-ZDGAGPNI.js";import{a as te,b as ne}from"./chunk-DCE357X5.js";import"./chunk-4G52HXRP.js";import"./chunk-JNVUT6FC.js";import"./chunk-L6E4ZXPP.js";import{a as R,b as j}from"./chunk-ZJKHI5OQ.js";import{b as z,g as q,j as Q,n as X,p as U,u as Y,v as Z,x as $,y as ee}from"./chunk-MZSAWWIW.js";import"./chunk-DRWWD46T.js";import"./chunk-VUZTNYK4.js";import{a as G}from"./chunk-7U2T4VS7.js";import"./chunk-ZKHECKSJ.js";import"./chunk-GPUTGLTH.js";import{a as H,c as N,e as O}from"./chunk-I4ICTC7O.js";import"./chunk-2PPFUFFT.js";import{ia as P}from"./chunk-UN7UZB5W.js";import{a as I,c as L}from"./chunk-WDMWHZJL.js";import"./chunk-UUFUGRFO.js";import{l as F,m as W,u as A}from"./chunk-XQ7FWWG3.js";import{Eb as v,Fc as r,Gc as S,Hc as b,Kc as u,Lb as D,Lc as p,Mc as _,Oc as k,Qc as B,Ra as w,Vb as c,fc as a,gc as o,ic as x,jc as M,lc as K,ld as T,oa as C,qc as f,rb as l,sc as g,xa as s,ya as d}from"./chunk-OSJESZB6.js";import"./chunk-EU2KAMEK.js";import{h as V,j as E}from"./chunk-6DYNGEAS.js";var de=()=>({value:"khachsi",title:"Kh\xE1ch S\u1EC9"}),me=()=>({value:"khachle",title:"Kh\xE1ch L\u1EBB"}),ue=(m,n)=>[m,n];function pe(m,n){if(m&1){let e=K();a(0,"button",1),f("click",function(){s(e);let t=g();return d(t.handleKhachhangAction())}),a(1,"mat-icon"),r(2,"save"),o()()}}function _e(m,n){if(m&1){let e=K();a(0,"button",1),f("click",function(){s(e);let t=g();return d(t.toggleEdit())}),a(1,"mat-icon"),r(2,"edit"),o()()}}function fe(m,n){if(m&1){let e=K();x(0),a(1,"div",9)(2,"div",10),r(3,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),o(),a(4,"div",11)(5,"button",12),f("click",function(){s(e);let t=g();return d(t.DeleteData())}),r(6,"\u0110\u1ED3ng \xDD"),o(),a(7,"button",13),f("click",function(){s(e);let t=g();return d(t.toggleDelete())}),r(8,"Hu\u1EF7 B\u1ECF"),o()()(),M()}}function Ee(m,n){if(m&1&&(a(0,"mat-option",27),r(1),o()),m&2){let e=n.$implicit;c("value",e.value),l(),b(" ",e.title," ")}}function Ce(m,n){if(m&1&&(a(0,"mat-option",27),r(1),o()),m&2){let e=n.$implicit;c("value",e.id),l(),b(" ",e.title," ")}}function De(m,n){if(m&1){let e=K();x(0),a(1,"div",14)(2,"mat-form-field",15)(3,"mat-label"),r(4,"T\xEAn Kh\xE1ch H\xE0ng"),o(),a(5,"input",16),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().name,t)||(i.DetailKhachhang().name=t),d(t)}),f("keyup",function(){s(e);let t=g();return d(t.autoSubtitle())}),o()(),a(6,"mat-form-field",15)(7,"mat-label"),r(8,"Vi\u1EBFt T\u1EAFt"),o(),a(9,"input",17),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().subtitle,t)||(i.DetailKhachhang().subtitle=t),d(t)}),o()(),a(10,"mat-form-field",15)(11,"mat-label"),r(12,"Lo\u1EA1i Kh\xE1ch H\xE0ng"),o(),a(13,"mat-select",4),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().loaikh,t)||(i.DetailKhachhang().loaikh=t),d(t)}),D(14,Ee,2,2,"mat-option",18),o()(),a(15,"mat-form-field",15)(16,"mat-label"),r(17,"Email"),o(),a(18,"input",19),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().email,t)||(i.DetailKhachhang().email=t),d(t)}),o()(),a(19,"mat-form-field",15)(20,"mat-label"),r(21,"S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i"),o(),a(22,"input",20),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().sdt,t)||(i.DetailKhachhang().sdt=t),d(t)}),o()(),a(23,"mat-form-field",15)(24,"mat-label"),r(25,"M\xE3 S\u1ED1 Thu\u1EBF"),o(),a(26,"input",21),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().mst,t)||(i.DetailKhachhang().mst=t),d(t)}),o()(),a(27,"mat-form-field",15)(28,"mat-label"),r(29,"Gi\u1EDD Nh\u1EADn H\xE0ng"),o(),a(30,"input",22),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().gionhanhang,t)||(i.DetailKhachhang().gionhanhang=t),d(t)}),o()(),a(31,"mat-form-field",15)(32,"mat-label"),r(33,"\u0110\u1ECBa Ch\u1EC9"),o(),a(34,"input",23),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().diachi,t)||(i.DetailKhachhang().diachi=t),d(t)}),o()(),a(35,"mat-form-field",15)(36,"mat-label"),r(37,"Qu\u1EADn"),o(),a(38,"input",24),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().quan,t)||(i.DetailKhachhang().quan=t),d(t)}),o()(),a(39,"mat-form-field",15)(40,"mat-label"),r(41,"B\u1EA3ng Gi\xE1"),o(),a(42,"mat-select",4),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().banggiaId,t)||(i.DetailKhachhang().banggiaId=t),d(t)}),D(43,Ce,2,2,"mat-option",18),o()(),a(44,"mat-slide-toggle",25),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().hiengia,t)||(i.DetailKhachhang().hiengia=t),d(t)}),r(45,"Hi\u1EC7n Gi\xE1"),o(),a(46,"mat-slide-toggle",25),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().istitle2,t)||(i.DetailKhachhang().istitle2=t),d(t)}),r(47,"Hi\u1EC7n T\xEAn S\u1EA3n Ph\u1EA9m 2"),o(),a(48,"mat-form-field",15)(49,"mat-label"),r(50,"Ghi Ch\xFA"),o(),a(51,"textarea",26),_("ngModelChange",function(t){s(e);let i=g();return p(i.DetailKhachhang().ghichu,t)||(i.DetailKhachhang().ghichu=t),d(t)}),o()()(),M()}if(m&2){let e=g();l(5),u("ngModel",e.DetailKhachhang().name),c("disabled",!e.isEdit()),l(4),u("ngModel",e.DetailKhachhang().subtitle),c("disabled",!e.isEdit()),l(4),u("ngModel",e.DetailKhachhang().loaikh),c("disabled",!e.isEdit()),l(),c("ngForOf",B(30,ue,k(28,de),k(29,me))),l(4),u("ngModel",e.DetailKhachhang().email),c("disabled",!e.isEdit()),l(4),u("ngModel",e.DetailKhachhang().sdt),c("disabled",!e.isEdit()),l(4),u("ngModel",e.DetailKhachhang().mst),c("disabled",!e.isEdit()),l(4),u("ngModel",e.DetailKhachhang().gionhanhang),c("disabled",!e.isEdit()),l(4),u("ngModel",e.DetailKhachhang().diachi),c("disabled",!e.isEdit()),l(4),u("ngModel",e.DetailKhachhang().quan),c("disabled",!e.isEdit()),l(4),u("ngModel",e.DetailKhachhang().banggiaId),c("disabled",!e.isEdit()),l(),c("ngForOf",e._BanggiaService.ListBanggia()),l(),u("ngModel",e.DetailKhachhang().hiengia),c("disabled",!e.isEdit()),l(2),u("ngModel",e.DetailKhachhang().istitle2),c("disabled",!e.isEdit()),l(5),u("ngModel",e.DetailKhachhang().ghichu),c("disabled",!e.isEdit())}}var y=class y{_ListkhachhangComponent=C(ge);_KhachhangService=C(ce);_BanggiaService=C(re);_route=C(I);_router=C(L);_snackBar=C(G);DetailKhachhang=this._KhachhangService.DetailKhachhang;ListFilter=[];filterItem=[];isEdit=w(!1);isDelete=w(!1);khachhangId=this._KhachhangService.khachhangId;constructor(){this._route.paramMap.subscribe(n=>{let e=n.get("id");this._KhachhangService.setKhachhangId(e)}),T(()=>E(this,null,function*(){let n=this._KhachhangService.khachhangId();yield this._BanggiaService.getAllBanggia(),this.filterItem=this._BanggiaService.ListBanggia(),n||(this._router.navigate(["/admin/khachhang"]),this._ListkhachhangComponent.drawer.close()),n==="new"?(this.DetailKhachhang.set({loaikh:"khachsi"}),this._ListkhachhangComponent.drawer.open(),this.isEdit.update(e=>!e),this._router.navigate(["/admin/khachhang","new"])):(console.log("KhachhangId:",n),yield this._KhachhangService.getKhachhangBy({id:n,isOne:!0}),this.ListFilter=this._KhachhangService.DetailKhachhang().banggia,this._ListkhachhangComponent.drawer.open(),this._router.navigate(["/admin/khachhang",n]))}))}ngOnInit(){return E(this,null,function*(){console.log("DetailKhachhang:",this.DetailKhachhang())})}handleKhachhangAction(){return E(this,null,function*(){this.khachhangId()==="new"?yield this.createKhachhang():yield this.updateKhachhang()})}autoSubtitle(){this.DetailKhachhang.update(n=>(n.subtitle=ae(n.name),n))}createKhachhang(){return E(this,null,function*(){try{yield this._KhachhangService.CreateKhachhang(this.DetailKhachhang()),this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(n=>!n)}catch(n){console.error("L\u1ED7i khi t\u1EA1o khachhang:",n)}})}updateKhachhang(){return E(this,null,function*(){try{yield this._KhachhangService.updateKhachhang(this.DetailKhachhang()),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.update(n=>!n)}catch(n){console.error("L\u1ED7i khi c\u1EADp nh\u1EADt khachhang:",n)}})}DeleteData(){return E(this,null,function*(){try{yield this._KhachhangService.DeleteKhachhang(this.DetailKhachhang()),this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/khachhang"])}catch(n){console.error("L\u1ED7i khi x\xF3a khachhang:",n)}})}goBack(){this._router.navigate(["/admin/khachhang"]),this._ListkhachhangComponent.drawer.close()}trackByFn(n,e){return e.id}toggleEdit(){this.isEdit.update(n=>!n)}toggleDelete(){this.isDelete.update(n=>!n)}FillSlug(){this.DetailKhachhang.update(n=>(n.slug=ie(n.title),n))}DoOutFilter(n){this.DetailKhachhang.update(e=>(e.banggia=n,e))}static \u0275fac=function(e){return new(e||y)};static \u0275cmp=v({type:y,selectors:[["app-detailkhachhang"]],decls:17,vars:8,consts:[[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],[3,"ngModelChange","ngModel","disabled"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[4,"ngIf"],[1,"flex","flex-col","space-y-4","items-center","justify-center"],[1,"font-bold","text-2xl"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"w-full","grid","grid-cols-2","gap-4"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp T\xEAn Kh\xE1ch H\xE0ng",3,"ngModelChange","keyup","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Vi\u1EBFt T\u1EAFt",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Email",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp M\xE3 S\u1ED1 Thu\u1EBF",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Gi\u1EDD Nh\u1EADn H\xE0ng",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp \u0110\u1ECBa Ch\u1EC9",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Qu\u1EADn",3,"ngModelChange","ngModel","disabled"],["color","primary",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Ghi Ch\xFA",3,"ngModelChange","ngModel","disabled"],[3,"value"]],template:function(e,h){if(e&1&&(a(0,"div",0)(1,"button",1),f("click",function(){return h.goBack()}),a(2,"mat-icon"),r(3,"arrow_back"),o()(),a(4,"div",2),r(5),o(),a(6,"div",3)(7,"mat-slide-toggle",4),_("ngModelChange",function(i){return p(h.DetailKhachhang().isActive,i)||(h.DetailKhachhang().isActive=i),i}),r(8),o(),D(9,pe,3,0,"button",5)(10,_e,3,0,"button",5),a(11,"button",6),f("click",function(){return h.toggleDelete()}),a(12,"mat-icon"),r(13,"delete"),o()()()(),a(14,"div",7),D(15,fe,9,0,"ng-container",8)(16,De,52,33,"ng-container",8),o()),e&2){let t;l(5),S(((t=h.DetailKhachhang())==null?null:t.name)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),l(2),u("ngModel",h.DetailKhachhang().isActive),c("disabled",!h.isEdit()),l(),S(h.DetailKhachhang().isActive?"Hi\u1EC3n Th\u1ECB":"\u1EA8n"),l(),c("ngIf",h.isEdit()),l(),c("ngIf",!h.isEdit()),l(5),c("ngIf",h.isDelete()),l(),c("ngIf",!h.isDelete())}},dependencies:[Z,Y,U,ee,$,X,z,q,Q,j,R,O,H,N,ne,te,P,J,A,F,W,he,oe],encapsulation:2})};V([le(300)],y.prototype,"autoSubtitle",1);var se=y;export{se as DetailKhachhangComponent};

import{a as ke,b as _e}from"./chunk-7G6F3YWS.js";import{a as fe}from"./chunk-CIESJW45.js";import"./chunk-BDDAWAYV.js";import"./chunk-4ZVJO4SQ.js";import{a as de}from"./chunk-BFIAAR4D.js";import"./chunk-GRXZ2V32.js";import"./chunk-HTC52XHQ.js";import{d as se}from"./chunk-STTHC4C4.js";import"./chunk-AGNKQBAM.js";import{a as T}from"./chunk-ZW44ZSN2.js";import"./chunk-BQNHPUMH.js";import{b as X,c as Q,d as Y}from"./chunk-SLRDYDMI.js";import"./chunk-N7PBUGTM.js";import"./chunk-35TLWMLN.js";import{a as ue,b as pe}from"./chunk-73CYRDOZ.js";import"./chunk-TDAACTQD.js";import{h as ie}from"./chunk-INJUMOX2.js";import"./chunk-H7UDLENL.js";import{a as j}from"./chunk-GD7IEZTW.js";import"./chunk-DP4FJZ2N.js";import{a as U,c as q}from"./chunk-RFYKARPR.js";import"./chunk-JNVUT6FC.js";import{a as ge,b as me}from"./chunk-IKSNCL6N.js";import"./chunk-B52A5VRT.js";import{b as le}from"./chunk-QO4YM336.js";import{b as Z,g as ee,j as te,n as ne,p as ae,v as oe,w as he,y as re,z as ce}from"./chunk-WDSRARXB.js";import"./chunk-KBSHTQVA.js";import{a as H,b as $}from"./chunk-4KMAECDD.js";import"./chunk-B5XVARHK.js";import"./chunk-KY47JUDC.js";import"./chunk-2PPFUFFT.js";import{a as z,c as J,e as W}from"./chunk-5RXGINDA.js";import"./chunk-RO6MDUJX.js";import"./chunk-HMVCX5BQ.js";import{l as O,m as G,w as P}from"./chunk-RGQ7KTVF.js";import{Cc as M,Db as I,Dc as m,Ec as K,Fc as x,Ic as w,Jc as b,Kb as N,Kc as E,Ra as v,Ub as d,ac as V,cc as F,dc as B,ec as h,fc as l,gc as A,hc as S,ic as L,kc as D,md as R,pa as C,pc as k,rb as g,rc as u,ya as p,za as f}from"./chunk-OL5DVADB.js";import"./chunk-LWLSKGAV.js";import{j as y}from"./chunk-6DYNGEAS.js";function Ce(s,t){s&1&&A(0,"mat-spinner",12)}function De(s,t){if(s&1){let n=D();h(0,"button",13),k("click",function(){p(n);let i=u();return f(i.handleNhomkhachhangAction())}),h(1,"mat-icon"),m(2,"save"),l()()}if(s&2){let n=u();d("disabled",n.isLoading())}}function Ne(s,t){if(s&1){let n=D();h(0,"button",13),k("click",function(){p(n);let i=u();return f(i.toggleEdit())}),h(1,"mat-icon"),m(2,"edit"),l()()}if(s&2){let n=u();d("disabled",n.isLoading())}}function ve(s,t){if(s&1){let n=D();S(0),h(1,"div",14)(2,"div",15),m(3,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),l(),h(4,"div",16)(5,"button",17),k("click",function(){p(n);let i=u();return f(i.DeleteData())}),m(6,"\u0110\u1ED3ng \xDD"),l(),h(7,"button",18),k("click",function(){p(n);let i=u();return f(i.toggleDelete())}),m(8,"Hu\u1EF7 B\u1ECF"),l()()(),L()}}function xe(s,t){s&1&&(h(0,"span",36),m(1,"check"),l())}function we(s,t){if(s&1){let n=D();h(0,"div",34),k("click",function(){let i=p(n).$implicit,o=u(2);return f(o.ChosenKhachhang(i))}),N(1,xe,2,0,"span",35),m(2),l()}if(s&2){let n=t.$implicit,e=u(2);g(),d("ngIf",e.CheckKhachhang(n)),g(),x(" ",n.name," ")}}function be(s,t){if(s&1){let n=D();h(0,"span",33)(1,"span"),m(2),l(),h(3,"span",37),k("click",function(){let i=p(n).$implicit,o=u(2);return f(o.RemoveKhachhang(i))}),m(4,"close"),l()()}if(s&2){let n=t.$implicit;g(2),K(n.name)}}function Ee(s,t){if(s&1){let n=D();S(0)(1),h(2,"div",19)(3,"mat-form-field",20)(4,"mat-label"),m(5,"Nh\xF3m Kh\xE1ch h\xE0ng"),l(),h(6,"input",21),E("ngModelChange",function(i){p(n);let o=u();return b(o.DetailNhomkhachhang().name,i)||(o.DetailNhomkhachhang().name=i),f(i)}),l()(),h(7,"mat-form-field",20)(8,"mat-label"),m(9,"M\xF4 T\u1EA3"),l(),h(10,"input",22),E("ngModelChange",function(i){p(n);let o=u();return b(o.DetailNhomkhachhang().description,i)||(o.DetailNhomkhachhang().description=i),f(i)}),l()(),h(11,"div",23)(12,"button",24,0),m(14),l(),h(15,"mat-menu",null,1)(17,"div",25),k("click",function(i){return p(n),f(i.stopPropagation())}),h(18,"div",26)(19,"input",27),k("keyup",function(i){p(n);let o=u();return f(o.doFilterKhachhang(i))}),l(),h(20,"div",28)(21,"span",29),m(22,"search"),l()()(),h(23,"div",30),N(24,we,3,2,"div",31),l(),h(25,"div",32)(26,"button",17),k("click",function(){p(n);let i=M(13);return f(i.closeMenu())}),m(27,"\xC1p D\u1EE5ng"),l()()()(),F(28,be,5,1,"span",33,V),l()(),L()()}if(s&2){let n=M(16),e=u();g(6),w("ngModel",e.DetailNhomkhachhang().name),d("disabled",!e.isEdit()||e.isLoading()),g(4),w("ngModel",e.DetailNhomkhachhang().description),d("disabled",!e.isEdit()||e.isLoading()),g(2),d("disabled",!e.isEdit()||e.isLoading())("matMenuTriggerFor",n),g(2),x(" ",e.CheckListKhachhang.length," Kh\xE1ch H\xE0ng "),g(10),d("ngForOf",e.FilterKhachhang)("ngForTrackBy",e.trackByFn),g(4),B(e.CheckListKhachhang)}}var ye=class s{_ListnhomkhachhangComponent=C(_e);_NhomkhachhangService=C(ke);_KhachhangService=C(fe);_GraphqlService=C(de);_route=C(U);_router=C(q);_snackBar=C(j);DetailNhomkhachhang=this._NhomkhachhangService.DetailNhomkhachhang;isEdit=v(!1);isDelete=v(!1);isLoading=v(!1);nhomkhachhangId=this._NhomkhachhangService.nhomkhachhangId;ListKhachhang=[];FilterKhachhang=[];CheckListKhachhang=[];effectRef;constructor(){this.initializeRouteSubscription(),this.initializeEffect()}ngOnInit(){return y(this,null,function*(){this.GetListKhachhang()})}ngOnDestroy(){this.effectRef&&this.effectRef.destroy()}initializeRouteSubscription(){this._route.paramMap.subscribe(t=>{let n=t.get("id");this._NhomkhachhangService.setNhomkhachhangId(n)})}initializeEffect(){this.effectRef=R(()=>y(this,null,function*(){let t=this._NhomkhachhangService.nhomkhachhangId();this.isLoading.set(!0);try{if(!t){this.handleEmptyId();return}t==="new"?this.handleNewRecord():yield this.handleExistingRecord(t)}catch(n){console.error("Error in effect:",n),this._snackBar.open("C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA3i d\u1EEF li\u1EC7u","",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}finally{this.isLoading.set(!1)}}))}handleEmptyId(){this._router.navigate(["/admin/nhomkhachhang"]),this._ListnhomkhachhangComponent.drawer.close()}handleNewRecord(){this.DetailNhomkhachhang.update(()=>({name:"",description:"",isActive:!0})),this._ListnhomkhachhangComponent.drawer.open(),this.isEdit.set(!0),this._router.navigate(["/admin/nhomkhachhang","new"])}GetListKhachhang(){return y(this,null,function*(){let t=yield this._GraphqlService.findAll("khachhang",{select:{id:!0,name:!0},take:99999,aggressiveCache:!0,enableParallelFetch:!0});this.ListKhachhang=this.FilterKhachhang=t.data})}handleExistingRecord(t){return y(this,null,function*(){yield this._NhomkhachhangService.getNhomkhachhangByid(t),this.CheckListKhachhang=[...this.DetailNhomkhachhang()?.khachhang||[]],this._ListnhomkhachhangComponent.drawer.open(),this._router.navigate(["/admin/nhomkhachhang",t])})}handleNhomkhachhangAction(){return y(this,null,function*(){this.nhomkhachhangId()==="new"?yield this.createNhomkhachhang():yield this.updateNhomkhachhang()})}createNhomkhachhang(){return y(this,null,function*(){console.log("Creating new nhomkhachhang..."),this.isLoading.set(!0);try{let t={name:this.DetailNhomkhachhang().name?.trim(),description:this.DetailNhomkhachhang().description?.trim()||""};if(!t.name)throw new Error("T\xEAn nh\xF3m kh\xE1ch h\xE0ng kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng");let n=this.buildKhachhangConnectionForCreate();n&&(t.khachhang=n,console.log("Adding khachhang connections to create data:",n)),console.log("Creating nhomkhachhang with data:",t);let e=yield this._GraphqlService.createOne("nhomkhachhang",t,{include:{khachhang:!0}});console.log("Created nhomkhachhang result:",e),e&&e?.id&&(this._snackBar.open("T\u1EA1o M\u1EDBi Th\xE0nh C\xF4ng","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/nhomkhachhang",e.id]),this.isEdit.set(!1),yield this._NhomkhachhangService.getNhomkhachhangByid(e.id),this.CheckListKhachhang=[...this.DetailNhomkhachhang()?.khachhang||[]])}catch(t){console.error("L\u1ED7i khi t\u1EA1o nhomkhachhang:",t);let n="C\xF3 l\u1ED7i x\u1EA3y ra khi t\u1EA1o nh\xF3m kh\xE1ch h\xE0ng";if(t.message){let e=t.message.toLowerCase();e.includes("unique constraint failed")&&e.includes("name")?n=`T\xEAn nh\xF3m kh\xE1ch h\xE0ng "${this.DetailNhomkhachhang().name}" \u0111\xE3 t\u1ED3n t\u1EA1i. Vui l\xF2ng ch\u1ECDn t\xEAn kh\xE1c.`:e.includes("foreign key constraint")?n="C\xF3 l\u1ED7i li\xEAn k\u1EBFt d\u1EEF li\u1EC7u. Vui l\xF2ng ki\u1EC3m tra l\u1EA1i th\xF4ng tin kh\xE1ch h\xE0ng.":e.includes("not null constraint")?n="Thi\u1EBFu th\xF4ng tin b\u1EAFt bu\u1ED9c. Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 c\xE1c tr\u01B0\u1EDDng.":n=t.message}this._snackBar.open(n,"",{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}finally{this.isLoading.set(!1)}})}buildKhachhangConnectionForCreate(){try{let t=this.CheckListKhachhang.map(e=>e.id).filter(e=>e&&typeof e=="string"&&e.trim()!==""&&e.length>=36);if(console.log("Building khachhang connection for create with IDs:",t),t.length===0)return console.log("No valid khachhang IDs found for connection"),null;let n={connect:t.map(e=>({id:e.trim()}))};return console.log("Built khachhang connection data:",n),n}catch(t){return console.error("L\u1ED7i khi build khachhang connection for create:",t),null}}buildKhachhangRelationUpdate(){try{let t=this.DetailNhomkhachhang()?.khachhang?.map(a=>a.id).filter(a=>a&&typeof a=="string")||[],n=this.CheckListKhachhang.map(a=>a.id).filter(a=>a&&typeof a=="string");console.log("=== DEBUGGING KHACHHANG RELATION UPDATE ==="),console.log("Current khachhang IDs:",t),console.log("New khachhang IDs (from CheckListKhachhang):",n);let e=[...t].sort(),i=[...n].sort();if(console.log("Current IDs sorted:",e),console.log("New IDs sorted:",i),console.log("Are arrays equal?",JSON.stringify(e)===JSON.stringify(i)),JSON.stringify(e)===JSON.stringify(i))return console.log("No relation changes detected for update"),null;let o=n.filter(a=>!t.includes(a)),r=t.filter(a=>!n.includes(a));console.log("To connect:",o),console.log("To disconnect:",r);let _={};if(r.length>0){let a=r.filter(c=>c&&typeof c=="string"&&c.trim()!==""&&c.length>=36);console.log("Valid to disconnect:",a),a.length>0&&(_.disconnect=a.map(c=>({id:c.trim()})))}if(o.length>0){let a=o.filter(c=>c&&typeof c=="string"&&c.trim()!==""&&c.length>=36);console.log("Valid to connect:",a),a.length>0&&(_.connect=a.map(c=>({id:c.trim()})))}return console.log("Final relation update data:",_),console.log("=== END DEBUGGING ==="),Object.keys(_).length>0?_:null}catch(t){return console.error("L\u1ED7i khi build khachhang relation update:",t),null}}updateNhomkhachhang(){return y(this,null,function*(){this.isLoading.set(!0);try{let t={name:this.DetailNhomkhachhang().name?.trim(),description:this.DetailNhomkhachhang().description?.trim()||""};if(!t.name)throw new Error("T\xEAn nh\xF3m kh\xE1ch h\xE0ng kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng");let n=this.buildKhachhangRelationUpdate();n?(t.khachhang=n,console.log("Adding relation updates to update data:",n)):console.log("No relation changes detected - basic update only"),console.log("Updating nhomkhachhang with data:",t);let e=yield this._GraphqlService.updateOne("nhomkhachhang",{id:this.nhomkhachhangId()},t,{include:{khachhang:!0}});console.log("Update result:",e),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:2e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this.isEdit.set(!1),yield this._NhomkhachhangService.getNhomkhachhangByid(this.nhomkhachhangId()),this.CheckListKhachhang=[...this.DetailNhomkhachhang()?.khachhang||[]]}catch(t){console.error("L\u1ED7i khi c\u1EADp nh\u1EADt nhomkhachhang:",t);let n="C\xF3 l\u1ED7i x\u1EA3y ra khi c\u1EADp nh\u1EADt nh\xF3m kh\xE1ch h\xE0ng";if(t.message){let e=t.message.toLowerCase();e.includes("unique constraint failed")&&e.includes("name")?n=`T\xEAn nh\xF3m kh\xE1ch h\xE0ng "${this.DetailNhomkhachhang().name}" \u0111\xE3 t\u1ED3n t\u1EA1i. Vui l\xF2ng ch\u1ECDn t\xEAn kh\xE1c.`:e.includes("foreign key constraint")?n="C\xF3 l\u1ED7i li\xEAn k\u1EBFt d\u1EEF li\u1EC7u. Vui l\xF2ng ki\u1EC3m tra l\u1EA1i th\xF4ng tin kh\xE1ch h\xE0ng.":e.includes("not null constraint")?n="Thi\u1EBFu th\xF4ng tin b\u1EAFt bu\u1ED9c. Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 c\xE1c tr\u01B0\u1EDDng.":e.includes("record not found")?n="Kh\xF4ng t\xECm th\u1EA5y nh\xF3m kh\xE1ch h\xE0ng \u0111\u1EC3 c\u1EADp nh\u1EADt.":n=t.message}this._snackBar.open(n,"",{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-error"]})}finally{this.isLoading.set(!1)}})}buildNestedRelationData(){try{let t=this.DetailNhomkhachhang()?.khachhang?.map(a=>a.id).filter(a=>a&&typeof a=="string")||[],n=this.CheckListKhachhang.map(a=>a.id).filter(a=>a&&typeof a=="string");console.log("=== DEBUGGING NESTED RELATION DATA ==="),console.log("Current nhomkhachhang data:",this.DetailNhomkhachhang()),console.log("Current khachhang from DetailNhomkhachhang:",this.DetailNhomkhachhang()?.khachhang),console.log("CheckListKhachhang:",this.CheckListKhachhang),console.log("Current khachhang IDs:",t),console.log("New khachhang IDs (from CheckListKhachhang):",n);let e=[...t].sort(),i=[...n].sort();if(console.log("Current IDs sorted:",e),console.log("New IDs sorted:",i),console.log("Are arrays equal?",JSON.stringify(e)===JSON.stringify(i)),JSON.stringify(e)===JSON.stringify(i))return console.log("No relation changes detected for nested update"),null;let o=n.filter(a=>!t.includes(a)),r=t.filter(a=>!n.includes(a));console.log("To connect (nested):",o),console.log("To disconnect (nested):",r);let _={};if(r.length>0){let a=r.filter(c=>c&&typeof c=="string"&&c.trim()!==""&&c.length>=36);console.log("Valid to disconnect:",a),a.length>0&&(_.disconnect=a.map(c=>({id:c.trim()})))}if(o.length>0){let a=o.filter(c=>c&&typeof c=="string"&&c.trim()!==""&&c.length>=36);console.log("Valid to connect:",a),a.length>0&&(_.connect=a.map(c=>({id:c.trim()})))}return console.log("Final nested relation data:",_),console.log("=== END DEBUGGING ==="),Object.keys(_).length>0?_:null}catch(t){return console.error("L\u1ED7i khi build nested relation data:",t),null}}updateKhachhangRelations(){return y(this,null,function*(){try{let t=this.DetailNhomkhachhang()?.khachhang?.map(e=>e.id).filter(e=>e&&typeof e=="string")||[],n=this.CheckListKhachhang.map(e=>e.id).filter(e=>e&&typeof e=="string");if(console.log("Current khachhang IDs:",t),console.log("New khachhang IDs:",n),JSON.stringify(t.sort())!==JSON.stringify(n.sort())){let e=n.filter(r=>!t.includes(r)),i=t.filter(r=>!n.includes(r));console.log("To connect:",e),console.log("To disconnect:",i);let o=this.buildRelationUpdateData(e,i);if(o){console.log("Updating relations with data:",o);let r=yield this._GraphqlService.updateOne("nhomkhachhang",{id:this.nhomkhachhangId()},o);console.log("Relation update result:",r)}}else console.log("No relation changes detected")}catch(t){throw console.error("L\u1ED7i khi c\u1EADp nh\u1EADt relations:",t),t}})}DeleteData(){return y(this,null,function*(){try{yield this._NhomkhachhangService.DeleteNhomkhachhang(this.DetailNhomkhachhang()),this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]}),this._router.navigate(["/admin/nhomkhachhang"])}catch(t){console.error("L\u1ED7i khi x\xF3a nhomkhachhang:",t)}})}goBack(){this._router.navigate(["/admin/nhomkhachhang"]),this._ListnhomkhachhangComponent.drawer.close()}trackByFn(t,n){return n.id}toggleEdit(){this.isEdit.update(t=>!t)}toggleDelete(){this.isDelete.update(t=>!t)}FillSlug(){this.DetailNhomkhachhang.update(t=>(t.slug=se(t.title),t))}doFilterKhachhang(t){let n=t.target.value;if(n.length<2){this.FilterKhachhang=this.ListKhachhang;return}let e=T(n.trim().toLowerCase());this.FilterKhachhang=this.ListKhachhang.filter(i=>T(i.name.toLowerCase()).includes(e))}ChosenKhachhang(t){this.CheckListKhachhang.find(e=>e.id===t.id)?this.CheckListKhachhang=this.CheckListKhachhang.filter(e=>e.id!==t.id):this.CheckListKhachhang.push(t)}ApplyKhachhang(t){return y(this,null,function*(){t.closeMenu()})}buildRelationUpdateData(t,n){let e=t.filter(r=>r&&typeof r=="string"&&r.trim()!==""&&r.length>=36),i=n.filter(r=>r&&typeof r=="string"&&r.trim()!==""&&r.length>=36);if(console.log("Validated to connect:",e),console.log("Validated to disconnect:",i),e.length===0&&i.length===0)return console.log("No valid relation changes found"),null;let o={khachhang:{}};return i.length>0&&(o.khachhang.disconnect=i.map(r=>({id:r.trim()}))),e.length>0&&(o.khachhang.connect=e.map(r=>({id:r.trim()}))),console.log("Built relation update data:",o),o}getErrorMessage(t,n="create"){if(!t?.message)return`C\xF3 l\u1ED7i x\u1EA3y ra khi ${n==="create"?"t\u1EA1o":n==="update"?"c\u1EADp nh\u1EADt":"x\xF3a"} nh\xF3m kh\xE1ch h\xE0ng`;let e=t.message.toLowerCase(),i=this.DetailNhomkhachhang()?.name||"nh\xF3m kh\xE1ch h\xE0ng";return e.includes("unique constraint failed")&&e.includes("name")?`T\xEAn nh\xF3m kh\xE1ch h\xE0ng "${i}" \u0111\xE3 t\u1ED3n t\u1EA1i. Vui l\xF2ng ch\u1ECDn t\xEAn kh\xE1c.`:e.includes("foreign key constraint")?"C\xF3 l\u1ED7i li\xEAn k\u1EBFt d\u1EEF li\u1EC7u. Vui l\xF2ng ki\u1EC3m tra l\u1EA1i th\xF4ng tin kh\xE1ch h\xE0ng.":e.includes("not null constraint")?"Thi\u1EBFu th\xF4ng tin b\u1EAFt bu\u1ED9c. Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 c\xE1c tr\u01B0\u1EDDng.":e.includes("record not found")?n==="update"?"Kh\xF4ng t\xECm th\u1EA5y nh\xF3m kh\xE1ch h\xE0ng \u0111\u1EC3 c\u1EADp nh\u1EADt.":"Kh\xF4ng t\xECm th\u1EA5y d\u1EEF li\u1EC7u.":e.includes("permission")||e.includes("access")?"B\u1EA1n kh\xF4ng c\xF3 quy\u1EC1n th\u1EF1c hi\u1EC7n thao t\xE1c n\xE0y.":e.includes("network")||e.includes("connection")||e.includes("timeout")?"L\u1ED7i k\u1EBFt n\u1ED1i. Vui l\xF2ng ki\u1EC3m tra internet v\xE0 th\u1EED l\u1EA1i.":t.message}CheckKhachhang(t){return!!this.CheckListKhachhang.find(n=>n.id===t.id)}debugRelationUpdate(){console.log("=== MANUAL DEBUG TEST ===");let t=this.buildNestedRelationData();console.log("Manual test result:",t),console.log("Current DetailNhomkhachhang:",this.DetailNhomkhachhang()),console.log("Current CheckListKhachhang:",this.CheckListKhachhang),this.CheckListKhachhang.length>0?console.log("CheckListKhachhang has items, should create relation updates"):console.log("CheckListKhachhang is empty, should disconnect all"),console.log("=== END MANUAL DEBUG ===")}RemoveKhachhang(t){if(!t||!t.id){console.warn("Invalid item to remove:",t);return}let n=this.CheckListKhachhang.findIndex(e=>e.id===t.id);n!==-1?(this.CheckListKhachhang.splice(n,1),console.log(`\u0110\xE3 x\xF3a kh\xE1ch h\xE0ng ${t.name} kh\u1ECFi danh s\xE1ch`)):console.warn(`Kh\xF4ng t\xECm th\u1EA5y kh\xE1ch h\xE0ng ${t.name} trong danh s\xE1ch \u0111\u1EC3 x\xF3a`)}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=I({type:s,selectors:[["app-detailnhomkhachhang"]],decls:18,vars:10,consts:[["menuTrigger","matMenuTrigger"],["menu","matMenu"],[1,"flex","flex-row","justify-between","items-center","space-x-2","p-2"],["mat-icon-button","","color","primary",3,"click"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center"],["diameter","20",4,"ngIf"],[3,"ngModelChange","ngModel","disabled"],["mat-icon-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click","disabled"],[1,"relative","flex","flex-col","w-full","p-4","overflow-auto"],[4,"ngIf"],["diameter","20"],["mat-icon-button","","color","primary",3,"click","disabled"],[1,"flex","flex-col","space-y-4","items-center","justify-center"],[1,"font-bold","text-2xl"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"w-full","flex","flex-col","space-y-2"],["appearance","outline"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp Nh\xF3m Kh\xE1ch h\xE0ng",3,"ngModelChange","ngModel","disabled"],["matInput","","placeholder","Vui l\xF2ng nh\u1EADp M\xF4 T\u1EA3",3,"ngModelChange","ngModel","disabled"],[1,"flex","flex-row","flex-wrap","gap-2"],["mat-flat-button","","color","primary",3,"disabled","matMenuTriggerFor"],[1,"cursor-pointer","flex","flex-col","space-y-4","p-3",3,"click"],[1,"relative","w-full"],["type","text","placeholder","T\xECm Ki\u1EBFm...",1,"block","w-full","pl-10","pr-4","py-2","text-gray-700","bg-white","border","border-gray-300","rounded-lg","focus:border-blue-400","focus:ring-blue-400","focus:outline-none","focus:ring","focus:ring-opacity-40",3,"keyup"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none"],[1,"material-symbols-outlined","text-gray-500"],[1,"w-full","flex","flex-col","space-y-2","max-h-44","overflow-auto"],["class","flex flex-row space-x-2 items-center p-2 rounded-lg hover:bg-slate-100",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-row","space-x-2","items-end","justify-end"],[1,"flex","whitespace-nowrap","p-2","rounded-lg","bg-slate-200","items-center"],[1,"flex","flex-row","space-x-2","items-center","p-2","rounded-lg","hover:bg-slate-100",3,"click"],["class","material-symbols-outlined text-blue-600",4,"ngIf"],[1,"material-symbols-outlined","text-blue-600"],[1,"material-symbols-outlined","text-red-600","cursor-pointer",3,"click"]],template:function(n,e){if(n&1&&(h(0,"div",2)(1,"button",3),k("click",function(){return e.goBack()}),h(2,"mat-icon"),m(3,"arrow_back"),l()(),h(4,"div",4),m(5),l(),h(6,"div",5),N(7,Ce,1,0,"mat-spinner",6),h(8,"mat-slide-toggle",7),E("ngModelChange",function(o){return b(e.DetailNhomkhachhang().isActive,o)||(e.DetailNhomkhachhang().isActive=o),o}),m(9),l(),N(10,De,3,1,"button",8)(11,Ne,3,1,"button",8),h(12,"button",9),k("click",function(){return e.toggleDelete()}),h(13,"mat-icon"),m(14,"delete"),l()()()(),h(15,"div",10),N(16,ve,9,0,"ng-container",11)(17,Ee,30,9,"ng-container",11),l()),n&2){let i;g(5),K(((i=e.DetailNhomkhachhang())==null?null:i.name)||"Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u"),g(2),d("ngIf",e.isLoading()),g(),w("ngModel",e.DetailNhomkhachhang().isActive),d("disabled",!e.isEdit()||e.isLoading()),g(),x(" ",e.DetailNhomkhachhang().isActive?"Hi\u1EC3n Th\u1ECB":"\u1EA8n"," "),g(),d("ngIf",e.isEdit()),g(),d("ngIf",!e.isEdit()),g(),d("disabled",e.isLoading()),g(4),d("ngIf",e.isDelete()),g(),d("ngIf",!e.isDelete())}},dependencies:[he,oe,ae,ce,re,ne,Z,ee,te,$,H,W,z,J,le,ie,P,O,G,pe,ue,Y,X,Q,me,ge],encapsulation:2,changeDetection:0})};export{ye as DetailNhomkhachhangComponent};

import{a as pt}from"./chunk-RR4ASJBM.js";import{a as j,c as G}from"./chunk-SMSLG7CB.js";import{a as lt,b as ot}from"./chunk-6ABNME4F.js";import"./chunk-H7UDLENL.js";import"./chunk-5KB5OT22.js";import"./chunk-4YBUVQ6H.js";import{b as rt,f as mt}from"./chunk-BHX4BLPD.js";import"./chunk-4CVHWQN7.js";import"./chunk-7NTXRSTR.js";import{a as W,b as Z,c as tt,d as et,e as nt,f as it,g as at}from"./chunk-6KVBPFR4.js";import{a as q,b as J}from"./chunk-IRAJ2BK5.js";import"./chunk-L7QNKLUP.js";import"./chunk-4EZ4CKQW.js";import"./chunk-2PPFUFFT.js";import{a as $,e as X}from"./chunk-RLVN5MEI.js";import"./chunk-S5JPUYH3.js";import"./chunk-E2JMEUOP.js";import{l as R,m as U,s as Q,x as Y}from"./chunk-S4P46B33.js";import{Cc as n,Db as K,Dc as c,Ec as _,Fc as V,Kb as s,Ra as M,Rc as y,Tc as S,Ub as g,Vb as L,dc as e,ec as t,fc as z,jc as P,oc as f,pa as b,qc as d,rb as l,ya as x,za as h}from"./chunk-ZVDIRTLG.js";import"./chunk-LWLSKGAV.js";import{j as E}from"./chunk-6DYNGEAS.js";function ct(a,r){a&1&&(e(0,"mat-card")(1,"mat-card-content",2),z(2,"mat-spinner",3),e(3,"p"),n(4,"\u0110ang t\u1EA3i d\u1EEF li\u1EC7u..."),t()()())}function gt(a,r){if(a&1&&(e(0,"div",8)(1,"mat-icon"),n(2,"account_tree"),t(),e(3,"div",9)(4,"span",10),n(5,"Thu\u1ED9c"),t(),e(6,"span",11),n(7),t()()()),a&2){let i,o=d(2);l(7),c(((i=o.phongban())==null||i.parent==null?null:i.parent.ten)||"N/A")}}function st(a,r){if(a&1&&(e(0,"div",15)(1,"label"),n(2,"Ph\xF2ng ban cha:"),t(),e(3,"span"),n(4),t()()),a&2){let i,o=d(2);l(4),V("",(i=o.phongban())==null||i.parent==null?null:i.parent.ma," - ",(i=o.phongban())==null||i.parent==null?null:i.parent.ten,"")}}function _t(a,r){if(a&1&&(e(0,"div",24)(1,"label"),n(2,"M\xF4 t\u1EA3:"),t(),e(3,"span"),n(4),t()()),a&2){let i,o=d(2);l(4),c((i=o.phongban())==null?null:i.moTa)}}function ut(a,r){if(a&1&&(e(0,"div",27)(1,"mat-icon"),n(2,"person"),t(),e(3,"div",28)(4,"span",29),n(5),t(),e(6,"span",30),n(7),t()()()),a&2){let i=r.$implicit;l(5),c(i.ten||i.hoTen||"N/A"),l(2),c(i.email||"Ch\u01B0a c\xF3 email")}}function xt(a,r){if(a&1&&(e(0,"div",13)(1,"h3")(2,"mat-icon"),n(3,"people"),t(),n(4),t(),e(5,"div",25),s(6,ut,8,2,"div",26),t()()),a&2){let i,o,p=d(2);l(4),_(" Danh s\xE1ch nh\xE2n vi\xEAn (",((i=p.phongban())==null||i.nhanviens==null?null:i.nhanviens.length)||0,") "),l(2),g("ngForOf",(o=p.phongban())==null?null:o.nhanviens)}}function ht(a,r){if(a&1&&(e(0,"div",31)(1,"mat-icon"),n(2,"schedule"),t(),e(3,"span"),n(4),y(5,"date"),t()()),a&2){let i,o=d(2);l(4),_("T\u1EA1o l\xFAc: ",S(5,1,(i=o.phongban())==null?null:i.createdAt,"dd/MM/yyyy HH:mm"),"")}}function ft(a,r){if(a&1&&(e(0,"div",31)(1,"mat-icon"),n(2,"update"),t(),e(3,"span"),n(4),y(5,"date"),t()()),a&2){let i,o=d(2);l(4),_("C\u1EADp nh\u1EADt: ",S(5,1,(i=o.phongban())==null?null:i.updatedAt,"dd/MM/yyyy HH:mm"),"")}}function bt(a,r){if(a&1){let i=P();e(0,"mat-card")(1,"mat-card-header")(2,"div",4)(3,"div",5)(4,"mat-icon",6),n(5,"business"),t(),e(6,"div")(7,"mat-card-title"),n(8),t(),e(9,"mat-card-subtitle"),n(10),t()()(),e(11,"mat-chip"),n(12),t()()(),e(13,"mat-card-content")(14,"div",7)(15,"div",8)(16,"mat-icon"),n(17,"layers"),t(),e(18,"div",9)(19,"span",10),n(20,"C\u1EA5p"),t(),e(21,"span",11),n(22),t()()(),e(23,"div",8)(24,"mat-icon"),n(25,"people"),t(),e(26,"div",9)(27,"span",10),n(28,"Nh\xE2n vi\xEAn"),t(),e(29,"span",11),n(30),t()()(),s(31,gt,8,1,"div",12),t(),e(32,"div",13)(33,"h3")(34,"mat-icon"),n(35,"info"),t(),n(36," Th\xF4ng tin chi ti\u1EBFt "),t(),e(37,"div",14)(38,"div",15)(39,"label"),n(40,"M\xE3 ph\xF2ng ban:"),t(),e(41,"span"),n(42),t()(),e(43,"div",15)(44,"label"),n(45,"T\xEAn ph\xF2ng ban:"),t(),e(46,"span"),n(47),t()(),e(48,"div",15)(49,"label"),n(50,"Lo\u1EA1i:"),t(),e(51,"span"),n(52),t()(),e(53,"div",15)(54,"label"),n(55,"C\u1EA5p:"),t(),e(56,"span"),n(57),t()(),s(58,st,5,2,"div",16),e(59,"div",15)(60,"label"),n(61,"S\u1ED1 nh\xE2n vi\xEAn:"),t(),e(62,"span"),n(63),t()(),s(64,_t,5,1,"div",17),t()(),s(65,xt,7,2,"div",18),e(66,"div",19),s(67,ht,6,4,"div",20)(68,ft,6,4,"div",20),t()(),e(69,"mat-card-actions")(70,"button",21),f("click",function(){x(i);let p=d();return h(p.goBack())}),e(71,"mat-icon"),n(72,"arrow_back"),t(),n(73," Quay l\u1EA1i "),t(),e(74,"button",22),f("click",function(){x(i);let p=d();return h(p.edit())}),e(75,"mat-icon"),n(76,"edit"),t(),n(77," Ch\u1EC9nh s\u1EEDa "),t(),e(78,"button",23),f("click",function(){x(i);let p=d();return h(p.confirmDelete())}),e(79,"mat-icon"),n(80,"delete"),t(),n(81," X\xF3a "),t()()()}if(a&2){let i,o,p,O,I,C,A,D,w,T,H,N,v,k,u,F,B,m=d();l(8),c((i=m.phongban())==null?null:i.ten),l(2),c((o=m.phongban())==null?null:o.ma),l(),L("background-color",m.getLoaiColor(((p=m.phongban())==null?null:p.loai)||"")),l(),_(" ",m.getLoaiLabel(((O=m.phongban())==null?null:O.loai)||"")," "),l(10),c((I=m.phongban())==null?null:I.level),l(8),c(((C=m.phongban())==null||C.nhanviens==null?null:C.nhanviens.length)||0),l(),g("ngIf",(A=m.phongban())==null?null:A.parentId),l(11),c((D=m.phongban())==null?null:D.ma),l(5),c((w=m.phongban())==null?null:w.ten),l(5),c(m.getLoaiLabel(((T=m.phongban())==null?null:T.loai)||"")),l(5),_("C\u1EA5p ",(H=m.phongban())==null?null:H.level,""),l(),g("ngIf",(N=m.phongban())==null?null:N.parent),l(5),_("",((v=m.phongban())==null||v.nhanviens==null?null:v.nhanviens.length)||0," ng\u01B0\u1EDDi"),l(),g("ngIf",(k=m.phongban())==null?null:k.moTa),l(),g("ngIf",((u=m.phongban())==null?null:u.nhanviens)&&(((u=m.phongban())==null||u.nhanviens==null?null:u.nhanviens.length)||0)>0),l(2),g("ngIf",(F=m.phongban())==null?null:F.createdAt),l(),g("ngIf",(B=m.phongban())==null?null:B.updatedAt)}}function Ct(a,r){if(a&1){let i=P();e(0,"mat-card")(1,"mat-card-content",32)(2,"mat-icon"),n(3,"error"),t(),e(4,"h2"),n(5,"Kh\xF4ng t\xECm th\u1EA5y ph\xF2ng ban"),t(),e(6,"p"),n(7),t(),e(8,"button",33),f("click",function(){x(i);let p=d();return h(p.goBack())}),e(9,"mat-icon"),n(10,"arrow_back"),t(),n(11," Quay l\u1EA1i danh s\xE1ch "),t()()()}if(a&2){let i=d();l(7),_("ID: ",i.id,"")}}var dt=class a{route=b(j);router=b(G);phongbanService=b(pt);id="";phongban=M(null);loading=M(!1);ngOnInit(){this.id=this.route.snapshot.paramMap.get("id")||"",this.id&&this.loadPhongban()}loadPhongban(){return E(this,null,function*(){try{this.loading.set(!0);let r=yield this.phongbanService.getPhongbanById(this.id);this.phongban.set(r)}catch(r){console.error("Error loading phongban:",r)}finally{this.loading.set(!1)}})}getLoaiLabel(r){return{KINH_DOANH:"Kinh Doanh",QUAN_LY:"Qu\u1EA3n L\xFD",HANH_CHINH:"H\xE0nh Ch\xEDnh",KY_THUAT:"K\u1EF9 Thu\u1EADt",TAI_CHINH:"T\xE0i Ch\xEDnh",NHAN_SU:"Nh\xE2n S\u1EF1",MARKETING:"Marketing",KHAC:"Kh\xE1c"}[r]||r}getLoaiColor(r){return{KINH_DOANH:"#4CAF50",QUAN_LY:"#2196F3",HANH_CHINH:"#FF9800",KY_THUAT:"#9C27B0",TAI_CHINH:"#F44336",NHAN_SU:"#00BCD4",MARKETING:"#E91E63",KHAC:"#757575"}[r]||"#757575"}goBack(){this.router.navigate(["/admin/phongban/list"])}edit(){this.router.navigate(["/admin/phongban/edit",this.id])}confirmDelete(){return E(this,null,function*(){if(!this.id)return;if(confirm(`B\u1EA1n c\xF3 ch\u1EAFc ch\u1EAFn mu\u1ED1n x\xF3a ph\xF2ng ban "${this.phongban()?.ten}"?

H\xE0nh \u0111\u1ED9ng n\xE0y kh\xF4ng th\u1EC3 ho\xE0n t\xE1c!`))try{yield this.phongbanService.deletePhongban(this.id),this.router.navigate(["/admin/phongban/list"])}catch(i){console.error("Error deleting phongban:",i)}})}static \u0275fac=function(i){return new(i||a)};static \u0275cmp=K({type:a,selectors:[["app-detailphongban"]],decls:4,vars:3,consts:[[1,"container"],[4,"ngIf"],[1,"loading-container"],["diameter","40"],[1,"header-content"],[1,"title-section"],[1,"header-icon"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],[1,"stat-label"],[1,"stat-value"],["class","stat-card",4,"ngIf"],[1,"detail-section"],[1,"detail-grid"],[1,"detail-item"],["class","detail-item",4,"ngIf"],["class","detail-item full-width",4,"ngIf"],["class","detail-section",4,"ngIf"],[1,"metadata"],["class","metadata-item",4,"ngIf"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"detail-item","full-width"],[1,"employees-list"],["class","employee-item",4,"ngFor","ngForOf"],[1,"employee-item"],[1,"employee-info"],[1,"employee-name"],[1,"employee-details"],[1,"metadata-item"],[1,"error-container"],["mat-raised-button","","color","primary",3,"click"]],template:function(i,o){i&1&&(e(0,"div",0),s(1,ct,5,0,"mat-card",1)(2,bt,82,18,"mat-card",1)(3,Ct,12,1,"mat-card",1),t()),i&2&&(l(),g("ngIf",o.loading()),l(),g("ngIf",!o.loading()&&o.phongban()),l(),g("ngIf",!o.loading()&&!o.phongban()))},dependencies:[Y,R,U,Q,at,W,nt,tt,it,et,Z,X,$,J,q,ot,lt,mt,rt],styles:[".container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.loading-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0 auto 20px}.error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:#999;margin-bottom:20px}.error-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:20px 0 10px;color:#333}.error-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:16px 0}.title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.header-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;color:#1976d2}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin:20px 0}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:20px;background:#f5f5f5;border-radius:8px;border-left:4px solid #1976d2}.stat-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#1976d2}.stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-label[_ngcontent-%COMP%]{font-size:12px;color:#666;text-transform:uppercase;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333}.detail-section[_ngcontent-%COMP%]{margin:30px 0}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:20px;color:#333;font-size:18px;font-weight:500;border-bottom:2px solid #e0e0e0;padding-bottom:10px}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.detail-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#666;font-size:14px}.detail-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#333}.employees-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:12px}.employee-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#fafafa;border-radius:8px;border:1px solid #e0e0e0;transition:all .2s}.employee-item[_ngcontent-%COMP%]:hover{background:#f5f5f5;box-shadow:0 2px 4px #0000001a}.employee-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.employee-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1}.employee-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.employee-details[_ngcontent-%COMP%]{font-size:12px;color:#666}.metadata[_ngcontent-%COMP%]{display:flex;gap:20px;margin-top:30px;padding-top:20px;border-top:1px solid #e0e0e0}.metadata-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666;font-size:14px}.metadata-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}mat-card-actions[_ngcontent-%COMP%]{padding:16px;display:flex;gap:12px;justify-content:flex-end}@media (max-width: 768px){.detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.metadata[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}"]})};export{dt as DetailPhongbanComponent};

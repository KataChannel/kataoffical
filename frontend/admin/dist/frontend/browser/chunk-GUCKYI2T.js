import{a as jn,b as $n}from"./chunk-CXRQOCB6.js";import{a as zn,b as Hn}from"./chunk-X66ZNF5X.js";import{a as qn,b as bn,c as vn,d as Ln,e as Te,f as In,g as Tn,h as Mn,i as Dn,j as kn,k as An,l as Bn,m as Pn,n as Fn,o as Rn,p as Nn,q as Qn,r as Vn,s as Un,t as We}from"./chunk-YEQFT7OD.js";import{a as On}from"./chunk-45EGJCS5.js";import{c as dn,d as mn,f as fn,h as pn}from"./chunk-3EJWRICK.js";import{a as nn,b as rn,c as on,d as an}from"./chunk-A7Z2CSQH.js";import{a as Wt,b as Xt,c as Zt}from"./chunk-MYSS4JYL.js";import{b as En}from"./chunk-J3C5VRUD.js";import{a as Sn,b as xn,c as Ye}from"./chunk-7BIMFKJV.js";import{a as Ht}from"./chunk-J4J2VAHN.js";import{a as Yt}from"./chunk-FGDWM5MP.js";import{a as zt,b as Gt}from"./chunk-RBFG4ALV.js";import{a as Jt}from"./chunk-7RWCIHFI.js";import{a as jt,d as $t,f as Kt}from"./chunk-6JLUBRMO.js";import{A as wn,B as Cn,b as sn,g as ln,j as cn,q as un,s as hn,t as gn,x as yn,y as _n}from"./chunk-KUSWFJMN.js";import{a as en,b as tn}from"./chunk-VG4K7YZ2.js";import{a as T}from"./chunk-6DAEI2ES.js";import{a as Ie}from"./chunk-VAPKCDSV.js";import{q as Ot}from"./chunk-KSUFUFCH.js";import{b as Ut,c as Le}from"./chunk-ONHCD2Q4.js";import{G as Vt,j as Rt,p as Nt,t as Qt}from"./chunk-5BMN7Y5X.js";import{$b as At,Ac as Se,Dc as xe,Eb as D,Fa as It,Hc as qe,Jc as be,Kc as ve,La as ye,Ob as q,Rb as Mt,Sb as Dt,Tb as we,Vb as kt,Wb as Je,Xb as Ge,Yb as c,Zb as u,_b as G,_c as Ft,ac as Bt,cc as L,ea as vt,gc as S,hc as m,ja as ge,ka as N,mb as p,nc as Y,oc as W,pc as X,qb as Tt,rb as Ke,sa as Lt,sc as Q,ta as _,tc as d,ua as w,uc as Z,vc as k,xc as Pt,yb as _e,yc as Ce,zc as Ee}from"./chunk-5N4MQVR2.js";import{a as se,b as je,e as y,g as bt,h as $e,j as x}from"./chunk-6DNLS54U.js";var Gn=y((Ro,Jn)=>{"use strict";Jn.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var V=y(O=>{"use strict";var Xe,Wi=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];O.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};O.getSymbolTotalCodewords=function(e){return Wi[e]};O.getBCHDigit=function(i){let e=0;for(;i!==0;)e++,i>>>=1;return e};O.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Xe=e};O.isKanjiModeEnabled=function(){return typeof Xe<"u"};O.toSJIS=function(e){return Xe(e)}});var De=y(I=>{"use strict";I.L={bit:1};I.M={bit:0};I.Q={bit:3};I.H={bit:2};function Xi(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return I.L;case"m":case"medium":return I.M;case"q":case"quartile":return I.Q;case"h":case"high":return I.H;default:throw new Error("Unknown EC Level: "+i)}}I.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};I.from=function(e,t){if(I.isValid(e))return e;try{return Xi(e)}catch{return t}}});var Xn=y((Vo,Wn)=>{"use strict";function Yn(){this.buffer=[],this.length=0}Yn.prototype={get:function(i){let e=Math.floor(i/8);return(this.buffer[e]>>>7-i%8&1)===1},put:function(i,e){for(let t=0;t<e;t++)this.putBit((i>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),i&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Wn.exports=Yn});var ei=y((Uo,Zn)=>{"use strict";function le(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}le.prototype.set=function(i,e,t,n){let r=i*this.size+e;this.data[r]=t,n&&(this.reservedBit[r]=!0)};le.prototype.get=function(i,e){return this.data[i*this.size+e]};le.prototype.xor=function(i,e,t){this.data[i*this.size+e]^=t};le.prototype.isReserved=function(i,e){return this.reservedBit[i*this.size+e]};Zn.exports=le});var ti=y(ke=>{"use strict";var Zi=V().getSymbolSize;ke.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=Zi(e),r=n===145?26:Math.ceil((n-13)/(2*t-2))*2,o=[n-7];for(let a=1;a<t-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()};ke.getPositions=function(e){let t=[],n=ke.getRowColCoords(e),r=n.length;for(let o=0;o<r;o++)for(let a=0;a<r;a++)o===0&&a===0||o===0&&a===r-1||o===r-1&&a===0||t.push([n[o],n[a]]);return t}});var ri=y(ii=>{"use strict";var er=V().getSymbolSize,ni=7;ii.getPositions=function(e){let t=er(e);return[[0,0],[t-ni,0],[0,t-ni]]}});var oi=y(C=>{"use strict";C.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var j={N1:3,N2:3,N3:40,N4:10};C.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};C.from=function(e){return C.isValid(e)?parseInt(e,10):void 0};C.getPenaltyN1=function(e){let t=e.size,n=0,r=0,o=0,a=null,s=null;for(let l=0;l<t;l++){r=o=0,a=s=null;for(let f=0;f<t;f++){let h=e.get(l,f);h===a?r++:(r>=5&&(n+=j.N1+(r-5)),a=h,r=1),h=e.get(f,l),h===s?o++:(o>=5&&(n+=j.N1+(o-5)),s=h,o=1)}r>=5&&(n+=j.N1+(r-5)),o>=5&&(n+=j.N1+(o-5))}return n};C.getPenaltyN2=function(e){let t=e.size,n=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){let a=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);(a===4||a===0)&&n++}return n*j.N2};C.getPenaltyN3=function(e){let t=e.size,n=0,r=0,o=0;for(let a=0;a<t;a++){r=o=0;for(let s=0;s<t;s++)r=r<<1&2047|e.get(a,s),s>=10&&(r===1488||r===93)&&n++,o=o<<1&2047|e.get(s,a),s>=10&&(o===1488||o===93)&&n++}return n*j.N3};C.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let o=0;o<n;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/n/5)-10)*j.N4};function tr(i,e,t){switch(i){case C.Patterns.PATTERN000:return(e+t)%2===0;case C.Patterns.PATTERN001:return e%2===0;case C.Patterns.PATTERN010:return t%3===0;case C.Patterns.PATTERN011:return(e+t)%3===0;case C.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case C.Patterns.PATTERN101:return e*t%2+e*t%3===0;case C.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case C.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}C.applyMask=function(e,t){let n=t.size;for(let r=0;r<n;r++)for(let o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,tr(e,o,r))};C.getBestMask=function(e,t){let n=Object.keys(C.Patterns).length,r=0,o=1/0;for(let a=0;a<n;a++){t(a),C.applyMask(a,e);let s=C.getPenaltyN1(e)+C.getPenaltyN2(e)+C.getPenaltyN3(e)+C.getPenaltyN4(e);C.applyMask(a,e),s<o&&(o=s,r=a)}return r}});var et=y(Ze=>{"use strict";var U=De(),Ae=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Be=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ze.getBlocksCount=function(e,t){switch(t){case U.L:return Ae[(e-1)*4+0];case U.M:return Ae[(e-1)*4+1];case U.Q:return Ae[(e-1)*4+2];case U.H:return Ae[(e-1)*4+3];default:return}};Ze.getTotalCodewordsCount=function(e,t){switch(t){case U.L:return Be[(e-1)*4+0];case U.M:return Be[(e-1)*4+1];case U.Q:return Be[(e-1)*4+2];case U.H:return Be[(e-1)*4+3];default:return}}});var ai=y(Fe=>{"use strict";var ce=new Uint8Array(512),Pe=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)ce[t]=e,Pe[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)ce[t]=ce[t-255]})();Fe.log=function(e){if(e<1)throw new Error("log("+e+")");return Pe[e]};Fe.exp=function(e){return ce[e]};Fe.mul=function(e,t){return e===0||t===0?0:ce[Pe[e]+Pe[t]]}});var si=y(ue=>{"use strict";var tt=ai();ue.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)n[r+o]^=tt.mul(e[r],t[o]);return n};ue.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let r=n[0];for(let a=0;a<t.length;a++)n[a]^=tt.mul(t[a],r);let o=0;for(;o<n.length&&n[o]===0;)o++;n=n.slice(o)}return n};ue.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=ue.mul(t,new Uint8Array([1,tt.exp(n)]));return t}});var ui=y((Jo,ci)=>{"use strict";var li=si();function nt(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}nt.prototype.initialize=function(e){this.degree=e,this.genPoly=li.generateECPolynomial(this.degree)};nt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=li.mod(t,this.genPoly),r=this.degree-n.length;if(r>0){let o=new Uint8Array(this.degree);return o.set(n,r),o}return n};ci.exports=nt});var it=y(di=>{"use strict";di.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var rt=y(P=>{"use strict";var mi="[0-9]+",nr="[A-Z $%*+\\-./:]+",de="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";de=de.replace(/u/g,"\\u");var ir="(?:(?![A-Z0-9 $%*+\\-./:]|"+de+`)(?:.|[\r
]))+`;P.KANJI=new RegExp(de,"g");P.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");P.BYTE=new RegExp(ir,"g");P.NUMERIC=new RegExp(mi,"g");P.ALPHANUMERIC=new RegExp(nr,"g");var rr=new RegExp("^"+de+"$"),or=new RegExp("^"+mi+"$"),ar=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");P.testKanji=function(e){return rr.test(e)};P.testNumeric=function(e){return or.test(e)};P.testAlphanumeric=function(e){return ar.test(e)}});var z=y(b=>{"use strict";var sr=it(),ot=rt();b.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};b.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};b.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};b.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};b.MIXED={bit:-1};b.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!sr.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};b.getBestModeForData=function(e){return ot.testNumeric(e)?b.NUMERIC:ot.testAlphanumeric(e)?b.ALPHANUMERIC:ot.testKanji(e)?b.KANJI:b.BYTE};b.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};b.isValid=function(e){return e&&e.bit&&e.ccBits};function lr(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return b.NUMERIC;case"alphanumeric":return b.ALPHANUMERIC;case"kanji":return b.KANJI;case"byte":return b.BYTE;default:throw new Error("Unknown mode: "+i)}}b.from=function(e,t){if(b.isValid(e))return e;try{return lr(e)}catch{return t}}});var yi=y($=>{"use strict";var Re=V(),cr=et(),fi=De(),H=z(),at=it(),hi=7973,pi=Re.getBCHDigit(hi);function ur(i,e,t){for(let n=1;n<=40;n++)if(e<=$.getCapacity(n,t,i))return n}function gi(i,e){return H.getCharCountIndicator(i,e)+4}function dr(i,e){let t=0;return i.forEach(function(n){let r=gi(n.mode,e);t+=r+n.getBitsLength()}),t}function mr(i,e){for(let t=1;t<=40;t++)if(dr(i,t)<=$.getCapacity(t,e,H.MIXED))return t}$.from=function(e,t){return at.isValid(e)?parseInt(e,10):t};$.getCapacity=function(e,t,n){if(!at.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=H.BYTE);let r=Re.getSymbolTotalCodewords(e),o=cr.getTotalCodewordsCount(e,t),a=(r-o)*8;if(n===H.MIXED)return a;let s=a-gi(n,e);switch(n){case H.NUMERIC:return Math.floor(s/10*3);case H.ALPHANUMERIC:return Math.floor(s/11*2);case H.KANJI:return Math.floor(s/13);case H.BYTE:default:return Math.floor(s/8)}};$.getBestVersionForData=function(e,t){let n,r=fi.from(t,fi.M);if(Array.isArray(e)){if(e.length>1)return mr(e,r);if(e.length===0)return 1;n=e[0]}else n=e;return ur(n.mode,n.getLength(),r)};$.getEncodedBits=function(e){if(!at.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Re.getBCHDigit(t)-pi>=0;)t^=hi<<Re.getBCHDigit(t)-pi;return e<<12|t}});var Ei=y(Ci=>{"use strict";var st=V(),wi=1335,fr=21522,_i=st.getBCHDigit(wi);Ci.getEncodedBits=function(e,t){let n=e.bit<<3|t,r=n<<10;for(;st.getBCHDigit(r)-_i>=0;)r^=wi<<st.getBCHDigit(r)-_i;return(n<<10|r)^fr}});var xi=y((ea,Si)=>{"use strict";var pr=z();function ee(i){this.mode=pr.NUMERIC,this.data=i.toString()}ee.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ee.prototype.getLength=function(){return this.data.length};ee.prototype.getBitsLength=function(){return ee.getBitsLength(this.data.length)};ee.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);let o=this.data.length-t;o>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,o*3+1))};Si.exports=ee});var bi=y((ta,qi)=>{"use strict";var hr=z(),lt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function te(i){this.mode=hr.ALPHANUMERIC,this.data=i}te.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};te.prototype.getLength=function(){return this.data.length};te.prototype.getBitsLength=function(){return te.getBitsLength(this.data.length)};te.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=lt.indexOf(this.data[t])*45;n+=lt.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(lt.indexOf(this.data[t]),6)};qi.exports=te});var Li=y((na,vi)=>{"use strict";var gr=z();function ne(i){this.mode=gr.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}ne.getBitsLength=function(e){return e*8};ne.prototype.getLength=function(){return this.data.length};ne.prototype.getBitsLength=function(){return ne.getBitsLength(this.data.length)};ne.prototype.write=function(i){for(let e=0,t=this.data.length;e<t;e++)i.put(this.data[e],8)};vi.exports=ne});var Ti=y((ia,Ii)=>{"use strict";var yr=z(),_r=V();function ie(i){this.mode=yr.KANJI,this.data=i}ie.getBitsLength=function(e){return e*13};ie.prototype.getLength=function(){return this.data.length};ie.prototype.getBitsLength=function(){return ie.getBitsLength(this.data.length)};ie.prototype.write=function(i){let e;for(e=0;e<this.data.length;e++){let t=_r.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),i.put(t,13)}};Ii.exports=ie});var Mi=y((ra,ct)=>{"use strict";var me={single_source_shortest_paths:function(i,e,t){var n={},r={};r[e]=0;var o=me.PriorityQueue.make();o.push(e,0);for(var a,s,l,f,h,v,E,M,F;!o.empty();){a=o.pop(),s=a.value,f=a.cost,h=i[s]||{};for(l in h)h.hasOwnProperty(l)&&(v=h[l],E=f+v,M=r[l],F=typeof r[l]>"u",(F||M>E)&&(r[l]=E,o.push(l,E),n[l]=s))}if(typeof t<"u"&&typeof r[t]>"u"){var R=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(R)}return n},extract_shortest_path_from_predecessor_list:function(i,e){for(var t=[],n=e,r;n;)t.push(n),r=i[n],n=i[n];return t.reverse(),t},find_path:function(i,e,t){var n=me.single_source_shortest_paths(i,e,t);return me.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(i){var e=me.PriorityQueue,t={},n;i=i||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=i.sorter||e.default_sorter,t},default_sorter:function(i,e){return i.cost-e.cost},push:function(i,e){var t={value:i,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof ct<"u"&&(ct.exports=me)});var Ni=y(re=>{"use strict";var g=z(),Ai=xi(),Bi=bi(),Pi=Li(),Fi=Ti(),fe=rt(),Ne=V(),wr=Mi();function Di(i){return unescape(encodeURIComponent(i)).length}function pe(i,e,t){let n=[],r;for(;(r=i.exec(t))!==null;)n.push({data:r[0],index:r.index,mode:e,length:r[0].length});return n}function Ri(i){let e=pe(fe.NUMERIC,g.NUMERIC,i),t=pe(fe.ALPHANUMERIC,g.ALPHANUMERIC,i),n,r;return Ne.isKanjiModeEnabled()?(n=pe(fe.BYTE,g.BYTE,i),r=pe(fe.KANJI,g.KANJI,i)):(n=pe(fe.BYTE_KANJI,g.BYTE,i),r=[]),e.concat(t,n,r).sort(function(a,s){return a.index-s.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function ut(i,e){switch(e){case g.NUMERIC:return Ai.getBitsLength(i);case g.ALPHANUMERIC:return Bi.getBitsLength(i);case g.KANJI:return Fi.getBitsLength(i);case g.BYTE:return Pi.getBitsLength(i)}}function Cr(i){return i.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function Er(i){let e=[];for(let t=0;t<i.length;t++){let n=i[t];switch(n.mode){case g.NUMERIC:e.push([n,{data:n.data,mode:g.ALPHANUMERIC,length:n.length},{data:n.data,mode:g.BYTE,length:n.length}]);break;case g.ALPHANUMERIC:e.push([n,{data:n.data,mode:g.BYTE,length:n.length}]);break;case g.KANJI:e.push([n,{data:n.data,mode:g.BYTE,length:Di(n.data)}]);break;case g.BYTE:e.push([{data:n.data,mode:g.BYTE,length:Di(n.data)}])}}return e}function Sr(i,e){let t={},n={start:{}},r=["start"];for(let o=0;o<i.length;o++){let a=i[o],s=[];for(let l=0;l<a.length;l++){let f=a[l],h=""+o+l;s.push(h),t[h]={node:f,lastCount:0},n[h]={};for(let v=0;v<r.length;v++){let E=r[v];t[E]&&t[E].node.mode===f.mode?(n[E][h]=ut(t[E].lastCount+f.length,f.mode)-ut(t[E].lastCount,f.mode),t[E].lastCount+=f.length):(t[E]&&(t[E].lastCount=f.length),n[E][h]=ut(f.length,f.mode)+4+g.getCharCountIndicator(f.mode,e))}}r=s}for(let o=0;o<r.length;o++)n[r[o]].end=0;return{map:n,table:t}}function ki(i,e){let t,n=g.getBestModeForData(i);if(t=g.from(e,n),t!==g.BYTE&&t.bit<n.bit)throw new Error('"'+i+'" cannot be encoded with mode '+g.toString(t)+`.
 Suggested mode is: `+g.toString(n));switch(t===g.KANJI&&!Ne.isKanjiModeEnabled()&&(t=g.BYTE),t){case g.NUMERIC:return new Ai(i);case g.ALPHANUMERIC:return new Bi(i);case g.KANJI:return new Fi(i);case g.BYTE:return new Pi(i)}}re.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(ki(n,null)):n.data&&t.push(ki(n.data,n.mode)),t},[])};re.fromString=function(e,t){let n=Ri(e,Ne.isKanjiModeEnabled()),r=Er(n),o=Sr(r,t),a=wr.find_path(o.map,"start","end"),s=[];for(let l=1;l<a.length-1;l++)s.push(o.table[a[l]].node);return re.fromArray(Cr(s))};re.rawSplit=function(e){return re.fromArray(Ri(e,Ne.isKanjiModeEnabled()))}});var Vi=y(Qi=>{"use strict";var Ve=V(),dt=De(),xr=Xn(),qr=ei(),br=ti(),vr=ri(),pt=oi(),ht=et(),Lr=ui(),Qe=yi(),Ir=Ei(),Tr=z(),mt=Ni();function Mr(i,e){let t=i.size,n=vr.getPositions(e);for(let r=0;r<n.length;r++){let o=n[r][0],a=n[r][1];for(let s=-1;s<=7;s++)if(!(o+s<=-1||t<=o+s))for(let l=-1;l<=7;l++)a+l<=-1||t<=a+l||(s>=0&&s<=6&&(l===0||l===6)||l>=0&&l<=6&&(s===0||s===6)||s>=2&&s<=4&&l>=2&&l<=4?i.set(o+s,a+l,!0,!0):i.set(o+s,a+l,!1,!0))}}function Dr(i){let e=i.size;for(let t=8;t<e-8;t++){let n=t%2===0;i.set(t,6,n,!0),i.set(6,t,n,!0)}}function kr(i,e){let t=br.getPositions(e);for(let n=0;n<t.length;n++){let r=t[n][0],o=t[n][1];for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)a===-2||a===2||s===-2||s===2||a===0&&s===0?i.set(r+a,o+s,!0,!0):i.set(r+a,o+s,!1,!0)}}function Ar(i,e){let t=i.size,n=Qe.getEncodedBits(e),r,o,a;for(let s=0;s<18;s++)r=Math.floor(s/3),o=s%3+t-8-3,a=(n>>s&1)===1,i.set(r,o,a,!0),i.set(o,r,a,!0)}function ft(i,e,t){let n=i.size,r=Ir.getEncodedBits(e,t),o,a;for(o=0;o<15;o++)a=(r>>o&1)===1,o<6?i.set(o,8,a,!0):o<8?i.set(o+1,8,a,!0):i.set(n-15+o,8,a,!0),o<8?i.set(8,n-o-1,a,!0):o<9?i.set(8,15-o-1+1,a,!0):i.set(8,15-o-1,a,!0);i.set(n-8,8,1,!0)}function Br(i,e){let t=i.size,n=-1,r=t-1,o=7,a=0;for(let s=t-1;s>0;s-=2)for(s===6&&s--;;){for(let l=0;l<2;l++)if(!i.isReserved(r,s-l)){let f=!1;a<e.length&&(f=(e[a]>>>o&1)===1),i.set(r,s-l,f),o--,o===-1&&(a++,o=7)}if(r+=n,r<0||t<=r){r-=n,n=-n;break}}}function Pr(i,e,t){let n=new xr;t.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),Tr.getCharCountIndicator(l.mode,i)),l.write(n)});let r=Ve.getSymbolTotalCodewords(i),o=ht.getTotalCodewordsCount(i,e),a=(r-o)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let s=(a-n.getLengthInBits())/8;for(let l=0;l<s;l++)n.put(l%2?17:236,8);return Fr(n,i,e)}function Fr(i,e,t){let n=Ve.getSymbolTotalCodewords(e),r=ht.getTotalCodewordsCount(e,t),o=n-r,a=ht.getBlocksCount(e,t),s=n%a,l=a-s,f=Math.floor(n/a),h=Math.floor(o/a),v=h+1,E=f-h,M=new Lr(E),F=0,R=new Array(a),xt=new Array(a),ze=0,Yi=new Uint8Array(i.buffer);for(let J=0;J<a;J++){let Oe=J<l?h:v;R[J]=Yi.slice(F,F+Oe),xt[J]=M.encode(R[J]),F+=Oe,ze=Math.max(ze,Oe)}let He=new Uint8Array(n),qt=0,A,B;for(A=0;A<ze;A++)for(B=0;B<a;B++)A<R[B].length&&(He[qt++]=R[B][A]);for(A=0;A<E;A++)for(B=0;B<a;B++)He[qt++]=xt[B][A];return He}function Rr(i,e,t,n){let r;if(Array.isArray(i))r=mt.fromArray(i);else if(typeof i=="string"){let f=e;if(!f){let h=mt.rawSplit(i);f=Qe.getBestVersionForData(h,t)}r=mt.fromString(i,f||40)}else throw new Error("Invalid data");let o=Qe.getBestVersionForData(r,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let a=Pr(e,t,r),s=Ve.getSymbolSize(e),l=new qr(s);return Mr(l,e),Dr(l),kr(l,e),ft(l,t,0),e>=7&&Ar(l,e),Br(l,a),isNaN(n)&&(n=pt.getBestMask(l,ft.bind(null,l,t))),pt.applyMask(n,l),ft(l,t,n),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:n,segments:r}}Qi.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=dt.M,r,o;return typeof t<"u"&&(n=dt.from(t.errorCorrectionLevel,dt.M),r=Qe.from(t.version),o=pt.from(t.maskPattern),t.toSJISFunc&&Ve.setToSJISFunction(t.toSJISFunc)),Rr(e,r,n,o)}});var gt=y(K=>{"use strict";function Ui(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let e=i.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+i);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}K.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:Ui(e.color.dark||"#000000ff"),light:Ui(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};K.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};K.getImageWidth=function(e,t){let n=K.getScale(e,t);return Math.floor((e+t.margin*2)*n)};K.qrToImageData=function(e,t,n){let r=t.modules.size,o=t.modules.data,a=K.getScale(r,n),s=Math.floor((r+n.margin*2)*a),l=n.margin*a,f=[n.color.light,n.color.dark];for(let h=0;h<s;h++)for(let v=0;v<s;v++){let E=(h*s+v)*4,M=n.color.light;if(h>=l&&v>=l&&h<s-l&&v<s-l){let F=Math.floor((h-l)/a),R=Math.floor((v-l)/a);M=f[o[F*r+R]?1:0]}e[E++]=M.r,e[E++]=M.g,e[E++]=M.b,e[E]=M.a}}});var zi=y(Ue=>{"use strict";var yt=gt();function Nr(i,e,t){i.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function Qr(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ue.render=function(e,t,n){let r=n,o=t;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),t||(o=Qr()),r=yt.getOptions(r);let a=yt.getImageWidth(e.modules.size,r),s=o.getContext("2d"),l=s.createImageData(a,a);return yt.qrToImageData(l.data,e,r),Nr(s,o,a),s.putImageData(l,0,0),o};Ue.renderToDataURL=function(e,t,n){let r=n;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),r||(r={});let o=Ue.render(e,t,r),a=r.type||"image/png",s=r.rendererOpts||{};return o.toDataURL(a,s.quality)}});var ji=y(Oi=>{"use strict";var Vr=gt();function Hi(i,e){let t=i.a/255,n=e+'="'+i.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function _t(i,e,t){let n=i+e;return typeof t<"u"&&(n+=" "+t),n}function Ur(i,e,t){let n="",r=0,o=!1,a=0;for(let s=0;s<i.length;s++){let l=Math.floor(s%e),f=Math.floor(s/e);!l&&!o&&(o=!0),i[s]?(a++,s>0&&l>0&&i[s-1]||(n+=o?_t("M",l+t,.5+f+t):_t("m",r,0),r=0,o=!1),l+1<e&&i[s+1]||(n+=_t("h",a),a=0)):r++}return n}Oi.render=function(e,t,n){let r=Vr.getOptions(t),o=e.modules.size,a=e.modules.data,s=o+r.margin*2,l=r.color.light.a?"<path "+Hi(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",f="<path "+Hi(r.color.dark,"stroke")+' d="'+Ur(a,o,r.margin)+'"/>',h='viewBox="0 0 '+s+" "+s+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+h+' shape-rendering="crispEdges">'+l+f+`</svg>
`;return typeof n=="function"&&n(null,E),E}});var Et=y(he=>{"use strict";var zr=Gn(),wt=Vi(),$i=zi(),Hr=ji();function Ct(i,e,t,n,r){let o=[].slice.call(arguments,1),a=o.length,s=typeof o[a-1]=="function";if(!s&&!zr())throw new Error("Callback required as last argument");if(s){if(a<2)throw new Error("Too few arguments provided");a===2?(r=t,t=e,e=n=void 0):a===3&&(e.getContext&&typeof r>"u"?(r=n,n=void 0):(r=n,n=t,t=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(t=e,e=n=void 0):a===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(l,f){try{let h=wt.create(t,n);l(i(h,e,n))}catch(h){f(h)}})}try{let l=wt.create(t,n);r(null,i(l,e,n))}catch(l){r(l)}}he.create=wt.create;he.toCanvas=Ct.bind(null,$i.render);he.toDataURL=Ct.bind(null,$i.renderToDataURL);he.toString=Ct.bind(null,function(i,e,t){return Hr.render(i,t)})});var Me=class i{constructor(e,t,n){this._StorageService=e;this.router=t;this._ErrorLogService=n}ListQuanlyqrcode=ye([]);DetailQuanlyqrcode=ye({});quanlyqrcodeId=ye(null);setQuanlyqrcodeId(e){this.quanlyqrcodeId.set(e)}socket=zt(`${T.APIURL}`,{transports:["websocket"],reconnectionAttempts:5,timeout:5e3});SendEmail(e){return x(this,null,function*(){try{let t={to:e.email,name:e.name,qrcode:e.qrcode},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},r=yield fetch(`${T.APIURL}/mail/sendemail`,n);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);let o=yield r.json();console.log(o),o.statusCode===200&&(e.isSentEmail=!0,this.updateQuanlyqrcode(e)),this.getAllQuanlyqrcode(),this.quanlyqrcodeId.set(o.id)}catch(t){return this._ErrorLogService.logError("Failed to CreateQuanlyqrcode",t),console.error(t)}})}CreateQuanlyqrcode(e){return x(this,null,function*(){try{let t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n=yield fetch(`${T.APIURL}/quanlyqrcode`,t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);let r=yield n.json();n.ok||this.handleError(n.status),this.getAllQuanlyqrcode(),this.quanlyqrcodeId.set(r.id)}catch(t){return this._ErrorLogService.logError("Failed to CreateQuanlyqrcode",t),console.error(t)}})}getAllQuanlyqrcode(){return x(this,null,function*(){let t=yield(yield this.initDB()).getAll("quanlyqrcodes"),n=this._StorageService.getItem("quanlyqrcodes_updatedAt")||"0";if(t.length>0&&Date.now()-new Date(n).getTime()<5*60*1e3)return this.ListQuanlyqrcode.set(t),t;try{let r={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`}},o=yield fetch(`${T.APIURL}/quanlyqrcode/last-updated`,r);if(!o.ok)return this.handleError(o.status),t;let{updatedAt:a}=yield o.json();if(a<=n)return this.ListQuanlyqrcode.set(t),t;console.log(a,n);let s=yield fetch(`${T.APIURL}/quanlyqrcode`,r);if(!s.ok)return this.handleError(s.status),t;let l=yield s.json();return yield this.saveQuanlyqrcodes(l),this._StorageService.setItem("quanlyqrcodes_updatedAt",a),this.ListQuanlyqrcode.set(l),l}catch(r){return this._ErrorLogService.logError("Failed to create getAllQuanlyqrcode",r),console.error(r),t}})}listenQuanlyqrcodeUpdates(){this.socket.on("quanlyqrcode-updated",()=>x(this,null,function*(){console.log("\u{1F504} D\u1EEF li\u1EC7u s\u1EA3n ph\u1EA9m thay \u0111\u1ED5i, c\u1EADp nh\u1EADt l\u1EA1i cache..."),this._StorageService.removeItem("quanlyqrcodes_updatedAt"),yield this.getAllQuanlyqrcode()}))}initDB(){return x(this,null,function*(){return yield Ht("QuanlyqrcodeDB",1,{upgrade(e){e.createObjectStore("quanlyqrcodes",{keyPath:"id"})}})})}saveQuanlyqrcodes(e){return x(this,null,function*(){let n=(yield this.initDB()).transaction("quanlyqrcodes","readwrite"),r=n.objectStore("quanlyqrcodes");yield r.clear(),e.forEach(o=>r.put(o)),yield n.done})}getQuanlyqrcodeBy(e){return x(this,null,function*(){try{let t={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this._StorageService.getItem("token")}`},body:JSON.stringify(e)},n=yield fetch(`${T.APIURL}/quanlyqrcode/findby`,t);n.ok||this.handleError(n.status);let r=yield n.json();this.DetailQuanlyqrcode.set(r)}catch(t){return this._ErrorLogService.logError("Failed to getQuanlyqrcodeBy",t),console.error(t)}})}updateQuanlyqrcode(e){return x(this,null,function*(){try{let t={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n=yield fetch(`${T.APIURL}/quanlyqrcode/${e.id}`,t);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);let r=yield n.json();n.ok||this.handleError(n.status),this.getAllQuanlyqrcode(),this.getQuanlyqrcodeBy({id:r.id})}catch(t){return this._ErrorLogService.logError("Failed to updateQuanlyqrcode",t),console.error(t)}})}DeleteQuanlyqrcode(e){return x(this,null,function*(){try{let t={method:"DELETE",headers:{"Content-Type":"application/json"}},n=yield fetch(`${T.APIURL}/quanlyqrcode/${e.id}`,t);n.ok||this.handleError(n.status),this.getAllQuanlyqrcode()}catch(t){return this._ErrorLogService.logError("Failed to DeleteQuanlyqrcode",t),console.error(t)}})}handleError(e){let t="L\u1ED7i kh\xF4ng x\xE1c \u0111\u1ECBnh";switch(e){case 401:t="Vui l\xF2ng \u0111\u0103ng nh\u1EADp l\u1EA1i";break;case 403:t="B\u1EA1n kh\xF4ng c\xF3 quy\u1EC1n truy c\u1EADp";break;case 500:t="L\u1ED7i m\xE1y ch\u1EE7, vui l\xF2ng th\u1EED l\u1EA1i sau";break}let n=JSON.stringify({code:e,title:t});this.router.navigate(["/errorserver"],{queryParams:{data:n}})}static \u0275fac=function(t){return new(t||i)(ge(Ie),ge(Le),ge(Yt))};static \u0275prov=vt({token:i,factory:i.\u0275fac,providedIn:"root"})};var oe=bt(Et(),1);var Or=["qrcElement"],Ki=(()=>{class i{constructor(t,n){this.renderer=t,this.sanitizer=n,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new It,this.context=null}ngOnChanges(){return x(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(t){return this.allowEmptyString===!1?!(typeof t>"u"||t===""||t==="null"||t===null):!(typeof t>"u")}toDataURL(t){return new Promise((n,r)=>{(0,oe.toDataURL)(this.qrdata,t,(o,a)=>{o?r(o):n(a)})})}toCanvas(t,n){return new Promise((r,o)=>{(0,oe.toCanvas)(t,this.qrdata,n,a=>{a?o(a):r("success")})})}toSVG(t){return new Promise((n,r)=>{(0,oe.toString)(this.qrdata,t,(o,a)=>{o?r(o):n(a)})})}renderElement(t){for(let n of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,n);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){return x(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let t={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},n=this.imageSrc,r=this.imageHeight||40,o=this.imageWidth||40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,t).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),n&&this.context){this.centerImage=new Image(o,r),n!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=n),r!==this.centerImage.height&&(this.centerImage.height=r),o!==this.centerImage.width&&(this.centerImage.width=o);let s=this.centerImage;s&&(s.onload=()=>{this.context?.drawImage(s,a.width/2-o/2,a.height/2-r/2,o,r)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(s=>{console.error("[angularx-qrcode] canvas error:",s)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(t).then(s=>{this.renderer.setProperty(a,"innerHTML",s);let l=a.firstChild;this.renderer.setAttribute(l,"height",`${this.width}`),this.renderer.setAttribute(l,"width",`${this.width}`),this.renderElement(l),this.emitQRCodeURL(l)}).catch(s=>{console.error("[angularx-qrcode] svg error:",s)});break}case"url":case"img":default:{let a=this.renderer.createElement("img");this.toDataURL(t).then(s=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",s),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(s=>{console.error("[angularx-qrcode] img/url error:",s)})}}}catch(t){console.error("[angularx-qrcode] Error generating QR Code:",t.message)}})}convertBase64ImageUrlToBlob(t){let n=t.split(";base64,"),r=n[0].split(":")[1],o=atob(n[1]),a=new Uint8Array(o.length);for(let s=0;s<o.length;++s)a[s]=o.charCodeAt(s);return new Blob([a],{type:r})}emitQRCodeURL(t){let n=t.constructor.name;if(n===SVGSVGElement.name){let l=t.outerHTML,f=new Blob([l],{type:"image/svg+xml"}),h=URL.createObjectURL(f),v=this.sanitizer.bypassSecurityTrustUrl(h);this.qrCodeURL.emit(v);return}let r="";n===HTMLCanvasElement.name&&(r=t.toDataURL("image/png")),n===HTMLImageElement.name&&(r=t.src);let o=this.convertBase64ImageUrlToBlob(r),a=URL.createObjectURL(o),s=this.sanitizer.bypassSecurityTrustUrl(a);this.qrCodeURL.emit(s)}static{this.\u0275fac=function(n){return new(n||i)(Ke(Tt),Ke(Vt))}}static{this.\u0275cmp=_e({type:i,selectors:[["qrcode"]],viewQuery:function(n,r){if(n&1&&Y(Or,7),n&2){let o;W(o=X())&&(r.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[Lt],decls:2,vars:2,consts:[["qrcElement",""]],template:function(n,r){n&1&&G(0,"div",null,0),n&2&&Mt(r.cssClass)},encapsulation:2,changeDetection:0})}}return i})();var Gi=bt(Et());var jr=["drawer"],St=()=>({standalone:!0}),$r=(i,e)=>e.key;function Kr(i,e){if(i&1){let t=L();c(0,"button",47),S("click",function(r){let o=_(t).$implicit;return m(2).toggleColumn(o),w(r.stopPropagation())}),c(1,"mat-icon"),d(2),u(),c(3,"span"),d(4),u()()}if(i&2){let t=e.$implicit;p(2),Z(t.isShow?"check_box":"check_box_outline_blank"),p(2),Z(t.value)}}function Jr(i,e){if(i&1){let t=L();c(0,"button",48),S("click",function(){_(t);let r=m(2),o=Q(45);return w(r.openDeleteDialog(o))}),c(1,"mat-icon"),d(2,"delete"),u()()}}function Gr(i,e){if(i&1){let t=L();c(0,"button",49),S("click",function(){_(t);let r=m(2),o=Q(49);return w(r.openSentEmailDialog(o))}),c(1,"mat-icon"),d(2,"forward_to_inbox"),u()()}}function Yr(i,e){if(i&1){let t=L();c(0,"div",29)(1,"div",30)(2,"button",31),S("click",function(){_(t);let r=m();return w(r.create())}),c(3,"mat-icon"),d(4,"add_circle"),u()(),c(5,"button",32)(6,"mat-icon"),d(7,"tune"),u()(),c(8,"mat-menu",null,2)(10,"div",33)(11,"mat-form-field",34)(12,"input",35),S("input",function(r){_(t);let o=m();return w(o.doFilterColumns(r))})("click",function(r){return _(t),w(r.stopPropagation())}),u(),c(13,"mat-icon",36),d(14,"search"),u()()(),c(15,"div",37),Je(16,Kr,5,2,"button",38,$r),u()(),c(18,"button",39),S("click",function(){_(t);let r=m();return w(r.isSearch=!r.isSearch)}),c(19,"mat-icon"),d(20,"search"),u()(),c(21,"button",40),S("click",function(){_(t);let r=m();return w(r.ExportExcel(r.Listquanlyqrcode(),"Quanlyqrcode"))}),c(22,"mat-icon"),d(23,"file_download"),u()(),c(24,"button",41),S("click",function(){_(t);let r=Q(28);return w(r.click())}),c(25,"mat-icon"),d(26,"file_upload"),u()(),c(27,"input",42,6),S("change",function(r){_(t);let o=m();return w(o.ImporExcel(r))}),u(),c(29,"button",43),S("click",function(){_(t);let r=m(),o=Q(47);return w(r.OpenLoadDrive(o))}),c(30,"mat-icon"),d(31,"cloud_download"),u()(),c(32,"span",44),d(33),u(),D(34,Jr,3,0,"button",45)(35,Gr,3,0,"button",46),u()()}if(i&2){let t=Q(9),n=m();p(5),q("matMenuTriggerFor",t),p(11),Ge(n.FilterColumns),p(17),k(" ",n.Listquanlyqrcode().length," S\u1EA3n Ph\u1EA9m "),p(),q("ngIf",n.EditList.length>0),p(),q("ngIf",n.EditList.length>0)}}function Wr(i,e){if(i&1){let t=L();c(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53)(4,"mat-icon"),d(5,"search"),u()(),c(6,"input",54),S("keyup",function(r){_(t);let o=m();return w(o.applyFilter(r))}),u()(),c(7,"button",55),S("click",function(){_(t);let r=m();return w(r.isSearch=!r.isSearch)}),c(8,"mat-icon"),d(9,"cancel"),u()()()()}}function Xr(i,e){if(i&1){let t=L();c(0,"th",58)(1,"span",59),d(2),u(),c(3,"app-searchfilter",60),S("OutFilter",function(r){_(t);let o=m(2);return w(o.onOutFilter(r))}),u()()}if(i&2){let t=m().$implicit,n=m();p(2),k(" ",n.ColumnName[t]," "),p(),q("icon","filter_alt")("ListItem",n.Listquanlyqrcode())("ListFilter",n.ListFilter)("filterItem",n.FilterHederColumn(n.dataSource.filteredData,t))}}function Zr(i,e){if(i&1){let t=L();c(0,"span",65),S("click",function(){_(t);let r=m().$implicit,o=m(2);return w(o.goToDetail(r))}),d(1),u()}if(i&2){let t=m().$implicit,n=m().$implicit;p(),k(" ",t[n]," ")}}function eo(i,e){i&1&&(c(0,"span",67),d(1,"mark_email_read"),u())}function to(i,e){if(i&1&&(c(0,"span",63),D(1,eo,2,0,"span",66),c(2,"span"),d(3),u()()),i&2){let t=m().$implicit,n=m().$implicit;p(),q("ngIf",t.isSentEmail),p(2),Z(t[n])}}function no(i,e){if(i&1){let t=L();c(0,"span")(1,"qrcode",68),S("click",function(r){_(t);let o=m().$implicit,a=m(2);return w(a.downloadQRCode(o,r))}),u()()}if(i&2){let t=m().$implicit;p(),q("qrdata",t.qrcode)("width",100)("errorCorrectionLevel","M")}}function io(i,e){if(i&1&&(c(0,"span",64),d(1),qe(2,"date"),u()),i&2){let t=m().$implicit,n=m().$implicit;p(),k(" ",be(2,1,t[n],"dd/MM/yyyy")," ")}}function ro(i,e){if(i&1&&(c(0,"span",64),d(1),u()),i&2){let t=m().$implicit,n=m().$implicit;p(),k(" ",t[n],"% ")}}function oo(i,e){i&1&&(c(0,"mat-icon",69),d(1,"check_circle"),u())}function ao(i,e){i&1&&(c(0,"mat-icon",70),d(1,"cancel"),u())}function so(i,e){if(i&1&&(c(0,"span",64),D(1,oo,2,0,"mat-icon",69)(2,ao,2,0,"mat-icon",70),u()),i&2){let t=m().$implicit,n=m().$implicit;p(),we(t[n]?1:2)}}function lo(i,e){i&1&&(c(0,"mat-icon",69),d(1,"check_circle"),u())}function co(i,e){i&1&&(c(0,"mat-icon",70),d(1,"cancel"),u())}function uo(i,e){if(i&1&&(c(0,"span",64),D(1,lo,2,0,"mat-icon",69)(2,co,2,0,"mat-icon",70),u()),i&2){let t=m().$implicit,n=m().$implicit;p(),we(t[n]?1:2)}}function mo(i,e){if(i&1&&(c(0,"span",64),d(1),qe(2,"date"),u()),i&2){let t=m().$implicit,n=m().$implicit;p(),k(" ",be(2,1,t[n],"dd/MM/yyyy")," ")}}function fo(i,e){if(i&1&&(c(0,"span",64),d(1),qe(2,"date"),u()),i&2){let t=m().$implicit,n=m().$implicit;p(),k(" ",be(2,1,t[n],"dd/MM/yyyy")," ")}}function po(i,e){if(i&1&&(c(0,"span",64),d(1),u()),i&2){let t=m().$implicit,n=m().$implicit;p(),k(" ",t[n]," ")}}function ho(i,e){if(i&1&&(c(0,"td",61),D(1,Zr,2,1,"span",62)(2,to,4,2,"span",63)(3,no,2,3,"span")(4,io,3,4,"span",64)(5,ro,2,1,"span",64)(6,so,3,1,"span",64)(7,uo,3,1,"span",64)(8,mo,3,4,"span",64)(9,fo,3,4,"span",64)(10,po,2,1,"span",64),u()),i&2){let t,n=m().$implicit;p(),we((t=n)==="qrcode"?1:t==="email"?2:t==="STT"?3:t==="createdAt"?4:t==="haohut"?5:t==="isActive"?6:t==="isSentEmail"?7:t==="updatedAt"?8:t==="checkedAt"?9:10)}}function go(i,e){if(i&1&&(At(0,14),D(1,Xr,4,5,"th",56)(2,ho,11,1,"td",57),Bt()),i&2){let t=e.$implicit;q("matColumnDef",t)}}function yo(i,e){i&1&&G(0,"tr",71)}function _o(i,e){if(i&1){let t=L();c(0,"tr",72),S("click",function(){let r=_(t).$implicit,o=m();return w(o.AddToEdit(r))}),u()}if(i&2){let t=e.$implicit,n=m();Dt("hover:bg-slate-100 ",n.CheckItemInEdit(t)?"!bg-slate-200":"","")}}function wo(i,e){i&1&&(c(0,"tr",73)(1,"td",74),d(2,"Kh\xF4ng t\xECm th\u1EA5y"),u()())}function Co(i,e){i&1&&(c(0,"mat-dialog-content")(1,"div",75)(2,"div",76),d(3,"X\xE1c Nh\u1EADn"),u(),c(4,"div"),d(5,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n xo\xE1 kh\xF4ng?"),u(),c(6,"div",77)(7,"button",78),d(8,"\u0110\u1ED3ng \xDD"),u(),c(9,"button",79),d(10,"Hu\u1EF7 B\u1ECF"),u()()()())}function Eo(i,e){if(i&1){let t=L();c(0,"mat-dialog-content",80)(1,"div",81)(2,"mat-form-field",34)(3,"mat-label"),d(4,"IdSheet"),u(),c(5,"input",82),Se("ngModelChange",function(r){_(t);let o=m();return Ee(o.IdSheet,r)||(o.IdSheet=r),w(r)}),u()(),c(6,"mat-form-field",34)(7,"mat-label"),d(8,"SheetName"),u(),c(9,"input",83),Se("ngModelChange",function(r){_(t);let o=m();return Ee(o.SheetName,r)||(o.SheetName=r),w(r)}),u()(),c(10,"button",84),S("click",function(){_(t);let r=m();return w(r.LoadDrive())}),c(11,"mat-icon"),d(12,"refresh"),u()()(),c(13,"div",85),G(14,"app-ktable",86),u(),c(15,"div",87)(16,"button",78),d(17,"\u0110\u1ED3ng \xDD"),u(),c(18,"button",79),d(19,"Hu\u1EF7 B\u1ECF"),u()()()}if(i&2){let t=m();p(5),Ce("ngModel",t.IdSheet),q("ngModelOptions",xe(7,St)),p(4),Ce("ngModel",t.SheetName),q("ngModelOptions",xe(8,St)),p(5),q("ListItem",t.ImportIteam)("ColumnName",t.ImportColumnName)("displayedColumns",t.ImportdisplayedColumns)}}function So(i,e){i&1&&(c(0,"mat-dialog-content")(1,"div",75)(2,"div",76),d(3,"X\xE1c Nh\u1EADn"),u(),c(4,"div"),d(5,"B\u1EA1n ch\u1EAFc ch\u1EAFn mu\u1ED1n g\u1EEDi email \u0111\u1EBFn kh\xE1ch m\u1EDDi \u0111\xE3 ch\u1ECDn kh\xF4ng?"),u(),c(6,"div",77)(7,"button",78),d(8,"\u0110\u1ED3ng \xDD"),u(),c(9,"button",79),d(10,"Hu\u1EF7 B\u1ECF"),u()()()())}var ae=class ae{displayedColumns=[];ColumnName={STT:"STT",isSentEmail:"\u0110\xE3 G\u1EEDi Email",qrcode:"M\xE3 QR",code:"M\xE3 X\xE1c Nh\u1EADn",name:"H\u1ECD T\xEAn",phone:"S\u1ED1 \u0110i\u1EC7n Tho\u1EA1i",email:"Email",checkedAt:"Checkin",createdAt:"Ng\xE0y T\u1EA1o"};FilterColumns=JSON.parse(localStorage.getItem("QuanlyqrcodeColFilter")||"[]");Columns=[];totalItems=0;pageSize=10;currentPage=1;totalPages=1;paginator;sort;drawer;_QuanlyqrcodeService=N(Me);_breakpointObserver=N(Ot);_GoogleSheetService=N(On);_StorageService=N(Ie);_router=N(Le);_dialog=N(dn);Listquanlyqrcode=this._QuanlyqrcodeService.ListQuanlyqrcode;EditList=[];dataSource=new We([]);quanlyqrcodeId=this._QuanlyqrcodeService.quanlyqrcodeId;_snackBar=N(Gt);CountItem=0;isSearch=!1;constructor(){Ft(()=>{this.dataSource.data=this.Listquanlyqrcode(),this.totalItems=this.Listquanlyqrcode().length,this.calculateTotalPages()})}applyFilter(e){let t=e.target.value;this.dataSource.filter=t.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnInit(){return x(this,null,function*(){this._QuanlyqrcodeService.listenQuanlyqrcodeUpdates(),yield this._QuanlyqrcodeService.getAllQuanlyqrcode(),this.displayedColumns=Object.keys(this.ColumnName),this.updateDisplayData(),this.dataSource=new We(this.Listquanlyqrcode()),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.initializeColumns(),this.setupDrawer()})}refresh(){return x(this,null,function*(){yield this._QuanlyqrcodeService.getAllQuanlyqrcode()})}downloadQRCode(e,t){Gi.toDataURL(e.qrcode,{width:300,errorCorrectionLevel:"M"},(n,r)=>{if(n){console.error("L\u1ED7i khi t\u1EA1o m\xE3 QR:",n);return}let o=document.createElement("a");o.href=r,o.download=`${e.name}_qrcode.png`,o.click()})}initializeColumns(){this.Columns=Object.keys(this.ColumnName).map(e=>({key:e,value:this.ColumnName[e],isShow:!0})),this.FilterColumns.length===0?this.FilterColumns=this.Columns:localStorage.setItem("QuanlyqrcodeColFilter",JSON.stringify(this.FilterColumns)),this.displayedColumns=this.FilterColumns.filter(e=>e.isShow).map(e=>e.key),this.ColumnName=this.FilterColumns.reduce((e,t)=>(t.isShow&&(e[t.key]=t.value),e),{})}setupDrawer(){this._breakpointObserver.observe([Jt.Handset]).subscribe(e=>{e.matches?this.drawer.mode="over":this.drawer.mode="side"})}toggleColumn(e){let t=this.FilterColumns.find(n=>n.key===e.key);t&&(t.isShow=!t.isShow,this.updateDisplayedColumns())}FilterHederColumn(e,t){return e.filter((r,o,a)=>o===a.findIndex(s=>s[t]===r[t]))}doFilterHederColumn(e,t){this.dataSource.filteredData=this.Listquanlyqrcode().filter(r=>r[t].toLowerCase().includes(e.target.value.toLowerCase()));let n=e.target.value.toLowerCase()}ListFilter=[];ChosenItem(e,t){let n=this.dataSource.filteredData.filter(o=>o[t]===e[t]);this.ListFilter.filter(o=>o[t]===e[t]).length>0?this.ListFilter=this.ListFilter.filter(o=>o[t]!==e[t]):this.ListFilter=[...this.ListFilter,...n]}ChosenAll(e){e.forEach(t=>{!!this.ListFilter.find(r=>r.id===t.id)?this.ListFilter=this.ListFilter.filter(r=>r.id!==r.id):this.ListFilter.push(t)})}ResetFilter(){this.ListFilter=this.Listquanlyqrcode()}EmptyFiter(){this.ListFilter=[]}CheckItem(e){return!!this.ListFilter.find(t=>t.id===e.id)}ApplyFilterColum(e){this.dataSource.data=this.Listquanlyqrcode().filter(t=>this.ListFilter.some(n=>n.id===t.id)),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,e.closeMenu()}onOutFilter(e){this.dataSource.data=e,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}updateDisplayedColumns(){this.displayedColumns=this.FilterColumns.filter(e=>e.isShow).map(e=>e.key),this.ColumnName=this.FilterColumns.reduce((e,t)=>(t.isShow&&(e[t.key]=t.value),e),{}),localStorage.setItem("QuanlyqrcodeColFilter",JSON.stringify(this.FilterColumns))}doFilterColumns(e){let t=e.target.value.toLowerCase();this.FilterColumns=this.Columns.filter(n=>n.value.toLowerCase().includes(t))}create(){this.drawer.open(),this._router.navigate(["admin/quanlyqrcode","new"])}openDeleteDialog(e){this._dialog.open(e,{hasBackdrop:!0,disableClose:!0}).afterClosed().subscribe(n=>{n=="true"&&this.DeleteListItem()})}DeleteListItem(){this.EditList.forEach(e=>{this._QuanlyqrcodeService.DeleteQuanlyqrcode(e)}),this.EditList=[],this._snackBar.open("X\xF3a Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}AddToEdit(e){this.EditList.find(n=>n.id===e.id)?this.EditList=this.EditList.filter(n=>n.id!==e.id):this.EditList.push(e)}CheckItemInEdit(e){return this.EditList.some(t=>t.id===e.id)}goToDetail(e){this.drawer.open(),this._QuanlyqrcodeService.setQuanlyqrcodeId(e.id),this._router.navigate(["admin/quanlyqrcode",e.id])}OpenLoadDrive(e){this._dialog.open(e,{hasBackdrop:!0,disableClose:!0}).afterClosed().subscribe(n=>x(this,null,function*(){n=="true"&&(console.log(this.ImportIteam),yield Promise.all(this.ImportIteam.map(r=>this._QuanlyqrcodeService.CreateQuanlyqrcode(je(se({},r),{slug:xn(r.title),email:r.email.toLowerCase(),qrcode:Ye(12,!1),code:Ye(6,!1)})))).then(()=>{this._snackBar.open("Import Successful","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})}))}))}IdSheet=this._StorageService.getItem("IdSheet")||"15npo25qyH5FmfcEjl1uyqqyFMS_vdFnmxM_kt0KYmZk";SheetName=this._StorageService.getItem("SheetName")||"SPImport";ImportIteam=[];ImportColumnName={};ImportdisplayedColumns=[];LoadDrive(){return x(this,null,function*(){let e={IdSheet:this.IdSheet,SheetName:this.SheetName,ApiKey:T.GSApiKey};this._StorageService.setItem("IdSheet",this.IdSheet),this._StorageService.setItem("SheetName",this.SheetName);let t=yield this._GoogleSheetService.getDrive(e);this.ImportIteam=Sn(t.values),this.ImportColumnName=Object.fromEntries(t.values[0].map((n,r)=>[n,t.values[1][r]])),this.ImportdisplayedColumns=t.values[0]})}DoImportData(e){return x(this,null,function*(){let t=e.map(s=>({title:s.title?.trim()||"",masp:s.masp?.trim()||"",giagoc:Number(s.giagoc)||0,dvt:s.dvt?.trim()||"",soluong:Number(s.soluong)||0,soluongkho:Number(s.soluongkho)||0,haohut:Number(s.haohut)||0,ghichu:s.ghichu?.trim()||""})),n=Array.from(new Map(t.map(s=>[s.masp,s])).values()),r=this._QuanlyqrcodeService.ListQuanlyqrcode(),o=r.map(s=>s.masp),a=n.map(s=>s.masp).filter(s=>!o.includes(s));yield Promise.all(n.map(s=>x(this,null,function*(){let l=r.find(f=>f.masp===s.masp);if(l){let f=se(se({},l),s);yield this._QuanlyqrcodeService.updateQuanlyqrcode(f)}else yield this._QuanlyqrcodeService.CreateQuanlyqrcode(s)}))),yield Promise.all(r.filter(s=>!n.some(l=>l.masp===s.masp)).map(s=>this._QuanlyqrcodeService.updateQuanlyqrcode(je(se({},s),{isActive:!1})))),this._snackBar.open("C\u1EADp Nh\u1EADt Th\xE0nh C\xF4ng","",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})})}ImporExcel(e){return x(this,null,function*(){let t=yield Hn(e);this.DoImportData(t)})}ExportExcel(e,t){let n=e.map(r=>({title:r.title,masp:r.masp,giagoc:r.giagoc,dvt:r.dvt,soluong:r.soluong,soluongkho:r.soluongkho,haohut:r.haohut,ghichu:r.ghichu}));zn(n,t)}trackByFn(e,t){return t.id}openSentEmailDialog(e){this._dialog.open(e,{hasBackdrop:!0,disableClose:!0}).afterClosed().subscribe(n=>{n=="true"&&(console.log(this.EditList),this.EditList.forEach(r=>{this._QuanlyqrcodeService.SendEmail(r)}))})}calculateTotalPages(){this.totalPages=Math.ceil(this.totalItems/this.pageSize)}onPageSizeChange(e,t){e>this.Listquanlyqrcode().length?(this.pageSize=this.Listquanlyqrcode().length,this._snackBar.open(`S\u1ED1 l\u01B0\u1EE3ng t\u1ED1i \u0111a ${this.Listquanlyqrcode().length}`,"",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["snackbar-success"]})):this.pageSize=e,this.currentPage=1,this.calculateTotalPages(),this.updateDisplayData(),t.closeMenu()}onPreviousPage(){this.currentPage>1&&(this.currentPage--,this.updateDisplayData())}onNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.updateDisplayData())}updateDisplayData(){let e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize,n=this.Listquanlyqrcode().slice(e,t);this.dataSource.data=n}static \u0275fac=function(t){return new(t||ae)};static \u0275cmp=_e({type:ae,selectors:[["app-listquanlyqrcode"]],viewQuery:function(t,n){if(t&1&&(Y(vn,5),Y(Te,5),Y(jr,7)),t&2){let r;W(r=X())&&(n.paginator=r.first),W(r=X())&&(n.sort=r.first),W(r=X())&&(n.drawer=r.first)}},decls:50,vars:19,consts:[["drawer",""],["menuHienthi","matMenuTrigger"],["menu","matMenu"],["DeleteDialog",""],["LoadDriveDialog",""],["SentEmailDialog",""],["uploadfile",""],["autosize","",1,"w-full","h-full"],["mode","over",1,"flex","flex-col","lg:!w-1/2","!w-full","h-full",3,"position"],[1,"flex","flex-col","space-y-2","h-screen-16","w-full","p-2"],["class","border p-1 cursor-pointer w-full relative flex lg:flex-row lg:space-y-2 space-y-0 flex-col space-x-2 justify-between items-center bg-white rounded-lg",4,"ngIf"],["class","border p-1 py-2 w-full flex flex-row space-x-2 items-center",4,"ngIf"],[1,"border","rounded-lg","w-full","h-full","overflow-auto"],["mat-table","","matSort","",1,"!border","w-full","cursor-pointer",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"class","click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"cursor-pointer","border","rounded-lg","px-3","p-1","flex","flex-row","space-x-2","items-center","justify-between"],[1,"w-full","flex","lg:p-0","p-2","lg:flex-row","lg:space-x-2","lg:items-center","lg:justify-between","flex-col","justify-center"],[1,"w-full","text-center"],[1,"w-full","flex","flex-row","space-x-2","items-center","lg:justify-end","justify-center"],[1,"font-bold","text-blue-600",3,"matMenuTriggerFor"],[1,"w-full","flex","flex-col","space-y-2","p-4",3,"click"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp S\u1ED1 L\u01B0\u1EE3ng",3,"ngModelChange","ngModel","ngModelOptions"],["mat-flat-button","","color","primary",3,"click"],[1,"pagination-controls"],["mat-icon-button","","color","primary",3,"click","disabled"],[1,"border","p-1","cursor-pointer","w-full","relative","flex","lg:flex-row","lg:space-y-2","space-y-0","flex-col","space-x-2","justify-between","items-center","bg-white","rounded-lg"],[1,"w-full","flex","flex-row","space-x-2","items-center"],["matTooltip","Th\xEAm m\u1EDBi","color","primary","mat-icon-button","",3,"click"],["matTooltip","\u1EA8n hi\u1EC7n c\u1ED9t","mat-icon-button","","color","primary","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],[1,"p-4"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","T\xECm Ki\u1EBFm",3,"input","click"],["matPrefix",""],[1,"flex","flex-col","max-h-80","overflow-auto"],["mat-menu-item",""],["matTooltip","T\xECm Ki\u1EBFm","color","primary","mat-icon-button","",3,"click"],["matTooltip","T\u1EA3i file excel M\u1EABu","color","primary","mat-icon-button","",3,"click"],["matTooltip","T\u1EA3i l\xEAn file excel","color","primary","mat-icon-button","",3,"click"],["type","file",1,"hidden",3,"change"],["matTooltip","T\u1EA3i d\u1EEF li\u1EC7u t\u1EEB drive","color","primary","mat-icon-button","",3,"click"],[1,"lg:flex","hidden","whitespace-nowrap","p-2","rounded-lg","bg-slate-200"],["matTooltip","Xo\xE1","color","warn","mat-icon-button","",3,"click",4,"ngIf"],["matTooltip","G\u1EEDi Email","color","primary","mat-icon-button","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["matTooltip","Xo\xE1","color","warn","mat-icon-button","",3,"click"],["matTooltip","G\u1EEDi Email","color","primary","mat-icon-button","",3,"click"],[1,"border","p-1","py-2","w-full","flex","flex-row","space-x-2","items-center"],[1,"flex","items-center"],[1,"relative","w-full"],[1,"absolute","text-blue-600","inset-y-0","start-0","flex","items-center","ps-3","pointer-events-none"],["type","text","placeholder","Vui l\xF2ng T\xECm Ki\u1EBFm",1,"w-full","max-w-2xl","border","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","ps-10","p-2.5",3,"keyup"],["mat-icon-button","","color","warn",3,"click"],["class","whitespace-nowrap","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",1,"whitespace-nowrap"],[1,"max-w-40","line-clamp-4","me-4"],[3,"OutFilter","icon","ListItem","ListFilter","filterItem"],["mat-cell",""],[1,"max-w-40","line-clamp-4","font-bold","text-blue-600"],[1,"max-w-40","line-clamp-4","flex","flex-row","space-x-2","items-center"],[1,"max-w-40","line-clamp-4"],[1,"max-w-40","line-clamp-4","font-bold","text-blue-600",3,"click"],["class","material-symbols-outlined text-blue-600",4,"ngIf"],[1,"material-symbols-outlined","text-blue-600"],[3,"click","qrdata","width","errorCorrectionLevel"],[1,"text-green-500"],[1,"text-red-500"],["mat-header-row",""],["mat-row","",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell","p-4"],[1,"flex","flex-col","space-y-8","items-center","justify-center"],[1,"font-bold"],[1,"flex","flex-row","space-x-2","items-center","justify-center"],["mat-flat-button","","color","primary","mat-dialog-close","true"],["mat-flat-button","","color","warn","mat-dialog-close","false"],[1,"!w-screen","!h-screen","!max-h-screen","!relative","!flex","flex-col","space-y-8","items-center","justify-center"],[1,"relative","flex","flex-row","space-x-2","items-center"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp IdSheet",3,"ngModelChange","ngModel","ngModelOptions"],["matInput","","placeholder","Vui l\xF2ng Nh\u1EADp SheetName",3,"ngModelChange","ngModel","ngModelOptions"],["matTooltip","Load D\u1EEF Li\u1EC7u","color","primary","mat-icon-button","",3,"click"],[1,"relative","h-full","w-full","overflow-auto"],[3,"ListItem","ColumnName","displayedColumns"],[1,"relative","flex","flex-row","space-x-2","items-center","justify-center"]],template:function(t,n){if(t&1){let r=L();c(0,"mat-drawer-container",7)(1,"mat-drawer",8,0),G(3,"router-outlet"),u(),c(4,"div",9),D(5,Yr,36,4,"div",10)(6,Wr,10,0,"div",11),c(7,"div",12)(8,"table",13),Je(9,go,3,1,"ng-container",14,kt),D(11,yo,1,0,"tr",15)(12,_o,1,3,"tr",16)(13,wo,3,0,"tr",17),u()(),c(14,"div",18)(15,"div",19)(16,"span",20),d(17,"\u0110ang Xem "),c(18,"strong"),d(19),u(),d(20," - "),c(21,"strong"),d(22),u(),d(23),u(),c(24,"div",21)(25,"span",22,1),d(27),u(),c(28,"mat-menu",null,2)(30,"div",23),S("click",function(a){return _(r),w(a.stopPropagation())}),c(31,"span"),d(32,"S\u1ED1 L\u01B0\u1EE3ng"),u(),c(33,"mat-form-field",24)(34,"input",25),Se("ngModelChange",function(a){return _(r),Ee(n.pageSize,a)||(n.pageSize=a),w(a)}),u()(),c(35,"button",26),S("click",function(){_(r);let a=Q(26);return w(n.onPageSizeChange(n.pageSize,a))}),d(36,"\xC1p D\u1EE5ng"),u()()(),c(37,"div",27)(38,"button",28),S("click",function(){return _(r),w(n.onPreviousPage())}),c(39,"mat-icon"),d(40,"keyboard_arrow_left"),u()(),c(41,"button",28),S("click",function(){return _(r),w(n.onNextPage())}),c(42,"mat-icon"),d(43,"keyboard_arrow_right"),u()()()()()()()(),D(44,Co,11,0,"ng-template",null,3,ve)(46,Eo,20,9,"ng-template",null,4,ve)(48,So,11,0,"ng-template",null,5,ve)}if(t&2){let r=Q(29);p(),q("position","end"),p(4),q("ngIf",!n.isSearch),p(),q("ngIf",n.isSearch),p(2),q("dataSource",n.dataSource),p(),Ge(n.displayedColumns),p(2),q("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),p(),q("matRowDefColumns",n.displayedColumns),p(7),Z((n.currentPage-1)*n.pageSize+1),p(3),Z(n.currentPage*n.pageSize>n.totalItems?n.totalItems:n.currentPage*n.pageSize),p(),Pt(" trong s\u1ED1 ",n.totalItems," m\u1EE5c, ",n.currentPage,"/",n.totalPages," Trang"),p(2),q("matMenuTriggerFor",r),p(2),k("Hi\u1EC7n Th\u1ECB : ",n.pageSize," m\u1EE5c"),p(7),Ce("ngModel",n.pageSize),q("ngModelOptions",xe(18,St)),p(4),q("disabled",n.currentPage===1),p(3),q("disabled",n.currentPage===n.totalPages)}},dependencies:[_n,yn,hn,gn,Cn,wn,Un,Mn,kn,Fn,An,Dn,Rn,Bn,Pn,Nn,Qn,Vn,Tn,Te,In,Ln,Ki,an,rn,nn,on,Zt,Wt,Xt,Ut,tn,en,Kt,$t,jt,En,Qt,Rt,Nt,un,sn,ln,cn,bn,qn,pn,mn,fn,jn,$n],encapsulation:2,changeDetection:0})};$e([xo()],ae.prototype,"FilterHederColumn",1),$e([qo(300)],ae.prototype,"doFilterHederColumn",1);var Ji=ae;function xo(){return function(i,e,t){let n=t.value,r=new Map;return t.value=function(...o){let a=JSON.stringify(o);if(r.has(a))return r.get(a);let s=n.apply(this,o);return r.set(a,s),s},t}}function qo(i=300){return function(e,t,n){let r=n.value,o;return n.value=function(...a){clearTimeout(o),o=setTimeout(()=>{r.apply(this,a)},i)},n}}export{Me as a,Ji as b};

import './polyfills.server.mjs';
import{a as B,d as H}from"./chunk-GLPDO6C2.mjs";import"./chunk-CFGAVFPW.mjs";import{a as $}from"./chunk-XGO7J54Y.mjs";import"./chunk-6GD6M3PX.mjs";import"./chunk-Y2756MZK.mjs";import{a as A}from"./chunk-HZXS572Q.mjs";import{k as j}from"./chunk-BT3LK5RL.mjs";import"./chunk-HGVYNUUA.mjs";import"./chunk-3VPIAQQA.mjs";import"./chunk-KYGAVK76.mjs";import{c as O}from"./chunk-AS2ZY7FQ.mjs";import{b as T}from"./chunk-OAMJ2D4W.mjs";import"./chunk-XUQS6BMS.mjs";import"./chunk-CREX4RSV.mjs";import"./chunk-WZNDKZHB.mjs";import"./chunk-GSGMFFZ6.mjs";import"./chunk-KANEWG3T.mjs";import"./chunk-73IBRO6I.mjs";import"./chunk-ZKIA472T.mjs";import"./chunk-NEXZGVPK.mjs";import"./chunk-ZPDI4CY6.mjs";import"./chunk-RBBE3QCJ.mjs";import"./chunk-FXI5HARD.mjs";import"./chunk-ZJKKS445.mjs";import"./chunk-CGTVUFRW.mjs";import{e as C,f as L}from"./chunk-LSHJY4XN.mjs";import"./chunk-KY3NJNLD.mjs";import{v as z,y as R}from"./chunk-IK7MXKXW.mjs";import"./chunk-32EHPFFO.mjs";import"./chunk-TGDDM6BV.mjs";import{a as P,b as N}from"./chunk-WKRJU6XC.mjs";import"./chunk-XKXP2RUB.mjs";import"./chunk-OCCMRY7J.mjs";import"./chunk-E7RUSUK7.mjs";import"./chunk-TOKOH7CU.mjs";import{b as I,e as D,f as U,h as k}from"./chunk-UQQNYJYM.mjs";import{K as F,l as _,q as w}from"./chunk-CUMEY6SW.mjs";import{$b as l,Eb as b,Ja as y,Qb as m,_b as n,ac as c,hd as E,ia as g,ib as v,mb as r,rb as x,vc as s,wc as d,xc as S,yb as M}from"./chunk-5VVDLW6A.mjs";import"./chunk-KB5IWD3E.mjs";import{j as u}from"./chunk-RIAI3ORJ.mjs";function W(p,i){if(p&1&&(n(0,"div")(1,"a",13)(2,"mat-icon"),s(3),l(),n(4,"span",14),s(5),l()()()),p&2){let e=i.$implicit;r(),m("routerLink",e.link),r(2),d(e.icon),r(2),d(e.title)}}var K=class p{constructor(i){this.sanitizer=i;E(()=>u(this,null,function*(){}))}isMenuOpen=!1;profileImageUrl="avatar.png";isLoading=!1;profile=y({});isEditAvatar=!1;files=[];_UserService=g(A);_uploadService=g(B);ProfileMenus=[{id:1,title:"Tin M\u1EDBi",link:"newsfeed",icon:"rss_feed"},{id:2,title:"S\u1EF1 Ki\u1EC7n",link:"socialpage",icon:"notifications"},{id:4,title:"Ho\u1EA1t \u0110\u1ED9ng",link:"activity",icon:"receipt_long"},{id:4,title:"Album \u1EA2nh",link:"gallery",icon:"image"}];ngOnInit(){return u(this,null,function*(){yield this._UserService.getProfile(),this.profile=this._UserService.profile})}getTrustUrl(i){return this.sanitizer.bypassSecurityTrustResourceUrl(i)}handlePaste(i){this.isLoading=!0;let e=i.clipboardData?.items;if(e)for(let o=0;o<e.length;o++){let a=e[o];if(a.type.indexOf("image")!==-1){let t=a.getAsFile();if(t){console.log("Pasted image:",t);let f=new File([t],`${this.profile().email.split("@")[0]}_${new Date().getTime()}.png`,{type:t.type});this._uploadService.uploadDriver(f).then(h=>{console.log(h),this.profile().Avatar=h.fileId,this.isLoading=!1,this.isEditAvatar=!1,this._UserService.updateUser(this.profile())})}}}}dropped(i){this.isLoading=!0,this.files=i;for(let e of i)e.fileEntry.isFile&&e.fileEntry.file(a=>{this._uploadService.uploadDriver(a).then(t=>{console.log(t),this.profile().Avatar=t.fileId,this.isLoading=!1,this.isEditAvatar=!1,this._UserService.updateUser(this.profile())})})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}openImageUploader(){}static \u0275fac=function(e){return new(e||p)(x(F))};static \u0275cmp=M({type:p,selectors:[["app-profile"]],decls:18,vars:5,consts:[[1,"relative","w-full","h-full"],["src","images/welcome_nam_bg.png","alt","Welcome Image",1,"p-2","rounded-3xl","absolute","top-0","right-0","h-full","w-full","object-cover"],[1,"h-full","relative","flex","flex-col","space-y","p-2","bg-slate-50/70"],[1,"container","flex","flex-row","gap-4","p-4"],["alt","avatar",1,"w-32","h-32","rounded-full","border","border-blue-100","shadow-lg",3,"src"],[1,"flex","flex-col","space-y-2"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-sm","text-gray-600"],["mat-flat-button","","color","primary",1,"flex","flex-row","gap-2",3,"href"],[1,"material-icons"],[1,"border-t","p-2","flex","items-center","justify-between"],[1,"flex","flex-row","items-center","flex-wrap","gap-2"],[4,"ngFor","ngForOf"],["mat-flat-button","","routerLinkActive","!bg-blue-500 !text-white",1,"flex","items-center",3,"routerLink"],[1,"whitespace-nowrap"]],template:function(e,o){if(e&1&&(n(0,"div",0),c(1,"img",1),n(2,"div",2)(3,"div",3),c(4,"img",4),n(5,"div",5)(6,"span",6),s(7),l(),n(8,"span",7),s(9),l(),n(10,"a",8)(11,"span",9),s(12,"edit"),l(),s(13," Ch\u1EC9nh S\u1EEDa "),l()()(),n(14,"div",10)(15,"div",11),b(16,W,6,3,"div",12),l()(),c(17,"router-outlet"),l()()),e&2){let a,t,f;r(4),m("src",((a=o.profile())==null?null:a.avatar)||"images/avatar_female.png",v),r(3),S("Ch\xE0o, ",(t=o.profile())==null?null:t.name,""),r(2),d((f=o.profile())==null?null:f.email),r(),m("href","admin/account",v),r(6),m("ngForOf",o.ProfileMenus)}},dependencies:[w,_,R,z,T,j,$,L,C,N,P,k,I,D,U,H,O],encapsulation:2})};export{K as ProfileComponent};

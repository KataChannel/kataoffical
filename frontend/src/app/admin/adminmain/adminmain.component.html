<mat-drawer-container class="!w-screen !h-screen" autosize>
  <mat-drawer #drawer class="" mode="side" position="start">
    <div class="relative h-full flex flex-col space-y-2 !bg-[#0B9444] !text-white">
      <div class="relative flex flex-col space-y-2 p-2">
        <img [src]="Config.Logoimage" class="h-20 object-contain rounded-lg bg-white p-2" alt="Logo">
      </div>
      <div class="relative flex flex-col space-y-2 h-full overflow-auto p-2">
          <div class="relative w-full">
              <input type="text"
                  placeholder="Tìm Kiếm..."
                  #search (input)="searchFunction($event)"
                  class="block w-full pl-10 pr-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40">
              <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                  <span class="material-symbols-outlined text-gray-500">search</span>
              </div>
          </div>
        <app-treemenu [ListMenu]="FilterListMenu"></app-treemenu>
      </div>
      <div class="relative w-full justify-between flex flex-row space-x-2 items-center p-2">
        <div class="flex flex-row space-x-2">
          <img [src]="User?.Avatar" alt="Avatar" class="max-w-14 max-h-14 object-cover rounded-full">
          <div class="flex flex-col">
            <div class="font-bold">{{User?.Hoten}}</div>
            <div class="italic text-xs">{{User?.Vitri}}</div>
            <div class="italic text-xs">{{User?.email}}</div>    
          </div>
        </div>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <a [routerLink]="['/admin/profile']" mat-menu-item>
            <mat-icon>account_circle</mat-icon>
            <span>Profile</span>
          </a>
          <a [routerLink]="['/admin/account']" mat-menu-item>
            <mat-icon>account_circle</mat-icon>
            <span>Account</span>
          </a>
          <button mat-menu-item>
            <mat-icon>settings</mat-icon>
            <span>Settings</span>
          </button>
          <button mat-menu-item  (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
          </button>
        </mat-menu>
      </div>
    </div>
  </mat-drawer>

  <div class="relative flex flex-col w-full h-full primary">
    <div class="relative flex flex-row space-x-2 justify-between items-center p-1 bg-[#57A345]">
      <div class="flex flex-row space-x-2 items-center">
        <button mat-icon-button (click)="drawer.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
        <!-- <button mat-icon-button><mat-icon>search</mat-icon></button> -->
        <div (click)="openSearchDialog()" class="relative max-w-xl flex flex-row items-center search-input-container">
          <input type="text" placeholder="Tìm Kiếm..."
            class="block w-full pl-10 pr-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40"
            readonly>
          <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
            <span class="material-symbols-outlined text-gray-500">search</span>
          </div>
        </div>

      </div>
      <div class="flex flex-row space-x-2 items-center">
        <button mat-icon-button (click)="ClearCache()">
          <mat-icon>cached</mat-icon>
        </button>
        <button mat-icon-button (click)="drawer1.toggle();isQuytrinh=true">
          <mat-icon>dashboard</mat-icon>
        </button>
        <button mat-icon-button (click)="drawer1.toggle()">
          <mat-icon>notifications</mat-icon>
        </button>
        <button mat-icon-button (click)="drawer1.toggle()">
          <mat-icon>chat</mat-icon>
        </button>
        <button mat-icon-button [matMenuTriggerFor]="menu1">
          <mat-icon>account_circle</mat-icon>
        </button>
        <mat-menu #menu1="matMenu">
          <div class="flex flex-row space-x-2 items-center p-4">
            <img [src]="User?.Avatar" alt="Avatar" class="max-w-14 max-h-14 object-cover rounded-full">
            <div class="flex flex-col">
              <div class="font-bold">{{User?.Hoten}}</div>
              <div class="italic text-xs">{{User?.Vitri}}</div>
              <div class="italic text-xs">{{User?.email}}</div>
            </div>
          </div>
          <a [href]="'/admin/profile'" mat-menu-item>Thông Tin</a>
          <button mat-menu-item>Cài Đặt</button>
          <button mat-menu-item (click)="logout()">Đăng Xuất</button>
        </mat-menu>

      </div>
    </div>
    
    <router-outlet></router-outlet>
  </div>


  <mat-drawer #drawer1 class="!w-screen lg:!w-1/2" mode="over" position="end">
    <div class="relative h-full flex flex-col space-y-2 p-2">
      <div class="flex flex-row space-x-2 items-center">
          <button mat-icon-button (click)="drawer1.toggle()">
            <mat-icon>arrow_back</mat-icon>
          </button>
          <span class="font-bold">Quy Trình</span>
       </div>
       <div class="relative flex w-full overflow-auto">
        <app-commonuserguide [Detail]="DetailUserguide()"></app-commonuserguide>
       </div>
    </div>
  </mat-drawer>
</mat-drawer-container>
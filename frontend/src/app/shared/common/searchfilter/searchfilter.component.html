<button *ngIf="!icon" mat-flat-button color="primary" [disabled]="!isEdit()" [matMenuTriggerFor]="menu" #menuTrigger="matMenuTrigger">
    {{CountItems}} {{title}}
</button>
<button *ngIf="icon" mat-icon-button color="primary" [matMenuTriggerFor]="menu" #menuTrigger="matMenuTrigger">
    <mat-icon>{{icon}}</mat-icon>
</button>
 <mat-menu #menu="matMenu">
             <div (click)="$event.stopPropagation()"  class="cursor-pointer flex flex-col space-y-4 p-3">                                        
             <div class="relative w-full">
                 <input type="text"
                     placeholder="Tìm Kiếm..." (keyup)="doFilterItem($event,fieldsearch)"
                     class="block w-full pl-10 pr-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40">
                 <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                     <span class="material-symbols-outlined text-gray-500">search</span>
                 </div>
             </div>
             <div class="flex flex-row space-x-2 items-center justify-between">
                 <div class="flex flex-row space-x-2 items-center">
                     <span class="text-xs text-blue-600 underline" (click)="ChosenAll()">Chọn Tất Cả</span>
                     <span class="text-xs text-blue-600 underline" (click)="RemoveAll()">Xoá</span>
                 </div>

                 <span class="text-xs text-blue-600 underline" (click)="DoListFilter()">{{ListFilter.length||0}} Đang chọn</span>
             </div>
             <div class="w-full flex flex-col space-y-2 max-h-44 overflow-auto">
                     <div *ngFor="let item of filterItem; trackBy:trackByFn" (click)="ChosenItem(item)" class="flex flex-row space-x-2 items-center p-2 rounded-lg hover:bg-slate-100">
                        <span *ngIf="CheckItem(item)" class="material-symbols-outlined text-blue-600">check</span>   
                        {{item[fieldsearch]}}                      
                     </div>
             </div>
             <div class="flex flex-row space-x-2 items-end justify-end">
                 <button mat-flat-button color="warn" (click)="menuTrigger.closeMenu()">Đóng</button>
                 <button mat-flat-button color="primary" (click)="ApplyFilterColum(menuTrigger)" >Áp Dụng</button>
             </div>
             </div>
 </mat-menu>
# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type TestItem {
  name: String!
  value: Float!
}

"""Nhóm khách hàng entity"""
type Nhomkhachhang {
  """ID của nhóm khách hàng"""
  id: ID!

  """Tên nhóm khách hàng"""
  name: String!

  """Mô tả nhóm khách hàng"""
  description: String

  """Ngày tạo"""
  createdAt: DateTime!

  """Ngày cập nhật"""
  updatedAt: DateTime!

  """Danh sách khách hàng trong nhóm"""
  khachhang: [KhachhangBasic!]
}

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar DateTime

"""Thông tin cơ bản của khách hàng"""
type KhachhangBasic {
  """ID khách hàng"""
  id: ID!

  """Tên khách hàng"""
  name: String

  """Tên khách hàng (tenkh)"""
  tenkh: String

  """Địa chỉ khách hàng"""
  diachi: String

  """Số điện thoại"""
  sdt: String

  """Email"""
  email: String

  """Trạng thái hoạt động"""
  isActive: Boolean!
}

"""Kết nối phân trang cho nhóm khách hàng"""
type NhomkhachhangConnection {
  """Danh sách nhóm khách hàng"""
  data: [Nhomkhachhang!]!

  """Tổng số bản ghi"""
  total: Int!

  """Trang hiện tại"""
  page: Int!

  """Số lượng mỗi trang"""
  limit: Int!

  """Tổng số trang"""
  totalPages: Int!

  """Có trang tiếp theo"""
  hasNextPage: Boolean!

  """Có trang trước"""
  hasPreviousPage: Boolean!
}

"""Response cho các mutation"""
type NhomkhachhangMutationResponse {
  """Trạng thái thành công"""
  success: Boolean!

  """Thông báo"""
  message: String

  """Dữ liệu nhóm khách hàng"""
  data: Nhomkhachhang
}

type AggregateCount {
  _all: Int!
}

type AggregateSum {
  tongtien: Float
  tongvat: Float
}

type AggregateResult {
  _count: AggregateCount!
  _sum: AggregateSum
}

type DailyMonthlyReportItem {
  period: String!
  totalDonhang: Int!
  totalDathang: Int!
  totalRevenue: Float!
  totalProfit: Float!
}

type SanphamInfo {
  id: String!
  title: String
  masp: String
}

type TopProductItem {
  sanpham: SanphamInfo!
  totalQuantity: Float!
  totalValue: Float!
}

type Query {
  testQuery: [TestItem!]!

  """Lấy danh sách nhóm khách hàng với phân trang và lọc"""
  getNhomkhachhang(filter: NhomkhachhangFilterInput, pagination: NhomkhachhangPaginationInput, sort: NhomkhachhangSortInput): NhomkhachhangConnection!

  """Lấy nhóm khách hàng theo ID"""
  getNhomkhachhangById(id: ID!): Nhomkhachhang!

  """Lấy tất cả nhóm khách hàng đơn giản (cho dropdown)"""
  getAllNhomkhachhangSimple: [Nhomkhachhang!]!

  """
  Enhanced dynamic findMany with intelligent field selection and DataLoader optimization
  """
  findMany(
    """Model name (case-insensitive)"""
    modelName: String!

    """Filter conditions"""
    where: JSON

    """Sort conditions"""
    orderBy: JSON

    """Records to skip for pagination"""
    skip: Float = 0

    """Maximum records to return (max 999999)"""
    take: Float = 999999

    """Relations to include"""
    include: JSON

    """Specific fields to select"""
    select: JSON
  ): JSON!

  """Enhanced dynamic findUnique with field selection optimization"""
  findUnique(
    """Model name (case-insensitive)"""
    modelName: String!

    """Unique identifier conditions"""
    where: JSON!

    """Relations to include"""
    include: JSON

    """Specific fields to select"""
    select: JSON
  ): JSON!

  """Test query to verify select functionality works"""
  testSelectQuery(modelName: String! = "dathang"): JSON!
  getAvailableModels: [String!]!

  """Get metadata about a model for optimization"""
  modelMetadata(
    """Model name to get metadata for"""
    modelName: String!
  ): JSON!

  """Enhanced aggregate operations for statistical calculations"""
  aggregate(
    """Model name (case-insensitive)"""
    modelName: String!

    """Aggregation operations to perform (e.g., { _max: { order: true } })"""
    aggregations: JSON!

    """Filter conditions for aggregation"""
    where: JSON
  ): JSON!
  aggregateDonhang(batdau: String, ketthuc: String): AggregateResult!
  aggregateDathang(batdau: String, ketthuc: String): AggregateResult!
  aggregateSanpham: AggregateResult!
  aggregateKhachhang: AggregateResult!
  aggregateNhacungcap: AggregateResult!
  dailyMonthlyReport(batdau: String!, ketthuc: String!, groupBy: String!): [DailyMonthlyReportItem!]!
  topProductsByQuantity(batdau: String!, ketthuc: String!, limit: Int!): [TopProductItem!]!
  topProductsByValue(batdau: String!, ketthuc: String!, limit: Int!): [TopProductItem!]!
}

input NhomkhachhangFilterInput {
  """Tìm kiếm theo tên"""
  name: String

  """Tìm kiếm theo mô tả"""
  description: String

  """Tìm kiếm chung"""
  search: String
}

input NhomkhachhangPaginationInput {
  """Trang hiện tại"""
  page: Float = 1

  """Số lượng mỗi trang"""
  limit: Float = 10
}

input NhomkhachhangSortInput {
  """Trường sắp xếp"""
  field: String = "createdAt"

  """Hướng sắp xếp: asc hoặc desc"""
  direction: String = "desc"
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type Mutation {
  """Tạo nhóm khách hàng mới"""
  createNhomkhachhang(input: CreateNhomkhachhangInput!): NhomkhachhangMutationResponse!

  """Cập nhật nhóm khách hàng"""
  updateNhomkhachhang(id: ID!, input: UpdateNhomkhachhangInput!): NhomkhachhangMutationResponse!

  """Xóa nhóm khách hàng"""
  deleteNhomkhachhang(id: ID!): NhomkhachhangMutationResponse!

  """Thêm khách hàng vào nhóm"""
  addKhachhangToNhom(input: ManageKhachhangInNhomInput!): NhomkhachhangMutationResponse!

  """Xóa khách hàng khỏi nhóm"""
  removeKhachhangFromNhom(input: ManageKhachhangInNhomInput!): NhomkhachhangMutationResponse!
  createRecord(modelName: String!, data: JSON!): JSON!
  updateRecord(modelName: String!, where: JSON!, data: JSON!, include: JSON, select: JSON): JSON!
  deleteRecord(modelName: String!, where: JSON!): JSON!

  """Enhanced dynamic create with optimized response"""
  createOne(
    """Model name (case-insensitive)"""
    modelName: String!

    """Data to create"""
    data: JSON!

    """Relations to include in response"""
    include: JSON

    """Specific fields to select in response"""
    select: JSON
  ): JSON!

  """Enhanced dynamic update with optimized response"""
  updateOne(
    """Model name (case-insensitive)"""
    modelName: String!

    """Unique identifier conditions"""
    where: JSON!

    """Data to update"""
    data: JSON!

    """Relations to include in response"""
    include: JSON

    """Specific fields to select in response"""
    select: JSON
  ): JSON!

  """Enhanced dynamic delete operation"""
  deleteOne(
    """Model name (case-insensitive)"""
    modelName: String!

    """Unique identifier conditions"""
    where: JSON!
  ): JSON!

  """Enhanced batch create for multiple records"""
  batchCreate(
    """Model name (case-insensitive)"""
    modelName: String!

    """Array of data objects to create"""
    data: [JSON!]!
  ): JSON!

  """Enhanced batch delete for multiple records"""
  batchDelete(
    """Model name (case-insensitive)"""
    modelName: String!

    """Array of IDs to delete"""
    ids: [String!]!
  ): JSON!

  """Clear DataLoader cache for better performance testing"""
  clearDataLoaderCache(
    """Specific model to clear cache for (optional)"""
    modelName: String
  ): JSON!
}

input CreateNhomkhachhangInput {
  """Tên nhóm khách hàng"""
  name: String!

  """Mô tả nhóm khách hàng"""
  description: String
}

input UpdateNhomkhachhangInput {
  """Tên nhóm khách hàng"""
  name: String

  """Mô tả nhóm khách hàng"""
  description: String
}

input ManageKhachhangInNhomInput {
  """ID của nhóm khách hàng"""
  nhomId: String!

  """Danh sách ID khách hàng"""
  khachhangIds: [String!]!
}